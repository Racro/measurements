typeof browser<"u"&&(chrome=browser),(()=>{"use strict";var AM={};let P=chrome.runtime.getManifest().debug||!1;function yM(){return P}function LM(M=!0){P=M}function R(...M){const e=M.toString().toLowerCase().includes("error");return M.unshift(`${new Date().toLocaleTimeString()}	`),e?(console.error(...M),console.trace()):console.log(...M),!0}function l(...M){return P?R(...M):!1}function K(...M){return new Promise((e,s)=>{chrome.storage.local.get(M.length?M:null,D=>{if(chrome.runtime.lastError)l("prefsGet ERROR",chrome.runtime.lastError),s(chrome.runtime.lastError);else{let j=null;if(M.length<=0)j=D;else if(M.length===1){const z=M[0];D&&D.hasOwnProperty(z)&&(j=D[z])}else j={},M.forEach(z=>{j[z]=null,D&&D.hasOwnProperty(z)&&(j[z]=D[z])});e(j)}})})}function q(M){if(M==null)throw new Error("Bad argument");return new Promise((e,s)=>{try{chrome.storage.local.set(M,()=>{chrome.runtime.lastError?(R("prefsSet ERROR",chrome.runtime.lastError),s(chrome.runtime.lastError)):e(M)})}catch(D){R("prefsSet ERROR",D),s(D)}})}function rM(M,e){return typeof e>"u"?K(M):q({[M]:e})}function aM(M){let e=0,s,D;if(M.length===0)return e;for(D=0;D<M.length;D++)s=M.charCodeAt(D),e=(e<<5)-e+s,e&=e;return e}function wM(M){const s=M.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),D=decodeURIComponent(window.atob(s).split("").map(j=>`%${`00${j.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));return JSON.parse(D)}function uM(){return new Date().toISOString().split("T")[0]}const $=()=>{chrome.runtime.lastError&&l("defaultCallback error:",chrome.runtime.lastError)};function MM(M,e,s=""){return new Promise(D=>{chrome.runtime.sendMessage({name:M,message:e,origin:s},j=>{chrome.runtime.lastError&&(l(chrome.runtime.lastError,M,e),D(!1)),D(j)})})}function Q(M,e,s="",D=$()){return l("Panel sendMessage: sending to background",M),chrome.runtime.sendMessage({name:M,message:e,origin:s},D)}function lM(M){M.preventDefault();let e=M.target;for(;!e.href;)e=e.parentElement;const{href:s}=e;Q("openNewTab",{url:s,become_active:!0})}function OM(){Q("account.openSubscriptionPage"),window.close()}function xM(M){Q("account.openCheckoutPage",{utm:M}),window.close()}function CM(M){M.preventDefault(),Q("account.openSupportPage"),window.close()}function QM(M){M.preventDefault(),Q("openAccountAndroid")}function NM(M){function e(j,z){return MM(j,z,M)}function s(j,z,n){l(`origin ${M} sending to handler`,j),Q(j,z,M,n)}function D(j,z,n){l(`origin ${M} sending to background onMessageHandler`,j),Q(j,z,"",n)}return{sendMessageInPromise:e,sendMessage:s,sendMessageToBackground:D}}const DM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAeCAYAAAAy2w7YAAAAAXNSR0IArs4c6QAAAmdJREFUSA3Flj1rFFEUhh0VAjEfEhNQoiBmgyKIRZLKZqOghVhYpNAy4EIsFG20Eiv9E/4DISZFfkIEo4UgSWGMWKlgihQmhRDX592dMx7v3p3ZWVg88Ow93+fOnZ2dTQ4USL1eHyPlJlyH83AcJN9hA1ZgMUmSbdbywoABeA4/oUiU8wwGSk2i4BxsQFlZp+BsR8NInITtshNc/g/0Su4wEo7ApivqVv2oXn7YQW+gP4ZwN7v4XsJnCEU+xfaCwCT2o8DXNNnBEOxFLqGqDPzD4K9Wux5KY7OROvUaVPwfwXk7krzqk4jfdzn3gthrFzP1luX4o6ua063rTpeq58YkjIW28qqW7AedNKdbjzpd6rCzw1hoKzXr6QeNuiamXuEM+s1gvRHT05zLLmbqMVOyleQ1O9hgXcK+CA9h38WkPwDFlp3fq2+yAaYQbTfIF5bVs0H+6GymX79hiCL5SkJuXtGgEzRYgLWcSYrdBeW2lcNtI38Dd1AvgV4Tc2C/HJ/Q9auwAsvQmRTcoyftulD3NOfGZfcoqyf5bU6BQoswYQXoFXgFeZIdeeIKdRRZI/NHVr1ZJfambVrxzy3evI2jbgxiS33k7cKheH7X3n0q+xn2y751Uz0Yot1p4zNSbNA1GT2Sq+qbcGw6vk3o5P6opqzo5VjRFc1Cr4ZoU2c0Q4NqsnosNR3dDkP0nvkNH0DHeBqmoRt5R9EX0P+GC6CL2dF/gXmYgxEcDUHXBl5AWVFN45FRI/QRUO/5ZufIJ8FBeA8mqyg1GE+RLp+Jclv/jER6t7go7IMqnGoJpg7F0hw99P9f/gBf4Jq0CsaoiAAAAABJRU5ErkJggg==",eM="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxNXB4IiBoZWlnaHQ9IjE1cHgiIHZpZXdCb3g9IjAgMCAxNSAxNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuNy4yICgyODI3NikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+DQogICAgPHRpdGxlPmNvbGxhcHNlIGNvcHkgMjwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+PC9kZWZzPg0KICAgIDxnIGlkPSJQdXJwbGUtQm94IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9ImNvbGxhcHNlLWNvcHktMiI+DQogICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsLTMxNSIgZmlsbC1vcGFjaXR5PSIwLjI3MDE1Mzk4NiIgZmlsbD0iI0Q4RDhEOCIgY3g9IjcuNSIgY3k9IjcuNSIgcj0iNy41Ij48L2NpcmNsZT4NCiAgICAgICAgICAgIDxwYXRoIGQ9Ik00LjM2LDQuMzYgTDEwLjU3NDU2MzQsMTAuNTc0NTYzNCIgaWQ9IkxpbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+PC9wYXRoPg0KICAgICAgICAgICAgPHBhdGggZD0iTTQuMzYsNC4zNiBMMTAuNTc0NTYzNCwxMC41NzQ1NjM0IiBpZD0iTGluZS1Db3B5IiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcuNjAwMDAwLCA3LjYwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtNy42MDAwMDAsIC03LjYwMDAwMCkgIj48L3BhdGg+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4=",gM="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQwICgzMzc2MikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+DQogICAgPHRpdGxlPmJyZWFraW5ncGFnZTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+PC9kZWZzPg0KICAgIDxnIGlkPSJQdXJwbGUtQm94IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQxNi4wMDAwMDAsIC00NTMuMDAwMDAwKSIgaWQ9ImJhbSEtYnJlYWtpbmctdGhlLXBhZ2UtY29weS0yIiBmaWxsPSIjRkNCQTMzIj4NCiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQxNi4wMDAwMDAsIDQ1My4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOSwwLjE5NTY1MjE3NCBDNC4xNDQzNjAyNSwwLjE5NTY1MjE3NCAwLjE5NTY1MjE3NCw0LjE0NDM2MDI1IDAuMTk1NjUyMTc0LDkgQzAuMTk1NjUyMTc0LDEzLjg1NTYzOTggNC4xNDQzNjAyNSwxNy44MDQzNDc4IDksMTcuODA0MzQ3OCBDMTMuODU1NjM5OCwxNy44MDQzNDc4IDE3LjgwNDM0NzgsMTMuODU1NjM5OCAxNy44MDQzNDc4LDkgQzE3LjgwNDM0NzgsNC4xNDQzNjAyNSAxMy44NTU2Mzk4LDAuMTk1NjUyMTc0IDksMC4xOTU2NTIxNzQgWiBNMTEuNDg1NTg5OSwxMy40MTA0NDQxIEwxMS4wNzcwNzk4LDEzLjAyMDY3NjggTDEyLjEwMDQ3MTEsMTIuMjE2OTU3OSBMMTEuMDQ2MjQ1MSwxMi4yMTY5NTc5IEwxMS4yMzQ0NzgxLDEwLjg3MDcwODcgTDkuODAzMTgxNDIsMTEuNzk1NzUxMiBMOS40MDMzMzczNCw5LjM0NTA5MzkyIEw4LjY5NDc0MjY5LDExLjA4NjU1MTkgTDcuMzI1NzIwMDksMTAuMTcwOTgxNSBMNy43NTI1Njk3NywxMS45Mjk1NyBMNi41NTQyNDY3MywxMi4zMTE0Nzc1IEw3Ljg4MjM1Nzg3LDEzLjQxMDQ0NDEgTDExLjQ4NTU4OTksMTMuNDEwNDQ0MSBaIE02LjcxNTY3NTcyLDEzLjQxMDQ0NDEgTDUuMDI4NjMxOTcsMTIuMDA2NzU3NiBMNi44Njg0Mzg3MywxMS40MzE5ODE4IEw2LjE2Mzg3NDc3LDguNDg4NTczMDkgTDguMzQ5MzEyODgsOS45NTk5NzUxMiBMOS43MDQwMjY1NCw2LjYxMjQ5MDE1IEwxMC4zNTAzNDcxLDEwLjU1NjcxODIgTDEyLjE5NDk5MDcsOS4zNzY1MzMyOCBMMTEuODk4OTM2OCwxMS40NzY5MjM5IEwxNC4yNjI5MzQzLDExLjQ3NjkyMzkgTDEyLjIxMjkyNzIsMTMuMDc4OTIwMiBMMTIuNTY3MjI0NSwxMy40MTA0NDQxIEwxNS4zMzEyNjc3LDEzLjQxMDQ0NDEgTDE0LjQ3Mzk0MDcsMTIuNTk4NjYzOSBMMTcuMjA3MzUwNiwxMC40NjY4MzM5IEwxMy4wNjA3ODIxLDEwLjQ2NjgzMzkgTDEzLjQ5NjI5NzcsNy4zNDg2OTUgTDExLjA5OTg1MzIsOC44Nzg5NDUwNSBMMTAuMTIxMjAyNiwyLjg5Mjc3MTMgTDcuODc3NzIyNTgsOC40MjU0OTI4NSBMNC41NzA1NDQ0Nyw2LjIwMzk4MDEgTDUuNjY1NDgwNDEsMTAuNzUwMzkyNyBMMi45NTEwMTQ3MiwxMS41OTgyNDc2IEw1LjEzNjQ1MjgzLDEzLjQxMDQ0NDEgTDYuNzE1Njc1NzIsMTMuNDEwNDQ0MSBaIiBpZD0iYnJlYWtpbmdwYWdlIj48L3BhdGg+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4=",tM="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxN3B4IiBoZWlnaHQ9IjE3cHgiIHZpZXdCb3g9IjAgMCAxNyAxNyIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQwICgzMzc2MikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+DQogICAgPHRpdGxlPnNsb3d0cmFja2VyczwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+PC9kZWZzPg0KICAgIDxnIGlkPSJQdXJwbGUtQm94IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM5NS4wMDAwMDAsIC00NTQuMDAwMDAwKSIgaWQ9InNsb3d0cmFja2VycyIgZmlsbD0iI0ZDQkEzMyI+DQogICAgICAgICAgICA8cGF0aCBkPSJNNDAzLjUsNDU0IEMzOTguODEyMjEsNDU0IDM5NSw0NTcuODEyMjEgMzk1LDQ2Mi41IEMzOTUsNDY3LjE4Nzc5IDM5OC44MTIyMSw0NzEgNDAzLjUsNDcxIEM0MDguMTg3NzksNDcxIDQxMiw0NjcuMTg3NzkgNDEyLDQ2Mi41IEM0MTIsNDU3LjgxMjIxIDQwOC4xODc3OSw0NTQgNDAzLjUsNDU0IFogTTQwOS42MDk1ODQsNDY1LjE3ODY1NCBDNDA5LjUzMDI1OSw0NjUuMTU0MDkgNDA4LjY3NzI4Myw0NjQuNzQ2NDIgNDA3LjU2MTA5MSw0NjQuMzYyNjM3IEM0MDguNDg0Mzc4LDQ2My43NDU2MSA0MDkuMDk0NDE4LDQ2Mi42OTM2NDUgNDA5LjA5NDQxOCw0NjEuNTAxNzMzIEM0MDkuMDk0NDE4LDQ1OS42MDU1ODEgNDA3LjU1MTQwMSw0NTguMDYyMzM4IDQwNS42NTUyNDksNDU4LjA2MjMzOCBDNDAzLjc1OTA5Nyw0NTguMDYyMzM4IDQwMi4yMTU4NTQsNDU5LjYwNTU4MSA0MDIuMjE1ODU0LDQ2MS41MDE3MzMgQzQwMi4yMTU4NTQsNDYyLjA0OTM1IDQwMi4zNDUyMDgsNDYyLjU2Njc2OSA0MDIuNTczMjY5LDQ2My4wMjY0OTcgQzQwMi43ODgwMzQsNDYzLjA2ODYzOCA0MDMuMzQ0NDQsNDYzLjE3NTIzMiA0MDQuMjIzNzgyLDQ2My4zMjM5NjggQzQwNS4yMDQ1MzUsNDYzLjQ5MDI4MSA0MDUuODUyNDM2LDQ2My4zNTY0MTkgNDA2LjM5MTAzOSw0NjIuODc2NjM0IEM0MDYuNzI4MTcyLDQ2Mi41NzY0NTkgNDA2LjkyODA2NCw0NjIuMTYzNjA2IDQwNi45NTM1MjksNDYxLjcxMzc5NCBDNDA2Ljk4MDEyMSw0NjEuMjYzOTgxIDQwNi44Mjk1ODMsNDYwLjgyOTk0NCA0MDYuNTI5NDA4LDQ2MC40OTM3MTIgQzQwNi4wNDY5MTksNDU5Ljk1MjQwNSA0MDUuMjE1MTI3LDQ1OS45MDM5NTMgNDA0LjY3MjY5Myw0NjAuMzg1NTQxIEM0MDQuMjM5NTU3LDQ2MC43NzExMjYgNDA0LjE4NTAyMSw0NjEuNDQ0NDkyIDQwNC41NTIxMjcsNDYxLjg1NzM0NiBDNDA0Ljg0MDEzMyw0NjIuMTgwNTA3IDQwNS4zNjk5NDcsNDYyLjIxNzQ2NiA0MDUuNjg2Nzk5LDQ2MS45MzU3NyBDNDA1LjgwMzk4NCw0NjEuODMxODggNDA1Ljg3MzM5NCw0NjEuNjkyODM1IDQwNS44ODA2MDYsNDYxLjU0NDc3NiBDNDA1Ljg4NjY5LDQ2MS40MjQyMSA0MDUuODUwNjMzLDQ2MS4zMTA2MyA0MDUuNzgwOTk4LDQ2MS4yMzQwMDkgQzQwNS43MTg1NzQsNDYxLjE2NTUgNDA1LjYxOTE5Miw0NjEuMTI3NjQxIDQwNS41MTY4OCw0NjEuMTI4NTQyIEM0MDUuNDI5ODkyLDQ2MS4xMzEwMjEgNDA1LjMxNzIxNCw0NjEuMTY1NSA0MDUuMjQ0MTk4LDQ2MS4yMzc2MTUgQzQwNS4yMjYzOTUsNDYxLjI1NDI5MSA0MDUuMjA0NTM1LDQ2MS4yNjQ4ODMgNDA1LjE3OTc0Niw0NjEuMjY0ODgzIEM0MDUuMTI2MTExLDQ2MS4yNjQ4ODMgNDA1LjA4MzA2OCw0NjEuMjE2NDMxIDQwNS4wODMwNjgsNDYxLjE1NzYxMyBDNDA1LjA4MzA2OCw0NjEuMTIxMzMxIDQwNS4wOTc5NDEsNDYxLjA5NDk2NCA0MDUuMTE2NDIxLDQ2MS4wNjk0OTggQzQwNS4yMjYzOTUsNDYwLjkxODk2IDQwNS4zODE0NCw0NjAuODMxNzQ3IDQwNS41MzUzNTksNDYwLjgxODY3NiBDNDA1Ljc0NDAzOSw0NjAuODAxMDk5IDQwNS45MTMwNTcsNDYwLjg2MDgxOCA0MDYuMDQ2OTE5LDQ2MS4wMDc3NTEgQzQwNi4xNzk4NzksNDYxLjE1NDAwNyA0MDYuMjQ5Mjg5LDQ2MS4zNDg0OSA0MDYuMjM3MTIsNDYxLjU2MzI1NSBDNDA2LjIyMzgyNCw0NjEuODA2MTkgNDA2LjExMjk0OCw0NjIuMDMyNDQ4IDQwNS45MjM2NDksNDYyLjIwMDU2NCBDNDA1LjQ1NzE2LDQ2Mi42MTYxMjIgNDA0LjcwNzE3Myw0NjIuNTY2MDkzIDQwNC4yODU1Myw0NjIuMDkzMjk0IEM0MDMuNzg5NzQ1LDQ2MS41MzU5ODcgNDAzLjg1ODQ3OSw0NjAuNjMyMDgxIDQwNC40MzUxNjcsNDYwLjExNzgxNyBDNDA1LjEyMzQwNyw0NTkuNTA1Mjk3IDQwNi4xODI1ODQsNDU5LjU2NjgyIDQwNi43OTQyMDIsNDYwLjI1NTI4NCBDNDA3LjE1NzAyNiw0NjAuNjYyNzMgNDA3LjM0MDAxNiw0NjEuMTg4MjYyIDQwNy4zMDg0NjYsNDYxLjczMzE3NCBDNDA3LjI3NjY5MSw0NjIuMjc4OTg4IDQwNy4wMzQ2NTgsNDYyLjc3OTA1NSA0MDYuNjI2OTg3LDQ2My4xNDE2NTQgQzQwNi4xNjgzODYsNDYzLjU1MDIyNiA0MDUuNjMyMjYyLDQ2My43NDY1MTIgNDA0Ljk0NjUwMiw0NjMuNzQ2NTEyIEM0MDQuNzA1MzcsNDYzLjc0NjUxMiA0MDQuNDQ0ODU3LDQ2My43MjE3MjIgNDA0LjE2MzE2Miw0NjMuNjc0Mzk3IEM0MDMuMTkyMDk5LDQ2My41MDk2NjIgNDAyLjE1NTAwNyw0NjMuMzI0ODY5IDQwMi4wMTU5NjIsNDYzLjMwNTQ4OCBDNDAxLjMxNzEzMSw0NjMuMjEyMTkxIDQwMC43MzYxNjEsNDYyLjczNzU4OSA0MDAuNzE3NjgyLDQ2Mi4wMzk2NTkgTDQwMC44OTQ1ODcsNDU4Ljk4NzY1MyBDNDAwLjg5NDU4Nyw0NTguNzkxMzY3IDQwMC43MzUyNiw0NTguNjMxMTM4IDQwMC41MzgwNzIsNDU4LjYzMTEzOCBDNDAwLjM0MDg4NSw0NTguNjMxMTM4IDQwMC4xODE1NTgsNDU4Ljc5MDQ2NSA0MDAuMTgxNTU4LDQ1OC45ODc2NTMgQzQwMC4xODE1NTgsNDU4Ljk4NzY1MyA0MDAuMjg1NDQ3LDQ2MC44NDE0MzcgNDAwLjI5NzYxNyw0NjEuMDc1NTgzIEM0MDAuMzIwNjAzLDQ2MS41MjAyMTIgMzk5LjkxMTEzLDQ2MS44NzY3MjYgMzk5LjQ2MDQxNiw0NjEuODc2NzI2IEMzOTguOTk4NDM1LDQ2MS44NzY3MjYgMzk4LjU4NzE1OSw0NjEuNTAwODMxIDM5OC42MjM0NDEsNDYxLjAzOTUyNiBDMzk4LjY0MzQ5OCw0NjAuNzg0MTk3IDM5OC42NjQ2ODIsNDYwLjUyMDA3OSAzOTguNjg1ODY1LDQ2MC4yNzI4NjIgTDM5OC43NTk3ODIsNDU5LjAwOTUxMiBDMzk4Ljc1OTc4Miw0NTguODEzMjI2IDM5OC42MDA0NTUsNDU4LjY1Mjk5OCAzOTguNDAzMjY4LDQ1OC42NTI5OTggQzM5OC4yMDYwOCw0NTguNjUyOTk4IDM5OC4wNDY3NTMsNDU4LjgxMjMyNSAzOTguMDQ2NzUzLDQ1OS4wMDk1MTIgTDM5OC4yMjAyNzgsNDYxLjk5OTk5NyBMMzk4LjIyMDI3OCw0NjIuMDA1MTggQzM5OC4yMjAyNzgsNDY0LjA5NzYxNyAzOTkuNDE3MzczLDQ2NS44MDI4OTIgNDAxLjUxMDcxMiw0NjUuODAxMDg5IEM0MDMuNjIyNTMxLDQ2NS43OTgzODUgNDA5LjYwODY4Myw0NjUuODAxMDg5IDQwOS42MDg2ODMsNDY1LjgwMTA4OSBDNDA5Ljc4MTA4MSw0NjUuODAxMDg5IDQwOS45MjAzNTEsNDY1LjY2MTE0MyA0MDkuOTIwMzUxLDQ2NS40ODk0MjEgQzQwOS45MjAzNTEsNDY1LjMxNzAyMyA0MDkuNzczMTkzLDQ2NS4yMzA3MTEgNDA5LjYwOTU4NCw0NjUuMTc4NjU0IFoiPjwvcGF0aD4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg==",sM="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQwICgzMzc2MikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+DQogICAgPHRpdGxlPndhcm5pbmc8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0iUHVycGxlLUJveCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zNzMuMDAwMDAwLCAtNDUzLjAwMDAwMCkiIGlkPSJ3YXJuaW5nIiBmaWxsPSIjRkVCMDMyIj4NCiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM3My4wMDAwMDAsIDQ1My4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOSwwLjYzMDQzNDc4MyBDNC4zODQxNDQ5MywwLjYzMDQzNDc4MyAwLjYzMDQzNDc4Myw0LjM4NDE0NDkzIDAuNjMwNDM0NzgzLDkgQzAuNjMwNDM0NzgzLDEzLjYxNTg1NTEgNC4zODQxNDQ5MywxNy4zNjk1NjUyIDksMTcuMzY5NTY1MiBDMTMuNjE1ODU1MSwxNy4zNjk1NjUyIDE3LjM2OTU2NTIsMTMuNjE1ODU1MSAxNy4zNjk1NjUyLDkgQzE3LjM2OTU2NTIsNC4zODQxNDQ5MyAxMy42MTU4NTUxLDAuNjMwNDM0NzgzIDksMC42MzA0MzQ3ODMgWiBNNC42NDI5MjgxMSwxMS43ODk4NTUxIEM1LjI1MDQxMTY1LDExLjc4OTg1NTEgNS43NTY5NTIzNCwxMS4zNjA3NTY3IDUuODc4NzE2OTMsMTAuODgxMzY5NSBDNi4wMDA0ODE1MiwxMS4zNjEyNDM3IDYuNTA3MDIyMjIsMTEuNzIzNzM2OSA3LjExNDM4NCwxMS43MjM3MzY5IEM3LjcyNDE4MTA2LDExLjcyMzczNjkgOC4yMzI2Njk5OSwxMS4zNjUwMTg0IDguMzUxNTEyMjMsMTAuODgyNzA4OSBDOC40NzA5NjMzLDExLjM2NTAxODQgOC45Nzk0NTIyMywxMS43MzY1MjIyIDkuNTg4NzYyMjQsMTEuNzM2NTIyMiBDMTAuMTk0NjYyOCwxMS43MzY1MjIyIDEwLjcwMTIwMzUsMTEuMzk0OTcyNSAxMC44MjM0NTUyLDEwLjkxNjU1OTQgQzEwLjk0NTcwNjgsMTEuMzk0OTcyNSAxMS40NTIyNDc1LDExLjc4OTM2OCAxMi4wNTgyNjk5LDExLjc4OTM2OCBDMTIuMzUzNjcwOCwxMS43ODkzNjggMTIuNjI0NzE4OCwxMS42OTkzODQgMTIuODM5NzU1LDExLjU1OTU5ODIgQzExLjAwOTUxMTUsOC43MTgwOTk3NSAxMi4xNDUzMzE2LDQuMTM3NjgxMTYgMTIuMTQ1MzMxNiw0LjEzNzY4MTE2IEM2Ljk0NjQ3MDYzLDUuMjMxNjE0MjQgNC42NjU4MTk4NSwxMC4xMDAzNzE0IDQuMDU3OTcxMDEsMTEuNjY2MTQyMiBDNC4yMzI5NDY3MywxMS43NDMyMTkyIDQuNDMxNzg4MzEsMTEuNzg5ODU1MSA0LjY0MjkyODExLDExLjc4OTg1NTEgWiIgaWQ9Indhcm5pbmd0cmFja2VycyI+PC9wYXRoPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+",IM="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE3cHgiIHZpZXdCb3g9IjAgMCAxOCAxNyIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuOC4zICgyOTgwMikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+DQogICAgPHRpdGxlPkdyb3VwIDI8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0iNi40LU1vY2tzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IkJyZWFraW5nLVBhZ2UtSW5kaWNhdG9ycyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIwMTQuMDAwMDAwLCAtODUuMDAwMDAwKSI+DQogICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAxNC4wMDAwMDAsIDg1LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSJTbG93LVNRIj4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0yMzUxIiBmaWxsPSIjRkY5RDAwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik04Ljc1MzIyMDA5LDguMjE4MDczMjYgQzkuNDY5MDYxNTUsNy43Mzk2ODA4IDkuOTQyMDM3NTgsNi45MjQwNzIzMyA5Ljk0MjAzNzU4LDUuOTk5OTYwNjggQzkuOTQyMDM3NTgsNC41Mjk4Mzg2NSA4Ljc0NTcwNjk5LDMuMzMzMzMzMzMgNy4yNzU1ODQ5NiwzLjMzMzMzMzMzIEM1LjgwNTQ2MjkyLDMuMzMzMzMzMzMgNC42MDg5NTc2MSw0LjUyOTgzODY1IDQuNjA4OTU3NjEsNS45OTk5NjA2OCBDNC42MDg5NTc2MSw2LjQyNDUzODM1IDQuNzA5MjQ4OCw2LjgyNTcwMzEgNC44ODYwNjg4LDcuMTgyMTM4NjggQzUuMDUyNTgwMTMsNy4yMTQ4MTE5NCA1LjQ4Mzk3MjAxLDcuMjk3NDU2MDcgNi4xNjU3NDI0MSw3LjQxMjc3MzQ3IEM2LjkyNjEzODMxLDcuNTQxNzE5MjggNy40Mjg0Njc4Niw3LjQzNzkzMzYyIDcuODQ2MDU2Niw3LjA2NTk0NzY3IEM4LjEwNzQ0MjcsNi44MzMyMTYyMSA4LjI2MjQyMjI4LDYuNTEzMTIzMDggOC4yODIxNjYwMiw2LjE2NDM3NTMzIEM4LjMwMjc4MzM3LDUuODE1NjI3NTggOC4xODYwNjgxOSw1LjQ3OTExMDQ2IDcuOTUzMzM2NzIsNS4yMTg0MjMyNiBDNy41NzkyNTQwOSw0Ljc5ODczNzg0IDYuOTM0MzUwMzEsNC43NjExNzIzMiA2LjUxMzc5MTI3LDUuMTM0NTU2MDYgQzYuMTc3OTczMDUsNS40MzM1MDc2NyA2LjEzNTY5LDUuOTU1NTgwOTYgNi40MjAzMTQyOSw2LjI3NTY3NDA4IEM2LjY0MzYxMDcsNi41MjYyMjczMyA3LjA1NDM4NTIzLDYuNTU0ODgxOTUgNy4zMDAwNDYyMiw2LjMzNjQ3NzggQzcuMzkwOTAyMzUsNi4yNTU5MzAzNSA3LjQ0NDcxNzEzLDYuMTQ4MTI2MDYgNy40NTAzMDgyOCw2LjAzMzMzMjg0IEM3LjQ1NTAyNTgxLDUuOTM5ODU1ODYgNy40MjcwNzAwOCw1Ljg1MTc5NTMgNy4zNzMwODA1Nyw1Ljc5MjM4OTM3IEM3LjMyNDY4MjIxLDUuNzM5MjczNDggNy4yNDc2MjkyMyw1LjcwOTkxOTk3IDcuMTY4MzA0ODQsNS43MTA2MTg4NiBDNy4xMDA4NjE2Myw1LjcxMjU0MDgyIDcuMDEzNDk5OTcsNS43MzkyNzM0OCA2Ljk1Njg4OTYyLDUuNzk1MTg0OTUgQzYuOTQzMDg2NDcsNS44MDgxMTQ0NyA2LjkyNjEzODMxLDUuODE2MzI2NDcgNi45MDY5MTg3NSw1LjgxNjMyNjQ3IEM2Ljg2NTMzNDYsNS44MTYzMjY0NyA2LjgzMTk2MjQ0LDUuNzc4NzYwOTUgNi44MzE5NjI0NCw1LjczMzE1ODE3IEM2LjgzMTk2MjQ0LDUuNzA1MDI3NzEgNi44NDM0OTQxOCw1LjY4NDU4NTA4IDYuODU3ODIxNDksNS42NjQ4NDEzNSBDNi45NDMwODY0Nyw1LjU0ODEyNjE3IDcuMDYzMjk2MTIsNS40ODA1MDgyNCA3LjE4MjYzMjE1LDUuNDcwMzc0MjkgQzcuMzQ0NDI1OTUsNS40NTY3NDU4NyA3LjQ3NTQ2ODQ0LDUuNTAzMDQ3NTUgNy41NzkyNTQwOSw1LjYxNjk2NzE2IEM3LjY4MjM0MDg1LDUuNzMwMzYyNTkgNy43MzYxNTU2Myw1Ljg4MTE0ODgyIDcuNzI2NzIwNTgsNi4wNDc2NjAxNSBDNy43MTY0MTE5LDYuMjM2MDExODkgNy42MzA0NDgwMiw2LjQxMTQzNDEgNy40ODM2ODA0Myw2LjU0MTc3NzcgQzcuMTIyMDAzMTYsNi44NjM5Njc1MSA2LjU0MDUyMzk0LDYuODI1MTc4OTMgNi4yMTM2MTY2LDYuNDU4NjA5NCBDNS44MjkyMjUyOSw2LjAyNjUxODYzIDUuODgyNTE1OTEsNS4zMjU3MDMzOCA2LjMyOTYzMjg5LDQuOTI2OTg0NzYgQzYuODYzMjM3OTIsNC40NTIwODY3NyA3LjY4NDQzNzUzLDQuNDk5Nzg2MjMgOC4xNTg2MzY2Myw1LjAzMzU2NTk4IEM4LjQzOTk0MTE4LDUuMzQ5NDY1NzUgOC41ODE4MTY1Miw1Ljc1NjkyMDU0IDguNTU3MzU1MjUsNi4xNzk0MDE1MyBDOC41MzI3MTkyNiw2LjYwMjU4MTQyIDguMzQ1MDY2NDEsNi45OTAyOTI0NyA4LjAyODk5MTkyLDcuMjcxNDIyMyBDNy42NzM0Mjk5Niw3LjU4ODE5NTY4IDcuMjU3NzYzMTgsNy43NDAzNzk3IDYuNzI2MDgwMTEsNy43NDAzNzk3IEM2LjUzOTEyNjE1LDcuNzQwMzc5NyA2LjMzNzE0NTk5LDcuNzIxMTYwMTMgNi4xMTg3NDE4NCw3LjY4NDQ2ODIzIEM1LjM2NTg1OTA0LDcuNTU2NzQ1NDggNC41NjE3ODIzMSw3LjQxMzQ3MjM2IDQuNDUzOTc4MDIsNy4zOTg0NDYxNSBDMy45MTIxNjEsNy4zMjYxMTA3IDMuNDYxNzI0MjcsNi45NTgxNDMzOCAzLjQ0NzM5Njk2LDYuNDE3MDI1MjUgTDMuNTg0NTU0NzcsNC4wNTA3NDczIEMzLjU4NDU1NDc3LDMuODk4NTYzMjggMy40NjEwMjUzOCwzLjc3NDMzNSAzLjMwODE0MjQ3LDMuNzc0MzM1IEMzLjE1NTI1OTU3LDMuNzc0MzM1IDMuMDMxNzMwMTgsMy44OTc4NjQzOSAzLjAzMTczMDE4LDQuMDUwNzQ3MyBDMy4wMzE3MzAxOCw0LjA1MDc0NzMgMy4xMTIyNzc2Myw1LjQ4ODAyMTM1IDMuMTIxNzEyNjksNS42Njk1NTg4OCBDMy4xMzk1MzQ0Nyw2LjAxNDI4Nzk5IDIuODIyMDYyMTksNi4yOTA3MDAyOSAyLjQ3MjYxNTU1LDYuMjkwNzAwMjkgQzIuMTE0NDMyNzQsNi4yOTA3MDAyOSAxLjc5NTU2MjY3LDUuOTk5MjYxNzkgMS44MjM2OTMxMyw1LjY0MTYwMzE1IEMxLjgzOTI0MzUsNS40NDM2NDE2MiAxLjg1NTY2NzQ5LDUuMjM4ODY1ODkgMS44NzIwOTE0OSw1LjA0NzE5NDQgTDEuOTI5NDAwNzQsNC4wNjc2OTU0NiBDMS45Mjk0MDA3NCwzLjkxNTUxMTQ0IDEuODA1ODcxMzUsMy43OTEyODMxNiAxLjY1Mjk4ODQ0LDMuNzkxMjgzMTYgQzEuNTAwMTA1NTMsMy43OTEyODMxNiAxLjM3NjU3NjE0LDMuOTE0ODEyNTUgMS4zNzY1NzYxNCw0LjA2NzY5NTQ2IEwxLjUxMTExMzEsNi4zODYyNzM5NSBDMS41MTExMTMxLDguMDEyNTk4NjMgMi40MzkyNDMzOSw5LjMzNDczMDAxIDQuMDYyMjQ4MzMsOS4zMzMzMzIyMyBDNS42OTk1ODA1OSw5LjMzMTIzNTU1IDEwLjM0MDc1NjIsOS4zMzMzMzIyMyAxMC4zNDA3NTYyLDkuMzMzMzMyMjMgQzEwLjQ3NDQxOTUsOS4zMzMzMzIyMyAxMC41ODIzOTg2LDkuMjI0ODI5MDQgMTAuNTgyMzk4Niw5LjA5MTY4OTg3IEMxMC41ODIzOTg2LDguOTU4MDI2NTMgMTAuNDY4MzA0Miw4Ljg5MTEwNzUgMTAuMzQxNDU1MSw4Ljg1MDc0NjQxIEMxMC4yNzk5NTI1LDguODMxNzAxNTcgOS42MTg2MjQ3MSw4LjUxNTYyNzA4IDguNzUzMjIwMDksOC4yMTgwNzMyNiBaIiBpZD0iUGFnZS0xIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDxnIGlkPSJOb24tU2VjdXJlLVNRIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2LjAwMDAwMCwgNS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0yMzUxIiBmaWxsPSIjRkY5RDAwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjEzMDIxMTczLDguNjU1Mjg3NjQgQzMuMjUwMzgwMTUsOS4xMjg4NzEzOSAzLjc1MDI4MDc4LDkuNDg2NjEyNzggNC4zNDk2ODA4Niw5LjQ4NjYxMjc4IEM0Ljk1MTQ4NDMxLDkuNDg2NjEyNzggNS40NTMzMDc2NCw5LjEzMjU5NjYxIDUuNTcwNTkyMDEsOC42NTY2MDk0OSBDNS42ODg0NzcyNCw5LjEzMjU5NjYxIDYuMTkwMzAwNTYsOS40OTkyMzA0NiA2Ljc5MTYyMzM0LDkuNDk5MjMwNDYgQzcuMzg5NTgxNCw5LjQ5OTIzMDQ2IDcuODg5NDgyMDMsOS4xNjIxNTgwNCA4LjAxMDEzMTEyLDguNjkwMDE2MzIgQzguMTMwNzgwMjIsOS4xNjIxNTgwNCA4LjYzMDY4MDg1LDkuNTUxMzgzNTUgOS4yMjg3NTkwOCw5LjU1MTM4MzU1IEM5LjUyMDI4NzY2LDkuNTUxMzgzNTUgOS43ODc3ODI1Nyw5LjQ2MjU3OTA5IDEwLDkuMzI0NjI1NzQgQzguMTkzNzQ4NDcsNi41MjAzNzU0OCA5LjMxNDY3OTUsMiA5LjMxNDY3OTUsMiBDNC4xODM5Njg2MSwzLjA3OTU5MzA5IDEuOTMzMjE0MDksNy44ODQ1MjczOSAxLjMzMzMzMzMzLDkuNDI5NzczMTEgQzEuNTA2MDE1MzUsOS41MDU4Mzk3MiAxLjcwMjI1MDM4LDkuNTUxODY0MjMgMS45MTA2MjI0Myw5LjU1MTg2NDIzIEMyLjUxMDE0MjY4LDkuNTUxODY0MjMgMy4wMTAwNDMzMSw5LjEyODM5MDcxIDMuMTMwMjExNzMsOC42NTUyODc2NCBaIiBpZD0ic2hhcmsiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4=",jM=NM("purplebox"),{sendMessage:V}=jM,{onMessage:zM}=chrome.runtime;(function(M,e){const s={box_position_timeout:0,box_destroy_timeout:9999,box_none_timeout:9999},D={};let j=!1,z={},n=0,U=0,N,a,T,m,O,x,C,Y,w,h,G,E,o,A;const c=function(g){return e.createElement(g)},L=function(g,...t){for(let I=0;I<t.length;I++)g.appendChild(t[I])},k=typeof chrome.runtime.connect=="function";let r=null;const H=function(){N&&N.parentNode&&N.parentNode.removeChild(N),clearTimeout(s.box_position_timeout),clearTimeout(s.box_destroy_timeout),clearTimeout(s.box_none_timeout),j=!1,k&&r&&r.postMessage({name:"onDestroyBox"})},b=function(){clearTimeout(s.box_destroy_timeout),D.alert_bubble_timeout>0&&(s.box_destroy_timeout=setTimeout(()=>{H()},1e3*D.alert_bubble_timeout))},p=function(){N&&(D.alert_expanded=!D.alert_expanded,iM())},_=function(){E.removeEventListener("click",H),a.removeEventListener("click",p),o.removeEventListener("click",p)},W=function(){E.addEventListener("click",H),a.addEventListener("click",p),o.addEventListener("click",p)},iM=function(){const g=Math.max(M.innerHeight-105,55);b(),k?r?r.postMessage({name:"updateAlertConf",message:D}):l("Cannot post message. Port is null"):V("updateAlertConf",D),N.classList.contains("ghostery-expanded")?(N.classList.remove("ghostery-expanded"),N.classList.add("ghostery-collapsing"),_(),a.addEventListener("transitionend",function t(I){I.target.removeEventListener("transitionend",t),N.classList.remove("ghostery-collapsing"),N.classList.add("ghostery-collapsed"),W()})):(N.classList.contains("ghostery-none")&&v(),N.classList.remove("ghostery-collapsed"),N.classList.add("ghostery-expanding"),_(),a.addEventListener("transitionend",function t(I){I.target.removeEventListener("transitionend",t),N.classList.remove("ghostery-expanding"),N.classList.add("ghostery-expanded"),o.style.height=`${n}px`,U===n&&n===g&&o.style.setProperty("overflow-y","auto"),W()})),f()},f=function(){let g;const t=A.children.length*18+20,I=Math.max(M.innerHeight-105,55),y=Math.min(t,I);n=y,N.classList.contains("ghostery-expanded")&&(o.style.setProperty("height",`${n}px`),U!==n||n===t&&A.children.length<=9?o.style.setProperty("overflow-y","hidden"):o.style.setProperty("overflow-y","auto")),N.classList.contains("ghostery-expanding")||N.classList.contains("ghostery-expanded")?(g=T.textContent.length,g===1?w.style.setProperty("left","25px"):g===2?w.style.setProperty("left","30px"):g===3&&w.style.setProperty("left","35px"),T.textContent==="0"&&n===t&&setTimeout(()=>{w.textContent=T.textContent==="1"?z.tracker:z.trackers,D.alert_expanded&&T.textContent==="0"&&(N.classList.remove("ghostery-expanded"),N.classList.add("ghostery-collapsing"),o.style.setProperty("height","0px"),a.addEventListener("transitionend",function i(d){d.target.removeEventListener("transitionend",i),N.classList.remove("ghostery-collapsing"),N.classList.add("ghostery-collapsed")}))},3e3),D.alert_bubble_pos.includes("l")?(N.classList.remove("ghostery-right"),N.classList.add("ghostery-left")):(N.classList.remove("ghostery-left"),N.classList.add("ghostery-right")),D.alert_bubble_pos.includes("t")?(N.classList.remove("ghostery-bottom"),N.classList.add("ghostery-top")):(N.classList.remove("ghostery-top"),N.classList.add("ghostery-bottom"))):(o.style.setProperty("height",""),D.alert_bubble_pos.includes("l")?(N.classList.remove("ghostery-right"),N.classList.add("ghostery-left")):(N.classList.remove("ghostery-left"),N.classList.add("ghostery-right")),D.alert_bubble_pos.includes("t")?(N.classList.remove("ghostery-bottom"),N.classList.add("ghostery-top")):(N.classList.remove("ghostery-top"),N.classList.add("ghostery-bottom"))),U=y},J=function(g){let t,I=!1;const y=c("div"),i=c("span"),d=c("span");d.id="ghostery-no-tracker",y.classList.add("ghostery-trackerContainer"),i.classList.add("ghostery-tracker"),g.hasLatencyIssue?(t=x,t.style.opacity="1.0"):g.hasCompatibilityIssue?(t=O,t.style.opacity="1.0"):g.hasInsecureIssue?(t=C,t.style.opacity="1.0"):g.hasInsecureIssue&&g.hasLatencyIssue?t=Y:t=d,I=t.id!=="ghostery-no-tracker",I&&a.classList.add("ghostery-icons-found"),g.blocked?y.classList.add("ghostery-tracker-disabled"):y.classList.remove("ghostery-tracker-disabled");const S=t.cloneNode(!0);return S.classList.remove("ghostery-pb-tracker"),S.classList.add("ghostery-pb-tracker-list"),i.textContent=g.name,L(y,S,i),y.setAttribute("category",g.cat),{tracker:y,hasIcon:I}},cM=function(g){const t=w,I=A.childNodes;for(let i=0;i<g.length;i++){const d=g[i].name.toLowerCase(),S=g[i].cat.toLowerCase();if(I.length){let B=!1;for(let u=0;u<I.length;u++){const F=I[u].textContent.toLowerCase(),TM=I[u].getAttribute("category");if(d<=F){B=!0;const Z=J(g[i]);d===F&&S===TM?Z.hasIcon&&A.replaceChild(Z.tracker,I[u]):A.insertBefore(Z.tracker,I[u]);break}}if(!B){const u=J(g[i]);L(A,u.tracker)}}else{const B=J(g[i]);L(A,B.tracker)}}f();const y=A.childNodes.length;y>0?(v(),N.classList.remove("ghostery-none"),T.textContent=y,t.textContent=T.textContent==="1"?z.tracker:z.trackers):T.textContent="0"},v=function(){T.style.background="none",T.style.color="#ffffff"},oM=function(){N=c("div"),a=c("div"),T=c("div"),m=c("div"),O=c("span"),x=c("span"),C=c("span"),Y=c("span"),w=c("div"),h=c("div"),G=c("span"),E=c("span"),o=c("div"),A=c("div");const g=c("style");g.textContent="@media print {#ghostery-tracker-tally {display:none !important}}",L(e.getElementsByTagName("head")[0],g),N.id="ghostery-tracker-tally",N.className="ghostery-bottom ghostery-right ghostery-none",a.id="ghostery-box",T.id="ghostery-count",T.style.background=`url(${DM}) no-repeat center`,T.textContent="0",T.style.color="transparent",m.id="ghostery-pb-icons-container",O.id="ghostery-breaking-tracker",O.className="ghostery-pb-tracker",O.title=z.box_warning_compatibility,O.style.background=`url(${gM})`,O.style.opacity="0.5",x.id="ghostery-slow-tracker",x.className="ghostery-pb-tracker",x.title=z.box_warning_slow,x.style.background=`url(${tM})`,x.style.opacity="0.5",C.id="ghostery-non-secure-tracker",C.className="ghostery-pb-tracker",C.title=z.box_warning_nonsecure,C.style.background=`url(${sM})`,C.style.opacity="0.5",Y.id="ghostery-non-secure-slow-tracker",Y.className="ghostery-pb-tracker",Y.style.background=`url(${IM})`,w.id="ghostery-title",w.textContent=z.looking,h.id="ghostery-minimize",G.id="ghostery-minimize-icon",E.id="ghostery-close",E.style.background=`url(${eM})`,o.id="ghostery-pb-background",A.id="ghostery-trackerList",D.alert_expanded&&!N.classList.contains("ghostery-expanded")&&N.classList.add("ghostery-expanded"),L(o,A),L(h,G),L(m,O,x,C),L(a,T,m,w,h,E),L(N,a,o),s.box_none_timeout=setTimeout(v,2e3),e.getElementsByTagName("body")[0]?L(e.body,N):L(e.getElementsByTagName("html")[0],N),D.alert_expanded?setTimeout(()=>{const t=Math.max(M.innerHeight-105,55);b(),k?r?r.postMessage({name:"updateAlertConf",message:D}):l("Failed to post message. Port is null"):V("updateAlertConf",D),N.classList.contains("ghostery-none")&&v(),N.classList.add("ghostery-expanded"),o.style.height=`${n}px`,U===n&&n===t&&o.style.setProperty("overflow-y","auto"),f()},100):(N.classList.add("ghostery-collapsed"),N.classList.remove("ghostery-expanded")),W()},X=function(g,t,I){const{name:y}=g,i=g.message;if(y==="createBox"){if(z=i.translations,D.language=i.conf.language,D.alert_bubble_timeout=i.conf.alert_bubble_timeout,D.alert_bubble_pos=i.conf.alert_bubble_pos,D.alert_expanded=i.conf.alert_expanded?i.conf.alert_expanded:!1,!j)j=!0,oM();else for(;A.firstChild;)A.removeChild(A.firstChild);f(),b(),k&&r.postMessage({name:"onCreateBox"})}else y==="updateBox"&&j&&(cM(i.apps),b());return k||I&&I(),!0},nM=function(){k?(r=chrome.runtime.connect({name:"purpleBoxPort"}),r&&(r.onMessage.addListener(X),r.postMessage({name:"purpleBoxLoaded"}))):zM.addListener(X)};return{init(){nM()}}})(window,document).init()})();

//# sourceMappingURL=purplebox.js.map