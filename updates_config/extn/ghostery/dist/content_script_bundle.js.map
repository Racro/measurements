{"version":3,"file":"content_script_bundle.js","mappings":"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EACX,qBAAwB,EAC1B,EACA,QAAW,CACT,QAAW,EACX,QAAW,CACb,EACA,SAAY,CACV,QAAW,EACX,QAAW,EACX,qBAAwB,EAC1B,EACA,SAAY,CACV,QAAW,EACX,QAAW,EACX,qBAAwB,EAC1B,CACF,EACA,aAAgB,CACd,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,YAAe,CACb,QAAW,EACX,QAAW,CACb,EACA,cAAiB,CACf,QAAW,EACX,QAAW,CACb,EACA,gBAAmB,CACjB,QAAW,EACX,QAAW,CACb,EACA,eAAkB,CAChB,QAAW,EACX,QAAW,CACb,EACA,cAAiB,CACf,QAAW,EACX,QAAW,CACb,EACA,mBAAsB,CACpB,QAAW,EACX,QAAW,CACb,EACA,gBAAmB,CACjB,QAAW,EACX,QAAW,CACb,EACA,iBAAoB,CAClB,QAAW,EACX,QAAW,CACb,EACA,SAAY,CACV,QAAW,EACX,QAAW,CACb,CACF,EACA,SAAY,CACV,OAAU,CACR,QAAW,EACX,QAAW,CACb,CACF,EACA,aAAgB,CACd,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,UAAa,CACX,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,CACF,EACA,QAAW,CACT,IAAO,CACL,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,mBAAsB,CACpB,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,IAAO,CACL,QAAW,EACX,QAAW,CACb,CACF,EACA,SAAY,CACV,gBAAmB,CACjB,KAAQ,CACN,QAAW,EACX,QAAW,EACX,kBAAqB,EACvB,CACF,EACA,OAAU,CACR,OAAU,CACR,QAAW,EACX,QAAW,EACX,kBAAqB,EACvB,EACA,SAAY,CACV,kBAAqB,CACnB,QAAW,EACX,QAAW,CACb,CACF,CACF,CACF,EACA,UAAa,CACX,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,SAAY,CACV,QAAW,EACX,QAAW,CACb,EACA,MAAS,CACP,QAAW,EACX,QAAW,CACb,EACA,YAAe,CACb,QAAW,EACX,QAAW,CACb,EACA,KAAQ,CACN,QAAW,EACX,QAAW,EACX,qBAAwB,EAC1B,EACA,MAAS,CACP,QAAW,EACX,QAAW,CACb,EACA,WAAc,CACZ,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,KAAQ,CACN,QAAW,EACX,QAAW,EACX,qBAAwB,EAC1B,CACF,EACA,UAAa,CACX,0BAA6B,CAC3B,QAAW,EACX,QAAW,CACb,EACA,yBAA4B,CAC1B,QAAW,EACX,QAAW,CACb,CACF,EACA,QAAW,CACT,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,UAAa,CACX,QAAW,EACX,QAAW,CACb,EACA,YAAe,CACb,QAAW,EACX,QAAW,CACb,EACA,UAAa,CACX,QAAW,EACX,QAAW,CACb,EACA,UAAa,CACX,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,CACF,EACA,KAAQ,CACN,eAAkB,CAChB,QAAW,EACX,QAAW,CACb,EACA,mBAAsB,CACpB,QAAW,EACX,QAAW,CACb,CACF,EACA,SAAY,CACV,kBAAqB,CACnB,QAAW,EACX,QAAW,CACb,CACF,EACA,KAAQ,CACN,WAAc,CACZ,QAAW,EACX,QAAW,CACb,CACF,EACA,WAAc,CACZ,IAAO,CACL,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,QAAW,CACT,QAAW,EACX,QAAW,CACb,EACA,WAAc,CACZ,QAAW,EACX,QAAW,CACb,EACA,cAAiB,CACf,QAAW,EACX,QAAW,CACb,CACF,EACA,cAAiB,CACf,MAAS,CACP,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,mBAAsB,CACpB,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,CACF,EACA,WAAc,CACZ,SAAY,CACV,QAAW,EACX,QAAW,CACb,EACA,SAAY,CACV,QAAW,EACX,QAAW,CACb,EACA,KAAQ,CACN,QAAW,EACX,QAAW,EACX,qBAAwB,EAC1B,EACA,QAAW,CACT,QAAW,EACX,QAAW,CACb,EACA,SAAY,CACV,QAAW,EACX,QAAW,EACX,qBAAwB,EAC1B,EACA,SAAY,CACV,QAAW,EACX,QAAW,EACX,qBAAwB,EAC1B,EACA,KAAQ,CACN,QAAW,EACX,QAAW,EACX,qBAAwB,EAC1B,CACF,EACA,YAAe,CACb,SAAY,CACV,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,QAAW,CACT,QAAW,EACX,QAAW,CACb,CACF,EACA,QAAW,CACT,kBAAqB,CACnB,QAAW,EACX,QAAW,CACb,EACA,gBAAmB,CACjB,QAAW,EACX,QAAW,CACb,EACA,gBAAmB,CACjB,QAAW,EACX,QAAW,CACb,EACA,mBAAsB,CACpB,QAAW,EACX,QAAW,CACb,EACA,YAAe,CACb,QAAW,EACX,QAAW,CACb,EACA,kBAAqB,CACnB,QAAW,EACX,QAAW,CACb,EACA,gBAAmB,CACjB,QAAW,EACX,QAAW,CACb,CACF,EACA,SAAY,CACV,WAAc,CACZ,QAAW,EACX,QAAW,CACb,EACA,kBAAqB,CACnB,QAAW,EACX,QAAW,CACb,EACA,QAAW,CACT,QAAW,EACX,QAAW,CACb,CACF,EACA,QAAW,CACT,MAAS,CACP,MAAS,CACP,QAAW,EACX,QAAW,CACb,EACA,IAAO,CACL,QAAW,EACX,QAAW,CACb,EACA,cAAiB,CACf,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,IAAO,CACL,QAAW,EACX,QAAW,CACb,CACF,EACA,QAAW,CACT,IAAO,CACL,QAAW,EACX,QAAW,CACb,EACA,cAAiB,CACf,QAAW,EACX,QAAW,CACb,CACF,EACA,KAAQ,CACN,MAAS,CACP,QAAW,EACX,QAAW,CACb,EACA,IAAO,CACL,QAAW,EACX,QAAW,CACb,EACA,cAAiB,CACf,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,IAAO,CACL,QAAW,EACX,QAAW,CACb,CACF,CACF,EACA,KAAQ,CACN,kBAAqB,CACnB,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,eAAkB,CAChB,QAAW,EACX,QAAW,CACb,EACA,QAAW,CACT,QAAW,EACX,QAAW,CACb,EACA,UAAa,CACX,QAAW,EACX,QAAW,CACb,EACA,cAAiB,CACf,QAAW,EACX,QAAW,CACb,EACA,IAAO,CACL,QAAW,EACX,QAAW,CACb,EACA,WAAc,CACZ,QAAW,EACX,QAAW,CACb,EACA,QAAW,CACT,QAAW,EACX,QAAW,CACb,EACA,gBAAmB,CACjB,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,UAAa,CACX,QAAW,EACX,QAAW,CACb,EACA,UAAa,CACX,QAAW,EACX,QAAW,CACb,EACA,UAAa,CACX,QAAW,EACX,QAAW,CACb,EACA,KAAQ,CACN,QAAW,EACX,QAAW,CACb,EACA,MAAS,CACP,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,EACA,UAAa,CACX,QAAW,EACX,QAAW,CACb,EACA,YAAe,CACb,QAAW,EACX,QAAW,CACb,EACA,QAAW,CACT,QAAW,EACX,QAAW,CACb,EACA,gBAAmB,CACjB,QAAW,EACX,QAAW,CACb,EACA,OAAU,CACR,QAAW,EACX,QAAW,CACb,CACF,EACA,SAAY,CACV,IAAO,CACL,QAAW,EACX,QAAW,CACb,CACF,EACA,cAAiB,CACf,aAAgB,CACd,QAAW,EACX,QAAW,CACb,EACA,SAAY,CACV,QAAW,EACX,QAAW,CACb,CACF,EACA,WAAc,CACZ,uBAA0B,CACxB,QAAW,EACX,QAAW,CACb,CACF,EACA,QAAW,CACT,OAAU,CACR,QAAW,EACX,QAAW,CACb,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","sources":["webpack://@ghostery/extension-manifest-v2/../node_modules/@cliqz/adblocker-content/dist/cjs/adblocker.js","webpack://@ghostery/extension-manifest-v2/../node_modules/@cliqz/adblocker-extended-selectors/dist/cjs/adblocker.js","webpack://@ghostery/extension-manifest-v2/../node_modules/@cliqz/adblocker-extended-selectors/dist/cjs/src/eval.js","webpack://@ghostery/extension-manifest-v2/../node_modules/@cliqz/adblocker-extended-selectors/dist/cjs/src/extended.js","webpack://@ghostery/extension-manifest-v2/../node_modules/@cliqz/adblocker-extended-selectors/dist/cjs/src/parse.js","webpack://@ghostery/extension-manifest-v2/../node_modules/@cliqz/adblocker-extended-selectors/dist/cjs/src/types.js","webpack://@ghostery/extension-manifest-v2/../node_modules/@cliqz/adblocker-webextension-cosmetics/dist/cjs/adblocker.js","webpack://@ghostery/extension-manifest-v2/../node_modules/@duckduckgo/autoconsent/dist/autoconsent.cjs.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/adblocker/content.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/antitracking/content.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/config.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/content-script.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/content.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/content/actions-manager.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/content/console.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/content/helpers.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/content/match-patterns.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/content/register.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/content/run.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/decorators.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/helpers/remote-action-provider.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/helpers/sleep.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/core/timers.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/human-web/ad-detection.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/human-web/content.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/insights/content.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/module-content-script.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/platform/content/globals.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/platform/lib/adblocker-cosmetics.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/platform/runtime.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/build/gbe/platform/timers.js","webpack://@ghostery/extension-manifest-v2/../node_modules/ghostery-common/node_modules/webextension-polyfill/dist/browser-polyfill.js","webpack://@ghostery/extension-manifest-v2/webpack/bootstrap","webpack://@ghostery/extension-manifest-v2/../node_modules/@ghostery/ui/src/utils/iframe.js","webpack://@ghostery/extension-manifest-v2/./app/content-scripts/autoconsent.js"],"sourcesContent":["\"use strict\";\n/*!\n * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectScript = exports.autoRemoveScript = exports.DOMMonitor = exports.extractFeaturesFromDOM = void 0;\nconst SCRIPT_ID = 'cliqz-adblocker-script';\nconst IGNORED_TAGS = new Set(['br', 'head', 'link', 'meta', 'script', 'style', 's']);\nfunction isElement(node) {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType#node_type_constants\n    return node.nodeType === 1; // Node.ELEMENT_NODE;\n}\nfunction getElementsFromMutations(mutations) {\n    // Accumulate all nodes which were updated in `nodes`\n    const elements = [];\n    for (const mutation of mutations) {\n        if (mutation.type === 'attributes') {\n            if (isElement(mutation.target)) {\n                elements.push(mutation.target);\n            }\n        }\n        else if (mutation.type === 'childList') {\n            for (const addedNode of mutation.addedNodes) {\n                if (isElement(addedNode) && addedNode.id !== SCRIPT_ID) {\n                    elements.push(addedNode);\n                }\n            }\n        }\n    }\n    return elements;\n}\n/**\n * WARNING: this function should be self-contained and not rely on any global\n * symbol. That constraint needs to be fulfilled because this function can\n * potentially be injected in content-script (e.g.: see PuppeteerBlocker for\n * more details).\n */\nfunction extractFeaturesFromDOM(roots) {\n    // NOTE: This cannot be global as puppeteer needs to be able to serialize this function.\n    const ignoredTags = new Set(['br', 'head', 'link', 'meta', 'script', 'style', 's']);\n    const classes = new Set();\n    const hrefs = new Set();\n    const ids = new Set();\n    for (const root of roots) {\n        for (const element of [\n            root,\n            ...root.querySelectorAll('[id]:not(html):not(body),[class]:not(html):not(body),[href]:not(html):not(body)'),\n        ]) {\n            if (ignoredTags.has(element.nodeName.toLowerCase())) {\n                continue;\n            }\n            // Update ids\n            const id = element.id;\n            if (id) {\n                ids.add(id);\n            }\n            // Update classes\n            const classList = element.classList;\n            if (classList) {\n                for (const cls of classList) {\n                    classes.add(cls);\n                }\n            }\n            // Update href\n            const href = element.getAttribute('href');\n            if (typeof href === 'string') {\n                hrefs.add(href);\n            }\n        }\n    }\n    return {\n        classes: Array.from(classes),\n        hrefs: Array.from(hrefs),\n        ids: Array.from(ids),\n    };\n}\nexports.extractFeaturesFromDOM = extractFeaturesFromDOM;\nclass DOMMonitor {\n    constructor(cb) {\n        this.cb = cb;\n        this.knownIds = new Set();\n        this.knownHrefs = new Set();\n        this.knownClasses = new Set();\n        this.observer = null;\n    }\n    queryAll(window) {\n        this.cb({ type: 'elements', elements: [window.document.documentElement] });\n        this.handleUpdatedNodes([window.document.documentElement]);\n    }\n    start(window) {\n        if (this.observer === null && window.MutationObserver !== undefined) {\n            this.observer = new window.MutationObserver((mutations) => {\n                this.handleUpdatedNodes(getElementsFromMutations(mutations));\n            });\n            this.observer.observe(window.document.documentElement, {\n                // Monitor some attributes\n                attributes: true,\n                attributeFilter: ['class', 'id', 'href'],\n                childList: true,\n                subtree: true,\n            });\n        }\n    }\n    stop() {\n        if (this.observer !== null) {\n            this.observer.disconnect();\n            this.observer = null;\n        }\n    }\n    handleNewFeatures({ hrefs, ids, classes, }) {\n        const newIds = [];\n        const newClasses = [];\n        const newHrefs = [];\n        // Update ids\n        for (const id of ids) {\n            if (this.knownIds.has(id) === false) {\n                newIds.push(id);\n                this.knownIds.add(id);\n            }\n        }\n        for (const cls of classes) {\n            if (this.knownClasses.has(cls) === false) {\n                newClasses.push(cls);\n                this.knownClasses.add(cls);\n            }\n        }\n        for (const href of hrefs) {\n            if (this.knownHrefs.has(href) === false) {\n                newHrefs.push(href);\n                this.knownHrefs.add(href);\n            }\n        }\n        if (newIds.length !== 0 || newClasses.length !== 0 || newHrefs.length !== 0) {\n            this.cb({\n                type: 'features',\n                classes: newClasses,\n                hrefs: newHrefs,\n                ids: newIds,\n            });\n            return true;\n        }\n        return false;\n    }\n    handleUpdatedNodes(elements) {\n        if (elements.length !== 0) {\n            this.cb({\n                type: 'elements',\n                elements: elements.filter((e) => IGNORED_TAGS.has(e.nodeName.toLowerCase()) === false),\n            });\n            return this.handleNewFeatures(extractFeaturesFromDOM(elements));\n        }\n        return false;\n    }\n}\nexports.DOMMonitor = DOMMonitor;\n/**\n * Wrap a self-executing script into a block of custom logic to remove the\n * script tag once execution is terminated. This can be useful to not leave\n * traces in the DOM after injections.\n */\nfunction autoRemoveScript(script) {\n    // Minified using 'terser'\n    return `try{${script}}catch(c){}!function(){var c=document.currentScript,e=c&&c.parentNode;e&&e.removeChild(c)}();`;\n    // Original:\n    //\n    //    try {\n    //      ${script}\n    //    } catch (ex) { }\n    //\n    //    (function() {\n    //      var currentScript = document.currentScript;\n    //      var parent = currentScript && currentScript.parentNode;\n    //\n    //      if (parent) {\n    //        parent.removeChild(currentScript);\n    //      }\n    //    })();\n}\nexports.autoRemoveScript = autoRemoveScript;\nfunction injectScript(s, doc) {\n    const script = doc.createElement('script');\n    script.type = 'text/javascript';\n    script.id = SCRIPT_ID;\n    script.async = false;\n    script.appendChild(doc.createTextNode(autoRemoveScript(s)));\n    // Insert node\n    const parent = doc.head || doc.documentElement;\n    if (parent !== null) {\n        parent.appendChild(script);\n    }\n}\nexports.injectScript = injectScript;\n//# sourceMappingURL=adblocker.js.map","\"use strict\";\n/*!\n * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.classifySelector = exports.SelectorType = exports.PSEUDO_ELEMENTS = exports.PSEUDO_CLASSES = exports.EXTENDED_PSEUDO_CLASSES = exports.matches = exports.querySelectorAll = exports.tokenize = exports.parse = void 0;\nvar parse_1 = require(\"./src/parse\");\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return parse_1.parse; } });\nObject.defineProperty(exports, \"tokenize\", { enumerable: true, get: function () { return parse_1.tokenize; } });\nvar eval_1 = require(\"./src/eval\");\nObject.defineProperty(exports, \"querySelectorAll\", { enumerable: true, get: function () { return eval_1.querySelectorAll; } });\nObject.defineProperty(exports, \"matches\", { enumerable: true, get: function () { return eval_1.matches; } });\n__exportStar(require(\"./src/types\"), exports);\nvar extended_1 = require(\"./src/extended\");\nObject.defineProperty(exports, \"EXTENDED_PSEUDO_CLASSES\", { enumerable: true, get: function () { return extended_1.EXTENDED_PSEUDO_CLASSES; } });\nObject.defineProperty(exports, \"PSEUDO_CLASSES\", { enumerable: true, get: function () { return extended_1.PSEUDO_CLASSES; } });\nObject.defineProperty(exports, \"PSEUDO_ELEMENTS\", { enumerable: true, get: function () { return extended_1.PSEUDO_ELEMENTS; } });\nObject.defineProperty(exports, \"SelectorType\", { enumerable: true, get: function () { return extended_1.SelectorType; } });\nObject.defineProperty(exports, \"classifySelector\", { enumerable: true, get: function () { return extended_1.classifySelector; } });\n//# sourceMappingURL=adblocker.js.map","\"use strict\";\n/*!\n * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.querySelectorAll = exports.matches = exports.matchPattern = void 0;\nfunction matchPattern(pattern, text) {\n    // TODO - support 'm' RegExp argument\n    if (pattern.startsWith('/') && (pattern.endsWith('/') || pattern.endsWith('/i'))) {\n        let caseSensitive = true;\n        pattern = pattern.slice(1);\n        if (pattern.endsWith('/')) {\n            pattern = pattern.slice(0, -1);\n        }\n        else {\n            pattern = pattern.slice(0, -2);\n            caseSensitive = false;\n        }\n        return new RegExp(pattern, caseSensitive === false ? 'i' : undefined).test(text);\n    }\n    return text.includes(pattern);\n}\nexports.matchPattern = matchPattern;\nfunction matches(element, selector) {\n    if (selector.type === 'id' ||\n        selector.type === 'class' ||\n        selector.type === 'type' ||\n        selector.type === 'attribute') {\n        return element.matches(selector.content);\n    }\n    else if (selector.type === 'list') {\n        return selector.list.some((s) => matches(element, s));\n    }\n    else if (selector.type === 'compound') {\n        return selector.compound.every((s) => matches(element, s));\n    }\n    else if (selector.type === 'pseudo-class') {\n        if (selector.name === 'has' || selector.name === 'if') {\n            // TODO - is this a querySelectorAll or matches here?\n            return (selector.subtree !== undefined && querySelectorAll(element, selector.subtree).length !== 0);\n        }\n        else if (selector.name === 'not') {\n            return selector.subtree !== undefined && matches(element, selector.subtree) === false;\n        }\n        else if (selector.name === 'has-text') {\n            const { argument } = selector;\n            if (argument === undefined) {\n                return false;\n            }\n            const text = element.textContent;\n            if (text === null) {\n                return false;\n            }\n            return matchPattern(argument, text);\n        }\n        else if (selector.name === 'min-text-length') {\n            const minLength = Number(selector.argument);\n            if (Number.isNaN(minLength) || minLength < 0) {\n                return false;\n            }\n            const text = element.textContent;\n            if (text === null) {\n                return false;\n            }\n            return text.length >= minLength;\n        }\n    }\n    return false;\n}\nexports.matches = matches;\nfunction querySelectorAll(element, selector) {\n    const elements = [];\n    if (selector.type === 'id' ||\n        selector.type === 'class' ||\n        selector.type === 'type' ||\n        selector.type === 'attribute') {\n        elements.push(...element.querySelectorAll(selector.content));\n    }\n    else if (selector.type === 'list') {\n        for (const subSelector of selector.list) {\n            elements.push(...querySelectorAll(element, subSelector));\n        }\n    }\n    else if (selector.type === 'compound') {\n        // TODO - handling compound needs to be reworked...\n        // .cls:upward(1) for example will not work with this implementation.\n        // :upward is not about selecting, but transforming a set of nodes (i.e.\n        // uBO's transpose method).\n        if (selector.compound.length !== 0) {\n            elements.push(...querySelectorAll(element, selector.compound[0]).filter((e) => selector.compound.slice(1).every((s) => matches(e, s))));\n        }\n    }\n    else if (selector.type === 'complex') {\n        const elements2 = selector.left === undefined ? [element] : querySelectorAll(element, selector.left);\n        if (selector.combinator === ' ') {\n            for (const element2 of elements2) {\n                elements.push(...querySelectorAll(element2, selector.right));\n            }\n        }\n        else if (selector.combinator === '>') {\n            for (const element2 of elements2) {\n                for (const child of element2.children) {\n                    if (matches(child, selector.right) === true) {\n                        elements.push(child);\n                    }\n                }\n            }\n        }\n        else if (selector.combinator === '~') {\n            for (const element2 of elements2) {\n                let sibling = element2;\n                /* tslint:disable no-conditional-assignment */\n                while ((sibling = sibling.nextElementSibling) !== null) {\n                    if (matches(sibling, selector.right) === true) {\n                        elements.push(sibling);\n                    }\n                }\n            }\n        }\n        else if (selector.combinator === '+') {\n            for (const element2 of elements2) {\n                const nextElementSibling = element2.nextElementSibling;\n                if (nextElementSibling !== null && matches(nextElementSibling, selector.right) === true) {\n                    elements.push(nextElementSibling);\n                }\n            }\n        }\n    }\n    else if (selector.type === 'pseudo-class') {\n        // if (selector.name === 'upward') {\n        //   let n = Number(selector.argument);\n        //   console.log('upward', selector, n);\n        //   if (Number.isNaN(n) === false) {\n        //     if (n >= 1 && n < 256) {\n        //       let ancestor: Element | null = element;\n        //       while (ancestor !== null && n > 0) {\n        //         ancestor = ancestor.parentElement;\n        //         n -= 1;\n        //       }\n        //       if (ancestor !== null && n === 0) {\n        //         elements.push(element);\n        //       }\n        //     }\n        //   } else if (selector.argument !== undefined) {\n        //     const parent = element.parentElement;\n        //     if (parent !== null) {\n        //       const ancestor = parent.closest(selector.argument);\n        //       if (ancestor !== null) {\n        //         elements.push(ancestor);\n        //       }\n        //     }\n        //   }\n        // } else {\n        for (const subElement of element.querySelectorAll('*')) {\n            if (matches(subElement, selector) === true) {\n                elements.push(subElement);\n            }\n        }\n        // }\n    }\n    return elements;\n}\nexports.querySelectorAll = querySelectorAll;\n//# sourceMappingURL=eval.js.map","\"use strict\";\n/*!\n * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.classifySelector = exports.SelectorType = exports.PSEUDO_ELEMENTS = exports.PSEUDO_CLASSES = exports.EXTENDED_PSEUDO_CLASSES = void 0;\nconst parse_1 = require(\"./parse\");\nexports.EXTENDED_PSEUDO_CLASSES = new Set([\n    // '-abp-contains',\n    // '-abp-has',\n    // '-abp-properties',\n    'has',\n    'has-text',\n    'if',\n    // 'if-not',\n    // 'matches-css',\n    // 'matches-css-after',\n    // 'matches-css-before',\n    // 'min-text-length',\n    // 'nth-ancestor',\n    // 'upward',\n    // 'watch-attr',\n    // 'watch-attrs',\n    // 'xpath',\n]);\nexports.PSEUDO_CLASSES = new Set([\n    'active',\n    'any',\n    'any-link',\n    'blank',\n    'checked',\n    'default',\n    'defined',\n    'dir',\n    'disabled',\n    'empty',\n    'enabled',\n    'first',\n    'first-child',\n    'first-of-type',\n    'focus',\n    'focus-visible',\n    'focus-within',\n    'fullscreen',\n    'host',\n    'host-context',\n    'hover',\n    'in-range',\n    'indeterminate',\n    'invalid',\n    'is',\n    'lang',\n    'last-child',\n    'last-of-type',\n    'left',\n    'link',\n    'matches',\n    // NOTE: by default we consider `:not(...)` to be a normal CSS selector since,\n    // we are only interested in cases where the argument is an extended selector.\n    // If that is the case, it will still be detected as such.\n    'not',\n    'nth-child',\n    'nth-last-child',\n    'nth-last-of-type',\n    'nth-of-type',\n    'only-child',\n    'only-of-type',\n    'optional',\n    'out-of-range',\n    'placeholder-shown',\n    'read-only',\n    'read-write',\n    'required',\n    'right',\n    'root',\n    'scope',\n    'target',\n    'valid',\n    'visited',\n    'where',\n]);\n// NOTE: here we only need to list the pseudo-elements which can appear with a\n// single colon (e.g. :after or ::after are valid for backward compatibility\n// reasons). They can be misinterpreted as pseudo-classes by the tokenizer for\n// this reason.\nexports.PSEUDO_ELEMENTS = new Set(['after', 'before', 'first-letter', 'first-line']);\nvar SelectorType;\n(function (SelectorType) {\n    SelectorType[SelectorType[\"Normal\"] = 0] = \"Normal\";\n    SelectorType[SelectorType[\"Extended\"] = 1] = \"Extended\";\n    SelectorType[SelectorType[\"Invalid\"] = 2] = \"Invalid\";\n})(SelectorType = exports.SelectorType || (exports.SelectorType = {}));\nfunction classifySelector(selector) {\n    // In most cases there is no pseudo-anything so we can quickly exit.\n    if (selector.indexOf(':') === -1) {\n        return SelectorType.Normal;\n    }\n    const tokens = (0, parse_1.tokenize)(selector);\n    // Detect pseudo-classes\n    let foundSupportedExtendedSelector = false;\n    for (const token of tokens) {\n        if (token.type === 'pseudo-class') {\n            const { name } = token;\n            if (exports.EXTENDED_PSEUDO_CLASSES.has(name) === true) {\n                foundSupportedExtendedSelector = true;\n            }\n            else if (exports.PSEUDO_CLASSES.has(name) === false && exports.PSEUDO_ELEMENTS.has(name) === false) {\n                return SelectorType.Invalid;\n            }\n            // Recursively\n            if (foundSupportedExtendedSelector === false &&\n                token.argument !== undefined &&\n                parse_1.RECURSIVE_PSEUDO_CLASSES.has(name) === true) {\n                const argumentType = classifySelector(token.argument);\n                if (argumentType === SelectorType.Invalid) {\n                    return argumentType;\n                }\n                else if (argumentType === SelectorType.Extended) {\n                    foundSupportedExtendedSelector = true;\n                }\n            }\n        }\n    }\n    if (foundSupportedExtendedSelector === true) {\n        return SelectorType.Extended;\n    }\n    return SelectorType.Normal;\n}\nexports.classifySelector = classifySelector;\n//# sourceMappingURL=extended.js.map","\"use strict\";\n/*!\n * Based on parsel. Extended by Rémi Berson for Ghostery (2021).\n * https://github.com/LeaVerou/parsel\n *\n * MIT License\n *\n * Copyright (c) 2020 Lea Verou\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = exports.tokenize = exports.replace = exports.gobbleParens = exports.gobbleQuotes = exports.isEscaped = exports.RECURSIVE_PSEUDO_CLASSES = void 0;\nconst types_1 = require(\"./types\");\nexports.RECURSIVE_PSEUDO_CLASSES = new Set([\n    'any',\n    'dir',\n    'has',\n    'host-context',\n    'if',\n    'if-not',\n    'is',\n    'matches',\n    'not',\n    'where',\n]);\nconst TOKENS = {\n    attribute: /\\[\\s*(?:(?<namespace>\\*|[-\\w]*)\\|)?(?<name>[-\\w\\u{0080}-\\u{FFFF}]+)\\s*(?:(?<operator>\\W?=)\\s*(?<value>.+?)\\s*(?<caseSensitive>[iIsS])?\\s*)?\\]/gu,\n    id: /#(?<name>(?:[-\\w\\u{0080}-\\u{FFFF}]|\\\\.)+)/gu,\n    class: /\\.(?<name>(?:[-\\w\\u{0080}-\\u{FFFF}]|\\\\.)+)/gu,\n    comma: /\\s*,\\s*/g,\n    combinator: /\\s*[\\s>+~]\\s*/g,\n    'pseudo-element': /::(?<name>[-\\w\\u{0080}-\\u{FFFF}]+)(?:\\((?:¶*)\\))?/gu,\n    'pseudo-class': /:(?<name>[-\\w\\u{0080}-\\u{FFFF}]+)(?:\\((?<argument>¶*)\\))?/gu,\n    type: /(?:(?<namespace>\\*|[-\\w]*)\\|)?(?<name>[-\\w\\u{0080}-\\u{FFFF}]+)|\\*/gu, // this must be last\n};\nconst TOKENS_WITH_PARENS = new Set(['pseudo-class', 'pseudo-element']);\nconst TOKENS_WITH_STRINGS = new Set([...TOKENS_WITH_PARENS, 'attribute']);\nconst TRIM_TOKENS = new Set(['combinator', 'comma']);\nconst TOKENS_FOR_RESTORE = Object.assign({}, TOKENS);\nTOKENS_FOR_RESTORE['pseudo-element'] = RegExp(TOKENS['pseudo-element'].source.replace('(?<argument>¶*)', '(?<argument>.*?)'), 'gu');\nTOKENS_FOR_RESTORE['pseudo-class'] = RegExp(TOKENS['pseudo-class'].source.replace('(?<argument>¶*)', '(?<argument>.*)'), 'gu');\n// TODO - it feels like with some more typing shenanigans we could replace groups validation by generic logic in this function.\nfunction splitOnMatch(pattern, str) {\n    pattern.lastIndex = 0;\n    const match = pattern.exec(str);\n    if (match === null) {\n        return undefined;\n    }\n    const from = match.index - 1;\n    const content = match[0];\n    const before = str.slice(0, from + 1);\n    const after = str.slice(from + content.length + 1);\n    return [before, [content, match.groups || {}], after];\n}\nconst GRAMMAR = [\n    // attribute\n    (str) => {\n        const match = splitOnMatch(TOKENS.attribute, str);\n        if (match === undefined) {\n            return undefined;\n        }\n        const [before, [content, { name, operator, value, namespace, caseSensitive }], after] = match;\n        if (name === undefined) {\n            return undefined;\n        }\n        return [\n            before,\n            {\n                type: 'attribute',\n                content,\n                length: content.length,\n                namespace,\n                caseSensitive,\n                pos: [],\n                name,\n                operator,\n                value,\n            },\n            after,\n        ];\n    },\n    // #id\n    (str) => {\n        const match = splitOnMatch(TOKENS.id, str);\n        if (match === undefined) {\n            return undefined;\n        }\n        const [before, [content, { name }], after] = match;\n        if (name === undefined) {\n            return undefined;\n        }\n        return [\n            before,\n            {\n                type: 'id',\n                content,\n                length: content.length,\n                pos: [],\n                name,\n            },\n            after,\n        ];\n    },\n    // .class\n    (str) => {\n        const match = splitOnMatch(TOKENS.class, str);\n        if (match === undefined) {\n            return undefined;\n        }\n        const [before, [content, { name }], after] = match;\n        if (name === undefined) {\n            return undefined;\n        }\n        return [\n            before,\n            {\n                type: 'class',\n                content,\n                length: content.length,\n                pos: [],\n                name,\n            },\n            after,\n        ];\n    },\n    // comma ,\n    (str) => {\n        const match = splitOnMatch(TOKENS.comma, str);\n        if (match === undefined) {\n            return undefined;\n        }\n        const [before, [content], after] = match;\n        return [\n            before,\n            {\n                type: 'comma',\n                content,\n                length: content.length,\n                pos: [],\n            },\n            after,\n        ];\n    },\n    // combinator\n    (str) => {\n        const match = splitOnMatch(TOKENS.combinator, str);\n        if (match === undefined) {\n            return undefined;\n        }\n        const [before, [content], after] = match;\n        return [\n            before,\n            {\n                type: 'combinator',\n                content,\n                length: content.length,\n                pos: [],\n            },\n            after,\n        ];\n    },\n    // pseudo-element\n    (str) => {\n        const match = splitOnMatch(TOKENS['pseudo-element'], str);\n        if (match === undefined) {\n            return undefined;\n        }\n        const [before, [content, { name }], after] = match;\n        if (name === undefined) {\n            return undefined;\n        }\n        return [\n            before,\n            {\n                type: 'pseudo-element',\n                content,\n                length: content.length,\n                pos: [],\n                name,\n            },\n            after,\n        ];\n    },\n    // pseudo-class\n    (str) => {\n        const match = splitOnMatch(TOKENS['pseudo-class'], str);\n        if (match === undefined) {\n            return undefined;\n        }\n        // TODO - here `argument` can be undefined and should be rejected?\n        const [before, [content, { name, argument }], after] = match;\n        if (name === undefined) {\n            return undefined;\n        }\n        return [\n            before,\n            {\n                type: 'pseudo-class',\n                content,\n                length: content.length,\n                pos: [],\n                name,\n                argument,\n                subtree: undefined,\n            },\n            after,\n        ];\n    },\n    // type\n    (str) => {\n        const match = splitOnMatch(TOKENS.type, str);\n        if (match === undefined) {\n            return undefined;\n        }\n        const [before, [content, { name, namespace }], after] = match;\n        return [\n            before,\n            {\n                type: 'type',\n                content,\n                length: content.length,\n                namespace,\n                pos: [],\n                name,\n            },\n            after,\n        ];\n    },\n];\nfunction tokenizeBy(text) {\n    if (!text) {\n        return [];\n    }\n    const strarr = [text];\n    for (const tokenizer of GRAMMAR) {\n        for (let i = 0; i < strarr.length; i++) {\n            const str = strarr[i];\n            if (typeof str === 'string') {\n                const match = tokenizer(str);\n                if (match !== undefined) {\n                    strarr.splice(i, 1, ...match.filter((a) => a.length !== 0));\n                }\n            }\n        }\n    }\n    let offset = 0;\n    for (const token of strarr) {\n        if (typeof token !== 'string') {\n            token.pos = [offset, offset + token.length];\n            if (TRIM_TOKENS.has(token.type)) {\n                token.content = token.content.trim() || ' ';\n            }\n        }\n        offset += token.length;\n    }\n    if ((0, types_1.isAtoms)(strarr)) {\n        return strarr;\n    }\n    // NOTE: here this means that parsing failed.\n    return [];\n}\nfunction restoreNested(tokens, strings, regex, types) {\n    // TODO - here from offsets in strings and tokens we should be able to find the exact spot without RegExp?\n    for (const str of strings) {\n        for (const token of tokens) {\n            if (types.has(token.type) && token.pos[0] < str.start && str.start < token.pos[1]) {\n                const content = token.content;\n                token.content = token.content.replace(regex, str.str);\n                if (token.content !== content) {\n                    // actually changed?\n                    // Re-evaluate groups\n                    TOKENS_FOR_RESTORE[token.type].lastIndex = 0;\n                    const match = TOKENS_FOR_RESTORE[token.type].exec(token.content);\n                    if (match !== null) {\n                        Object.assign(token, match.groups);\n                    }\n                }\n            }\n        }\n    }\n}\nfunction isEscaped(str, index) {\n    let backslashes = 0;\n    index -= 1;\n    while (index >= 0 && str[index] === '\\\\') {\n        backslashes += 1;\n        index -= 1;\n    }\n    return backslashes % 2 !== 0;\n}\nexports.isEscaped = isEscaped;\nfunction gobbleQuotes(text, quote, start) {\n    // Find end of quote, taking care of ignoring escaped quotes\n    let end = start + 1;\n    /* tslint:disable no-conditional-assignment */\n    while ((end = text.indexOf(quote, end)) !== -1 && isEscaped(text, end) === true) {\n        end += 1;\n    }\n    if (end === -1) {\n        // Opening quote without closing quote\n        return undefined;\n    }\n    return text.slice(start, end + 1);\n}\nexports.gobbleQuotes = gobbleQuotes;\nfunction gobbleParens(text, start) {\n    let stack = 0;\n    for (let i = start; i < text.length; i++) {\n        const char = text[i];\n        if (char === '(') {\n            stack += 1;\n        }\n        else if (char === ')') {\n            if (stack > 0) {\n                stack -= 1;\n            }\n            else {\n                // Closing paren without opening paren\n                return undefined;\n            }\n        }\n        if (stack === 0) {\n            return text.slice(start, i + 1);\n        }\n    }\n    // Opening paren without closing paren\n    return undefined;\n}\nexports.gobbleParens = gobbleParens;\nfunction replace(selector, replacement, opening, gobble) {\n    const strings = [];\n    let offset = 0;\n    /* tslint:disable no-conditional-assignment */\n    while ((offset = selector.indexOf(opening, offset)) !== -1) {\n        const str = gobble(selector, offset);\n        if (str === undefined) {\n            break;\n        }\n        strings.push({ str, start: offset });\n        selector = `${selector.slice(0, offset + 1)}${replacement.repeat(str.length - 2)}${selector.slice(offset + str.length - 1)}`;\n        offset += str.length;\n    }\n    return [strings, selector];\n}\nexports.replace = replace;\nfunction tokenize(selector) {\n    if (typeof selector !== 'string') {\n        return [];\n    }\n    // Prevent leading/trailing whitespace be interpreted as combinators\n    selector = selector.trim();\n    if (selector.length === 0) {\n        return [];\n    }\n    // Replace strings with whitespace strings (to preserve offsets)\n    const [doubleQuotes, selectorWithoutDoubleQuotes] = replace(selector, '§', '\"', (text, start) => gobbleQuotes(text, '\"', start));\n    const [singleQuotes, selectorWithoutQuotes] = replace(selectorWithoutDoubleQuotes, '§', \"'\", (text, start) => gobbleQuotes(text, \"'\", start));\n    // Now that strings are out of the way, extract parens and replace them with parens with whitespace (to preserve offsets)\n    const [parens, selectorWithoutParens] = replace(selectorWithoutQuotes, '¶', '(', gobbleParens);\n    // Now we have no nested structures and we can parse with regexes\n    const tokens = tokenizeBy(selectorWithoutParens);\n    // Now restore parens and strings in reverse order\n    restoreNested(tokens, parens, /\\(¶*\\)/, TOKENS_WITH_PARENS);\n    restoreNested(tokens, doubleQuotes, /\"§*\"/, TOKENS_WITH_STRINGS);\n    restoreNested(tokens, singleQuotes, /'§*'/, TOKENS_WITH_STRINGS);\n    return tokens;\n}\nexports.tokenize = tokenize;\n// Convert a flat list of tokens into a tree of complex & compound selectors\nfunction nestTokens(tokens, { list = true } = {}) {\n    if (list === true && tokens.some((t) => t.type === 'comma')) {\n        const selectors = [];\n        const temp = [];\n        for (let i = 0; i < tokens.length; i += 1) {\n            const token = tokens[i];\n            if (token.type === 'comma') {\n                if (temp.length === 0) {\n                    throw new Error('Incorrect comma at ' + i);\n                }\n                const sub = nestTokens(temp, { list: false });\n                if (sub !== undefined) {\n                    selectors.push(sub);\n                }\n                temp.length = 0;\n            }\n            else {\n                temp.push(token);\n            }\n        }\n        if (temp.length === 0) {\n            throw new Error('Trailing comma');\n        }\n        else {\n            const sub = nestTokens(temp, { list: false });\n            if (sub !== undefined) {\n                selectors.push(sub);\n            }\n        }\n        return { type: 'list', list: selectors };\n    }\n    for (let i = tokens.length - 1; i >= 0; i--) {\n        const token = tokens[i];\n        if (token.type === 'combinator') {\n            const left = nestTokens(tokens.slice(0, i));\n            const right = nestTokens(tokens.slice(i + 1));\n            if (right === undefined) {\n                return undefined;\n            }\n            if (token.content !== ' ' &&\n                token.content !== '~' &&\n                token.content !== '+' &&\n                token.content !== '>') {\n                return undefined;\n            }\n            return {\n                type: 'complex',\n                combinator: token.content,\n                left,\n                right,\n            };\n        }\n    }\n    if (tokens.length === 0) {\n        return undefined;\n    }\n    if ((0, types_1.isAST)(tokens)) {\n        if (tokens.length === 1) {\n            return tokens[0];\n        }\n        // If we're here, there are no combinators, so it's just a list\n        return {\n            type: 'compound',\n            compound: [...tokens], // clone to avoid pointers messing up the AST\n        };\n    }\n    return undefined;\n}\n// Traverse an AST (or part thereof), in depth-first order\nfunction walk(node, callback, o, parent) {\n    if (node === undefined) {\n        return;\n    }\n    if (node.type === 'complex') {\n        walk(node.left, callback, o, node);\n        walk(node.right, callback, o, node);\n    }\n    else if (node.type === 'compound') {\n        for (const n of node.compound) {\n            walk(n, callback, o, node);\n        }\n    }\n    else if (node.type === 'pseudo-class' &&\n        node.subtree !== undefined &&\n        o !== undefined &&\n        o.type === 'pseudo-class' &&\n        o.subtree !== undefined) {\n        walk(node.subtree, callback, o, node);\n    }\n    callback(node, parent);\n}\n/**\n * Parse a CSS selector\n * @param selector {String} The selector to parse\n * @param options.recursive {Boolean} Whether to parse the arguments of pseudo-classes like :is(), :has() etc. Defaults to true.\n * @param options.list {Boolean} Whether this can be a selector list (A, B, C etc). Defaults to true.\n */\nfunction parse(selector, { recursive = true, list = true } = {}) {\n    const tokens = tokenize(selector);\n    if (tokens.length === 0) {\n        return undefined;\n    }\n    const ast = nestTokens(tokens, { list });\n    if (recursive === true) {\n        walk(ast, (node) => {\n            if (node.type === 'pseudo-class' &&\n                node.argument &&\n                node.name !== undefined &&\n                exports.RECURSIVE_PSEUDO_CLASSES.has(node.name)) {\n                node.subtree = parse(node.argument, { recursive: true, list: true });\n            }\n        });\n    }\n    return ast;\n}\nexports.parse = parse;\n//# sourceMappingURL=parse.js.map","\"use strict\";\n/*!\n * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAST = exports.isAtoms = void 0;\nconst tokenTypes = [\n    'attribute',\n    'id',\n    'class',\n    'comma',\n    'combinator',\n    'pseudo-element',\n    'pseudo-class',\n    'type',\n];\nfunction isAtoms(tokens) {\n    return tokens.every((token) => typeof token !== 'string');\n}\nexports.isAtoms = isAtoms;\nfunction isAST(tokens) {\n    return tokens.every((token) => token.type !== 'comma' && token.type !== 'combinator');\n}\nexports.isAST = isAST;\n//# sourceMappingURL=types.js.map","\"use strict\";\n/*!\n * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectCosmetics = void 0;\n// TODO - move to @cliqz/adblocker-content\nconst adblocker_extended_selectors_1 = require(\"@cliqz/adblocker-extended-selectors\");\nconst adblocker_content_1 = require(\"@cliqz/adblocker-content\");\nlet ACTIVE = true;\nlet DOM_MONITOR = null;\nlet UPDATE_EXTENDED_TIMEOUT = null;\nconst PENDING = new Set();\nconst EXTENDED = [];\nconst HIDDEN = new Map();\nfunction unload() {\n    if (DOM_MONITOR !== null) {\n        DOM_MONITOR.stop();\n        DOM_MONITOR = null;\n    }\n}\n/**\n * Because all the filters and matching logic lives in the background of the\n * extension, the content script needs a way to request relevant cosmetic\n * filters for each frame. This channel of communication can be handled in\n * several ways (`connect`, `sendMessage`). Here we will make use of\n * `sendMessage` for one-off communications.\n *\n * `getCosmeticsFiltersWithSendMessage` wraps the logic of communicating with\n * the background and will be used to request cosmetics filters for the current\n * frame.\n *\n * The background should listen to these messages and answer back with lists of\n * filters to be injected in the page.\n */\nfunction getCosmeticsFiltersWithSendMessage(arg) {\n    return new Promise((resolve) => {\n        chrome.runtime.sendMessage(Object.assign({ action: 'getCosmeticsFilters' }, arg), (response) => {\n            if (response !== undefined) {\n                resolve(response);\n            }\n        });\n    });\n}\nfunction cachedQuerySelector(root, selector, cache) {\n    var _a;\n    // First check if we have a result in cache for this node and selector\n    const cachedElements = (_a = cache.get(root)) === null || _a === void 0 ? void 0 : _a.get(selector);\n    if (cachedElements !== undefined) {\n        return cachedElements;\n    }\n    const selected = new Set((0, adblocker_extended_selectors_1.querySelectorAll)(root, selector.ast));\n    // Cache result for next time!\n    if (selector.attribute !== undefined) {\n        let cachedSelectors = cache.get(root);\n        if (cachedSelectors === undefined) {\n            cachedSelectors = new Map();\n            cache.set(root, cachedSelectors);\n        }\n        let cachedSelected = cachedSelectors.get(selector);\n        if (cachedSelected === undefined) {\n            cachedSelected = new Set();\n            cachedSelectors.set(selector, cachedSelected);\n        }\n        for (const element of selected) {\n            cachedSelected.add(element);\n        }\n    }\n    return selected;\n}\nfunction updateExtended() {\n    if (PENDING.size === 0 || EXTENDED.length === 0) {\n        return;\n    }\n    const cache = new Map();\n    const elementsToHide = new Map();\n    // Since we are processing elements in a delayed fashion, it is possible\n    // that some short-lived DOM nodes are already detached. Here we simply\n    // ignore them.\n    const roots = [...PENDING].filter((e) => e.isConnected === true);\n    PENDING.clear();\n    for (const root of roots) {\n        for (const selector of EXTENDED) {\n            for (const element of cachedQuerySelector(root, selector, cache)) {\n                if (selector.remove === true) {\n                    element.textContent = '';\n                    element.remove();\n                }\n                else if (selector.attribute !== undefined && HIDDEN.has(element) === false) {\n                    elementsToHide.set(element, { selector, root });\n                }\n            }\n        }\n    }\n    // Hide new nodes if any\n    for (const [element, { selector, root }] of elementsToHide.entries()) {\n        if (selector.attribute !== undefined) {\n            element.setAttribute(selector.attribute, '');\n            HIDDEN.set(element, { selector, root });\n        }\n    }\n    // Check if some elements should be un-hidden.\n    for (const [element, { selector, root }] of [...HIDDEN.entries()]) {\n        if (selector.attribute !== undefined) {\n            if (root.isConnected === false ||\n                element.isConnected === false ||\n                cachedQuerySelector(root, selector, cache).has(element) === false) {\n                HIDDEN.delete(element);\n                element.removeAttribute(selector.attribute);\n            }\n        }\n    }\n}\n/**\n * Queue `elements` to be processed asynchronously in a batch way (for\n * efficiency). This is important to not do more work than necessary, for\n * example if the same set of nodes is updated multiple times in a raw on\n * user-interaction (e.g. a dropdown); this allows to only check these nodes\n * once, and to not block the UI.\n */\nfunction delayedUpdateExtended(elements) {\n    // If we do not have any extended filters applied to this frame, then we do\n    // not need to do anything. We just ignore.\n    if (EXTENDED.length === 0) {\n        return;\n    }\n    // If root DOM element is already part of PENDING, no need to queue other elements.\n    if (PENDING.has(window.document.documentElement)) {\n        return;\n    }\n    // Queue up new elements into the global PENDING set, which will be processed\n    // in a batch maner from a setTimeout.\n    for (const element of elements) {\n        // If we get the DOM root then we can clear everything else from the queue\n        // since we will be looking at all nodes anyway.\n        if (element === window.document.documentElement) {\n            PENDING.clear();\n            PENDING.add(element);\n            break;\n        }\n        PENDING.add(element);\n    }\n    // Check if we need to trigger a setTimeout to process pending elements.\n    if (UPDATE_EXTENDED_TIMEOUT === null) {\n        UPDATE_EXTENDED_TIMEOUT = setTimeout(() => {\n            UPDATE_EXTENDED_TIMEOUT = null;\n            updateExtended();\n        }, 1000);\n    }\n}\nfunction handleResponseFromBackground(window, { active, scripts, extended }) {\n    if (active === false) {\n        ACTIVE = false;\n        unload();\n        return;\n    }\n    else {\n        ACTIVE = true;\n    }\n    // Inject scripts\n    if (scripts) {\n        setTimeout(() => {\n            for (const script of scripts) {\n                (0, adblocker_content_1.injectScript)(script, window.document);\n            }\n        }, 0);\n    }\n    // Extended CSS\n    if (extended && extended.length > 0) {\n        EXTENDED.push(...extended);\n        delayedUpdateExtended([window.document.documentElement]);\n    }\n}\n/**\n * Takes care of injecting cosmetic filters in a given window. Responsabilities:\n * - Inject scripts.\n * - Block scripts.\n *\n * NOTE: Custom stylesheets are now injected from background.\n *\n * All this happens by communicating with the background through the\n * `backgroundAction` function (to trigger request the sending of new rules\n * based on a domain or node selectors) and the `handleResponseFromBackground`\n * callback to apply new rules.\n */\nfunction injectCosmetics(window, enableMutationObserver = true, getCosmeticsFilters = getCosmeticsFiltersWithSendMessage) {\n    // Invoked as soon as content-script is injected to ask for background to\n    // inject cosmetics and scripts as soon as possible. Some extra elements\n    // might be inserted later whenever we know more about the content of the\n    // page.\n    getCosmeticsFilters({ lifecycle: 'start', ids: [], classes: [], hrefs: [] }).then((response) => handleResponseFromBackground(window, response));\n    // On DOMContentLoaded, start monitoring the DOM. This means that we will\n    // first check which ids and classes exist in the DOM as a one-off operation;\n    // this will allow the injection of selectors which have a chance to match.\n    // We also register a MutationObserver which will monitor the addition of new\n    // classes and ids, and might trigger extra filters on a per-need basis.\n    window.addEventListener('DOMContentLoaded', () => {\n        DOM_MONITOR = new adblocker_content_1.DOMMonitor((update) => {\n            if (update.type === 'elements') {\n                if (update.elements.length !== 0) {\n                    delayedUpdateExtended(update.elements);\n                }\n            }\n            else {\n                getCosmeticsFilters(Object.assign(Object.assign({}, update), { lifecycle: 'dom-update' })).then((response) => handleResponseFromBackground(window, response));\n            }\n        });\n        DOM_MONITOR.queryAll(window);\n        // Start observing mutations to detect new ids and classes which would\n        // need to be hidden.\n        if (ACTIVE && enableMutationObserver) {\n            DOM_MONITOR.start(window);\n        }\n    }, { once: true, passive: true });\n    window.addEventListener('pagehide', unload, { once: true, passive: true });\n}\nexports.injectCosmetics = injectCosmetics;\n//# sourceMappingURL=adblocker.js.map","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});function t(){return crypto&&void 0!==crypto.randomUUID?crypto.randomUUID():Math.random().toString()}class e{constructor(t,e=1e3){this.id=t,this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e})),this.timer=window.setTimeout((()=>{this.reject(new Error(\"timeout\"))}),e)}}const n={pending:new Map,sendContentMessage:null};function o(t=\"autoconsent-css-rules\"){const e=`style#${t}`,n=document.querySelector(e);if(n&&n instanceof HTMLStyleElement)return n;{const e=document.head||document.getElementsByTagName(\"head\")[0]||document.documentElement,n=document.createElement(\"style\");return n.id=t,e.appendChild(n),n}}function i(t,e,n=\"display\"){const o=\"opacity\"===n?\"opacity: 0\":\"display: none\",i=`${e.join(\",\")} { ${o} !important; z-index: -1 !important; pointer-events: none !important; } `;return t instanceof HTMLStyleElement&&(t.innerText+=i,e.length>0)}async function s(t,e,n){const o=await t();return!o&&e>0?new Promise((o=>{setTimeout((async()=>{o(s(t,e-1,n))}),n)})):Promise.resolve(o)}function r(t){if(!t)return!1;if(null!==t.offsetParent)return!0;{const e=window.getComputedStyle(t);if(\"fixed\"===e.position&&\"none\"!==e.display)return!0}return!1}function c(o){return function(o){const i=t();n.sendContentMessage({type:\"eval\",id:i,code:o});const s=new e(i);return n.pending.set(s.id,s),s.promise}(o).catch((t=>!1))}function a(t,e=!1){let n=[];return n=\"string\"==typeof t?Array.from(document.querySelectorAll(t)):t,n.length>0&&(e?n.forEach((t=>t.click())):n[0].click()),n.length>0}function u(t){return null!==document.querySelector(t)}function l(t,e){const n=document.querySelectorAll(t),o=new Array(n.length);return n.forEach(((t,e)=>{o[e]=r(t)})),\"none\"===e?o.every((t=>!t)):0!==o.length&&(\"any\"===e?o.some((t=>t)):o.every((t=>t)))}function p(t,e=1e4){return s((()=>null!==document.querySelector(t)),Math.ceil(e/200),200)}async function d(t,e=1e4,n=!1){return await p(t,e),a(t,n)}function h(t){return new Promise((e=>{setTimeout((()=>{e(!0)}),t)}))}const m={main:!0,frame:!1,urlPattern:\"\"};class f{constructor(t){this.runContext=m,this.name=t}get hasSelfTest(){throw new Error(\"Not Implemented\")}get isIntermediate(){throw new Error(\"Not Implemented\")}get isCosmetic(){throw new Error(\"Not Implemented\")}checkRunContext(){const t={...m,...this.runContext},e=window.top===window;return!(e&&!t.main)&&(!(!e&&!t.frame)&&!(t.urlPattern&&!window.location.href.match(t.urlPattern)))}detectCmp(){throw new Error(\"Not Implemented\")}async detectPopup(){return!1}optOut(){throw new Error(\"Not Implemented\")}optIn(){throw new Error(\"Not Implemented\")}openCmp(){throw new Error(\"Not Implemented\")}async test(){return Promise.resolve(!0)}}async function y(t){const e=[];if(t.exists&&e.push(u(t.exists)),t.visible&&e.push(l(t.visible,t.check)),t.eval){const n=c(t.eval);e.push(n)}var n,r;if(t.waitFor&&e.push(p(t.waitFor,t.timeout)),t.waitForVisible&&e.push(function(t,e=1e4,n=\"any\"){return s((()=>l(t,n)),Math.ceil(e/200),200)}(t.waitForVisible,t.timeout,t.check)),t.click&&e.push(a(t.click,t.all)),t.waitForThenClick&&e.push(d(t.waitForThenClick,t.timeout,t.all)),t.wait&&e.push(h(t.wait)),t.hide&&e.push((n=t.hide,r=t.method,i(o(),n,r))),t.if){if(!t.if.exists&&!t.if.visible)return console.error(\"invalid conditional rule\",t.if),!1;await y(t.if)?e.push(w(t.then)):t.else&&e.push(w(t.else))}if(0===e.length)return!1;return(await Promise.all(e)).reduce(((t,e)=>t&&e),!0)}async function w(t){for(const e of t){if(!await y(e)&&!e.optional)return!1}return!0}class g extends f{constructor(t){super(t.name),this.config=t,this.runContext=t.runContext||m}get hasSelfTest(){return!!this.config.test}get isIntermediate(){return!!this.config.intermediate}get isCosmetic(){return!!this.config.cosmetic}get prehideSelectors(){return this.config.prehideSelectors}async detectCmp(){return!!this.config.detectCmp&&async function(t){const e=t.map((t=>y(t)));return(await Promise.all(e)).every((t=>!!t))}(this.config.detectCmp)}async detectPopup(){return!!this.config.detectPopup&&w(this.config.detectPopup)}async optOut(){return!!this.config.optOut&&w(this.config.optOut)}async optIn(){return!!this.config.optIn&&w(this.config.optIn)}async openCmp(){return!!this.config.openCmp&&w(this.config.openCmp)}async test(){return this.hasSelfTest?w(this.config.test):super.test()}}function C(t){return new g(t)}const b=[new class extends f{constructor(){super(\"TrustArc-top\"),this.prehideSelectors=[\".trustarc-banner-container\",\".truste_popframe,.truste_overlay,.truste_box_overlay,#truste-consent-track\"],this.runContext={main:!0,frame:!1},this._shortcutButton=null,this._optInDone=!1}get hasSelfTest(){return!1}get isIntermediate(){return!this._optInDone&&!this._shortcutButton}get isCosmetic(){return!1}async detectCmp(){const t=u(\"#truste-show-consent,#truste-consent-track\");return t&&(this._shortcutButton=document.querySelector(\"#truste-consent-required\")),t}async detectPopup(){return l(\"#truste-consent-content,#trustarc-banner-overlay,#truste-consent-track\",\"all\")}openFrame(){a(\"#truste-show-consent\")}async optOut(){return this._shortcutButton?(this._shortcutButton.click(),!0):(i(o(),[\".truste_popframe\",\".truste_overlay\",\".truste_box_overlay\",\"#truste-consent-track\"]),a(\"#truste-show-consent\"),setTimeout((()=>{o().remove()}),1e4),!0)}async optIn(){return this._optInDone=!0,a(\"#truste-consent-button\")}async openCmp(){return!0}async test(){return!0}},new class extends f{constructor(){super(\"TrustArc-frame\"),this.runContext={main:!1,frame:!0,urlPattern:\"^https://consent-pref\\\\.trustarc\\\\.com/\\\\?\"}}get hasSelfTest(){return!1}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return!0}async detectPopup(){return l(\"#defaultpreferencemanager\",\"any\")&&l(\".mainContent\",\"any\")}async navigateToSettings(){return await s((async()=>u(\".shp\")||l(\".advance\",\"any\")||u(\".switch span:first-child\")),10,500),u(\".shp\")&&a(\".shp\"),await p(\".prefPanel\",5e3),l(\".advance\",\"any\")&&a(\".advance\"),await s((()=>l(\".switch span:first-child\",\"any\")),5,1e3)}async optOut(){return await s((()=>\"complete\"===document.readyState),20,100),await p(\".mainContent[aria-hidden=false]\",5e3),!!a(\".rejectAll\")||(u(\".prefPanel\")&&await p('.prefPanel[style=\"visibility: visible;\"]',3e3),a(\"#catDetails0\")?(a(\".submit\"),!0):(a(\".required\")||(await this.navigateToSettings(),a(\".switch span:nth-child(1):not(.active)\",!0),a(\".submit\"),p(\"#gwt-debug-close_id\",3e5).then((()=>{a(\"#gwt-debug-close_id\")}))),!0))}async optIn(){return a(\".call\")||(await this.navigateToSettings(),a(\".switch span:nth-child(2)\",!0),a(\".submit\"),p(\"#gwt-debug-close_id\",3e5).then((()=>{a(\"#gwt-debug-close_id\")}))),!0}},new class extends f{constructor(){super(\"Cybotcookiebot\"),this.prehideSelectors=[\"#CybotCookiebotDialog,#dtcookie-container,#cookiebanner,#cb-cookieoverlay\"]}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return u(\"#CybotCookiebotDialogBodyLevelButtonPreferences\")}async detectPopup(){return u(\"#CybotCookiebotDialog,#dtcookie-container,#cookiebanner,#cb-cookiebanner\")}async optOut(){return a(\".cookie-alert-extended-detail-link\")?(await p(\".cookie-alert-configuration\",2e3),a(\".cookie-alert-configuration-input:checked\",!0),a(\".cookie-alert-extended-button-secondary\"),!0):u(\"#dtcookie-container\")?a(\".h-dtcookie-decline\"):(a(\".cookiebot__button--settings\")||a(\"#CybotCookiebotDialogBodyButtonDecline\")||(a(\".cookiebanner__link--details\"),a('.CybotCookiebotDialogBodyLevelButton:checked:enabled,input[id*=\"CybotCookiebotDialogBodyLevelButton\"]:checked:enabled',!0),a(\"#CybotCookiebotDialogBodyButtonDecline\"),a(\"input[id^=CybotCookiebotDialogBodyLevelButton]:checked\",!0),u(\"#CybotCookiebotDialogBodyButtonAcceptSelected\")?a(\"#CybotCookiebotDialogBodyButtonAcceptSelected\"):a(\"#CybotCookiebotDialogBodyLevelButtonAccept,#CybotCookiebotDialogBodyButtonAccept,#CybotCookiebotDialogBodyLevelButtonLevelOptinAllowallSelection\",!0),await c(\"window.CookieConsent.hasResponse !== true\")&&(await c(\"window.Cookiebot.dialog.submitConsent()\"),await h(500)),u(\"#cb-confirmedSettings\")&&await c(\"endCookieProcess()\")),!0)}async optIn(){return u(\"#dtcookie-container\")?a(\".h-dtcookie-accept\"):(a(\".CybotCookiebotDialogBodyLevelButton:not(:checked):enabled\",!0),a(\"#CybotCookiebotDialogBodyLevelButtonAccept\"),a(\"#CybotCookiebotDialogBodyButtonAccept\"),!0)}async test(){return c(\"window.CookieConsent.declined === true\")}},new class extends f{constructor(){super(\"Sourcepoint-frame\"),this.prehideSelectors=[\"div[id^='sp_message_container_'],.message-overlay\",\"#sp_privacy_manager_container\"],this.ccpaNotice=!1,this.ccpaPopup=!1,this.runContext={main:!1,frame:!0}}get hasSelfTest(){return!1}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){const t=new URL(location.href);return t.searchParams.has(\"message_id\")&&\"ccpa-notice.sp-prod.net\"===t.hostname?(this.ccpaNotice=!0,!0):\"ccpa-pm.sp-prod.net\"===t.hostname?(this.ccpaPopup=!0,!0):(\"/index.html\"===t.pathname||\"/privacy-manager/index.html\"===t.pathname)&&(t.searchParams.has(\"message_id\")||t.searchParams.has(\"requestUUID\")||t.searchParams.has(\"consentUUID\"))}async detectPopup(){return!!this.ccpaNotice||(this.ccpaPopup?await p(\".priv-save-btn\",2e3):(await p(\".sp_choice_type_11,.sp_choice_type_12,.sp_choice_type_13,.sp_choice_type_ACCEPT_ALL\",2e3),!u(\".sp_choice_type_9\")))}async optIn(){return await p(\".sp_choice_type_11,.sp_choice_type_ACCEPT_ALL\",2e3),!!a(\".sp_choice_type_11\")||!!a(\".sp_choice_type_ACCEPT_ALL\")}isManagerOpen(){return\"/privacy-manager/index.html\"===location.pathname}async optOut(){if(this.ccpaPopup){const t=document.querySelectorAll(\".priv-purpose-container .sp-switch-arrow-block a.neutral.on .right\");for(const e of t)a([e]);const e=document.querySelectorAll(\".priv-purpose-container .sp-switch-arrow-block a.switch-bg.on\");for(const t of e)a([t]);return a(\".priv-save-btn\")}if(!this.isManagerOpen()){if(!await p(\".sp_choice_type_12,.sp_choice_type_13\"))return!1;if(!u(\".sp_choice_type_12\"))return a(\".sp_choice_type_13\");a(\".sp_choice_type_12\"),await s((()=>this.isManagerOpen()),200,100)}await p(\".type-modal\",2e4);try{const t=\".sp_choice_type_REJECT_ALL\",e=\".reject-toggle\",n=await Promise.race([p(t,2e3).then((t=>t?0:-1)),p(e,2e3).then((t=>t?1:-1)),p(\".pm-features\",2e3).then((t=>t?2:-1))]);if(0===n)return await h(1e3),a(t);1===n?a(e):2===n&&(await p(\".pm-features\",1e4),a(\".checked > span\",!0),a(\".chevron\"))}catch(t){}return a(\".sp_choice_type_SAVE_AND_EXIT\")}},new class extends f{get hasSelfTest(){return this.apiAvailable}get isIntermediate(){return!1}get isCosmetic(){return!1}constructor(){super(\"consentmanager.net\"),this.prehideSelectors=[\"#cmpbox,#cmpbox2\"],this.apiAvailable=!1}async detectCmp(){return this.apiAvailable=await c('window.__cmp && typeof __cmp(\"getCMPData\") === \"object\"'),!!this.apiAvailable||u(\"#cmpbox\")}async detectPopup(){return this.apiAvailable?(await h(500),await c(\"!__cmp('consentStatus').userChoiceExists\")):l(\"#cmpbox .cmpmore\",\"any\")}async optOut(){return await h(500),this.apiAvailable?await c(\"__cmp('setConsent', 0)\"):!!a(\".cmpboxbtnno\")||(u(\".cmpwelcomeprpsbtn\")?(a(\".cmpwelcomeprpsbtn > a[aria-checked=true]\",!0),a(\".cmpboxbtnsave\"),!0):(a(\".cmpboxbtncustom\"),await p(\".cmptblbox\",2e3),a(\".cmptdchoice > a[aria-checked=true]\",!0),a(\".cmpboxbtnyescustomchoices\"),!0))}async optIn(){return this.apiAvailable?await c(\"__cmp('setConsent', 1)\"):a(\".cmpboxbtnyes\")}async test(){if(this.apiAvailable)return await c(\"__cmp('consentStatus').userChoiceExists\")}},new class extends f{constructor(){super(\"Evidon\")}get hasSelfTest(){return!1}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return u(\"#_evidon_banner\")}async detectPopup(){return l(\"#_evidon_banner\",\"any\")}async optOut(){return a(\"#_evidon-decline-button\")||(i(o(),[\"#evidon-prefdiag-overlay\",\"#evidon-prefdiag-background\"]),a(\"#_evidon-option-button\"),await p(\"#evidon-prefdiag-overlay\",5e3),a(\"#evidon-prefdiag-decline\")),!0}async optIn(){return a(\"#_evidon-accept-button\")}},new class extends f{constructor(){super(\"Onetrust\"),this.prehideSelectors=[\"#onetrust-banner-sdk,#onetrust-consent-sdk,.onetrust-pc-dark-filter,.js-consent-banner\"]}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return u(\"#onetrust-banner-sdk\")}async detectPopup(){return l(\"#onetrust-banner-sdk\",\"all\")}async optOut(){return u(\"#onetrust-pc-btn-handler\")?a(\"#onetrust-pc-btn-handler\"):a(\".ot-sdk-show-settings,button.js-cookie-settings\"),await p(\"#onetrust-consent-sdk\",2e3),await h(1e3),a(\"#onetrust-consent-sdk input.category-switch-handler:checked,.js-editor-toggle-state:checked\",!0),await h(1e3),await p(\".save-preference-btn-handler,.js-consent-save\",2e3),a(\".save-preference-btn-handler,.js-consent-save\"),await s((()=>l(\"#onetrust-banner-sdk\",\"none\")),10,500),!0}async optIn(){return a(\"#onetrust-accept-btn-handler,.js-accept-cookies\")}async test(){return await c(\"window.OnetrustActiveGroups.split(',').filter(s => s.length > 0).length <= 1\")}},new class extends f{constructor(){super(\"Klaro\"),this.prehideSelectors=[\".klaro\"],this.settingsOpen=!1}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return u(\".klaro > .cookie-modal\")?(this.settingsOpen=!0,!0):u(\".klaro > .cookie-notice\")}async detectPopup(){return l(\".klaro > .cookie-notice,.klaro > .cookie-modal\",\"any\")}async optOut(){return!!a(\".klaro .cn-decline\")||(this.settingsOpen||(a(\".klaro .cn-learn-more\"),await p(\".klaro > .cookie-modal\",2e3),this.settingsOpen=!0),!!a(\".klaro .cn-decline\")||(a(\".cm-purpose:not(.cm-toggle-all) > input:not(.half-checked)\",!0),a(\".cm-btn-accept\")))}async optIn(){return!!a(\".klaro .cm-btn-accept-all\")||(this.settingsOpen?(a(\".cm-purpose:not(.cm-toggle-all) > input.half-checked\",!0),a(\".cm-btn-accept\")):a(\".klaro .cookie-notice .cm-btn-success\"))}async test(){return await c(\"klaro.getManager().config.services.every(c => c.required || !klaro.getManager().consents[c.name])\")}},new class extends f{constructor(){super(\"Uniconsent\")}get prehideSelectors(){return[\".unic\",\".modal:has(.unic)\"]}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return u(\".unic .unic-box,.unic .unic-bar\")}async detectPopup(){return l(\".unic .unic-box,.unic .unic-bar\",\"any\")}async optOut(){if(await p(\".unic button\",1e3),document.querySelectorAll(\".unic button\").forEach((t=>{const e=t.textContent;(e.includes(\"Manage Options\")||e.includes(\"Optionen verwalten\"))&&t.click()})),await p(\".unic input[type=checkbox]\",1e3)){await p(\".unic button\",1e3),document.querySelectorAll(\".unic input[type=checkbox]\").forEach((t=>{t.checked&&t.click()}));for(const t of document.querySelectorAll(\".unic button\")){const e=t.textContent;for(const n of[\"Confirm Choices\",\"Save Choices\",\"Auswahl speichern\"])if(e.includes(n))return t.click(),await h(500),!0}}return!1}async optIn(){return d(\".unic #unic-agree\")}async test(){await h(1e3);return!u(\".unic .unic-box,.unic .unic-bar\")}},new class extends f{constructor(){super(\"Conversant\"),this.prehideSelectors=[\".cmp-root\"]}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return u(\".cmp-root .cmp-receptacle\")}async detectPopup(){return l(\".cmp-root .cmp-receptacle\",\"any\")}async optOut(){if(!await d(\".cmp-main-button:not(.cmp-main-button--primary)\"))return!1;if(!await p(\".cmp-view-tab-tabs\"))return!1;await d(\".cmp-view-tab-tabs > :first-child\"),await d(\".cmp-view-tab-tabs > .cmp-view-tab--active:first-child\");for(const t of Array.from(document.querySelectorAll(\".cmp-accordion-item\"))){t.querySelector(\".cmp-accordion-item-title\").click(),await s((()=>!!t.querySelector(\".cmp-accordion-item-content.cmp-active\")),10,50);const e=t.querySelector(\".cmp-accordion-item-content.cmp-active\");e.querySelectorAll(\".cmp-toggle-actions .cmp-toggle-deny:not(.cmp-toggle-deny--active)\").forEach((t=>t.click())),e.querySelectorAll(\".cmp-toggle-actions .cmp-toggle-checkbox:not(.cmp-toggle-checkbox--active)\").forEach((t=>t.click()))}return await a(\".cmp-main-button:not(.cmp-main-button--primary)\"),!0}async optIn(){return d(\".cmp-main-button.cmp-main-button--primary\")}async test(){return document.cookie.includes(\"cmp-data=0\")}},new class extends f{constructor(){super(\"tiktok.com\"),this.runContext={urlPattern:\"tiktok\"}}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}getShadowRoot(){const t=document.querySelector(\"tiktok-cookie-banner\");return t?t.shadowRoot:null}async detectCmp(){return u(\"tiktok-cookie-banner\")}async detectPopup(){return r(this.getShadowRoot().querySelector(\".tiktok-cookie-banner\"))}async optOut(){const t=this.getShadowRoot().querySelector(\".button-wrapper button:first-child\");return!!t&&(t.click(),!0)}async optIn(){const t=this.getShadowRoot().querySelector(\".button-wrapper button:last-child\");return!!t&&(t.click(),!0)}async test(){const t=document.cookie.match(/cookie-consent=([^;]+)/);if(!t)return!1;const e=JSON.parse(decodeURIComponent(t[1]));return Object.values(e).every((t=>\"boolean\"!=typeof t||!1===t))}},new class extends f{constructor(){super(\"airbnb\"),this.runContext={urlPattern:\"^https://(www\\\\.)?airbnb\\\\.[^/]+/\"},this.prehideSelectors=[\"div[data-testid=main-cookies-banner-container]\",'div:has(> div:first-child):has(> div:last-child):has(> section [data-testid=\"strictly-necessary-cookies\"])']}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return u(\"div[data-testid=main-cookies-banner-container]\")}async detectPopup(){return l(\"div[data-testid=main-cookies-banner-container\",\"any\")}async optOut(){let t;for(await d(\"div[data-testid=main-cookies-banner-container] button._snbhip0\");t=document.querySelector(\"[data-testid=modal-container] button[aria-checked=true]:not([disabled])\");)t.click();return d(\"button[data-testid=save-btn]\")}async optIn(){return d(\"div[data-testid=main-cookies-banner-container] button._148dgdpk\")}async test(){return await s((()=>!!document.cookie.match(\"OptanonAlertBoxClosed\")),20,200)}}];class k{static setBase(t){k.base=t}static findElement(t,e=null,n=!1){let o=null;return o=null!=e?Array.from(e.querySelectorAll(t.selector)):null!=k.base?Array.from(k.base.querySelectorAll(t.selector)):Array.from(document.querySelectorAll(t.selector)),null!=t.textFilter&&(o=o.filter((e=>{const n=e.textContent.toLowerCase();if(Array.isArray(t.textFilter)){let e=!1;for(const o of t.textFilter)if(-1!==n.indexOf(o.toLowerCase())){e=!0;break}return e}if(null!=t.textFilter)return-1!==n.indexOf(t.textFilter.toLowerCase())}))),null!=t.styleFilters&&(o=o.filter((e=>{const n=window.getComputedStyle(e);let o=!0;for(const e of t.styleFilters){const t=n[e.option];o=e.negated?o&&t!==e.value:o&&t===e.value}return o}))),null!=t.displayFilter&&(o=o.filter((e=>t.displayFilter?0!==e.offsetHeight:0===e.offsetHeight))),null!=t.iframeFilter&&(o=o.filter((()=>t.iframeFilter?window.location!==window.parent.location:window.location===window.parent.location))),null!=t.childFilter&&(o=o.filter((e=>{const n=k.base;k.setBase(e);const o=k.find(t.childFilter);return k.setBase(n),null!=o.target}))),n?o:(o.length>1&&console.warn(\"Multiple possible targets: \",o,t,e),o[0])}static find(t,e=!1){const n=[];if(null!=t.parent){const o=k.findElement(t.parent,null,e);if(null!=o){if(o instanceof Array)return o.forEach((o=>{const i=k.findElement(t.target,o,e);i instanceof Array?i.forEach((t=>{n.push({parent:o,target:t})})):n.push({parent:o,target:i})})),n;{const i=k.findElement(t.target,o,e);i instanceof Array?i.forEach((t=>{n.push({parent:o,target:t})})):n.push({parent:o,target:i})}}}else{const o=k.findElement(t.target,null,e);o instanceof Array?o.forEach((t=>{n.push({parent:null,target:t})})):n.push({parent:null,target:o})}return 0===n.length&&n.push({parent:null,target:null}),e?n:(1!==n.length&&console.warn(\"Multiple results found, even though multiple false\",n),n[0])}}function v(t){const e=k.find(t);return\"css\"===t.type?!!e.target:\"checkbox\"===t.type?!!e.target&&e.target.checked:void 0}async function _(t,e){switch(t.type){case\"click\":return async function(t){const e=k.find(t);null!=e.target&&e.target.click();return S(0)}(t);case\"list\":return async function(t,e){for(const n of t.actions)await _(n,e)}(t,e);case\"consent\":return async function(t,e){for(const n of t.consents){const t=-1!==e.indexOf(n.type);if(n.matcher&&n.toggleAction){v(n.matcher)!==t&&await _(n.toggleAction)}else t?await _(n.trueAction):await _(n.falseAction)}}(t,e);case\"ifcss\":return async function(t,e){k.find(t).target?t.falseAction&&await _(t.falseAction,e):t.trueAction&&await _(t.trueAction,e)}(t,e);case\"waitcss\":return async function(t){await new Promise((e=>{let n=t.retries||10;const o=t.waitTime||250,i=()=>{const s=k.find(t);(t.negated&&s.target||!t.negated&&!s.target)&&n>0?(n-=1,setTimeout(i,o)):e()};i()}))}(t);case\"foreach\":return async function(t,e){const n=k.find(t,!0),o=k.base;for(const o of n)o.target&&(k.setBase(o.target),await _(t.action,e));k.setBase(o)}(t,e);case\"hide\":return async function(t){const e=k.find(t);e.target&&e.target.classList.add(\"Autoconsent-Hidden\")}(t);case\"slide\":return async function(t){const e=k.find(t),n=k.find(t.dragTarget);if(e.target){const t=e.target.getBoundingClientRect(),o=n.target.getBoundingClientRect();let i=o.top-t.top,s=o.left-t.left;\"y\"===this.config.axis.toLowerCase()&&(s=0),\"x\"===this.config.axis.toLowerCase()&&(i=0);const r=window.screenX+t.left+t.width/2,c=window.screenY+t.top+t.height/2,a=t.left+t.width/2,u=t.top+t.height/2,l=document.createEvent(\"MouseEvents\");l.initMouseEvent(\"mousedown\",!0,!0,window,0,r,c,a,u,!1,!1,!1,!1,0,e.target);const p=document.createEvent(\"MouseEvents\");p.initMouseEvent(\"mousemove\",!0,!0,window,0,r+s,c+i,a+s,u+i,!1,!1,!1,!1,0,e.target);const d=document.createEvent(\"MouseEvents\");d.initMouseEvent(\"mouseup\",!0,!0,window,0,r+s,c+i,a+s,u+i,!1,!1,!1,!1,0,e.target),e.target.dispatchEvent(l),await this.waitTimeout(10),e.target.dispatchEvent(p),await this.waitTimeout(10),e.target.dispatchEvent(d)}}(t);case\"close\":return async function(){window.close()}();case\"wait\":return async function(t){await S(t.waitTime)}(t);case\"eval\":return async function(t){return console.log(\"eval!\",t.code),new Promise((e=>{try{t.async?(window.eval(t.code),setTimeout((()=>{e(window.eval(\"window.__consentCheckResult\"))}),t.timeout||250)):e(window.eval(t.code))}catch(n){console.warn(\"eval error\",n,t.code),e(!1)}}))}(t);default:throw\"Unknown action type: \"+t.type}}k.base=null;function S(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}class P{constructor(t,e){this.name=t,this.config=e,this.methods=new Map,this.runContext=m,this.isCosmetic=!1,e.methods.forEach((t=>{t.action&&this.methods.set(t.name,t.action)})),this.hasSelfTest=!1}get isIntermediate(){return!1}checkRunContext(){return!0}async detectCmp(){return this.config.detectors.map((t=>v(t.presentMatcher))).some((t=>!!t))}async detectPopup(){return this.config.detectors.map((t=>v(t.showingMatcher))).some((t=>!!t))}async executeAction(t,e){return!this.methods.has(t)||_(this.methods.get(t),e)}async optOut(){return await this.executeAction(\"HIDE_CMP\"),await this.executeAction(\"OPEN_OPTIONS\"),await this.executeAction(\"HIDE_CMP\"),await this.executeAction(\"DO_CONSENT\",[]),await this.executeAction(\"SAVE_CONSENT\"),!0}async optIn(){return await this.executeAction(\"HIDE_CMP\"),await this.executeAction(\"OPEN_OPTIONS\"),await this.executeAction(\"HIDE_CMP\"),await this.executeAction(\"DO_CONSENT\",[\"D\",\"A\",\"B\",\"E\",\"F\",\"X\"]),await this.executeAction(\"SAVE_CONSENT\"),!0}async openCmp(){return await this.executeAction(\"HIDE_CMP\"),await this.executeAction(\"OPEN_OPTIONS\"),!0}async test(){return!0}}exports.createAutoCMP=C,exports.default=class{constructor(e,o=null,i=null){if(this.id=t(),this.rules=[],this.foundCmp=null,this.state={lifecycle:\"loading\",prehideOn:!1,findCmpAttempts:0,detectedCmps:[],detectedPopups:[],selfTest:null},n.sendContentMessage=e,this.sendContentMessage=e,this.rules=[...b],this.updateState({lifecycle:\"loading\"}),o)this.initialize(o,i);else{i&&this.parseRules(i);e({type:\"init\",url:window.location.href}),this.updateState({lifecycle:\"waitingForInitResponse\"})}}initialize(t,e){if(this.config=t,t.enabled){if(e&&this.parseRules(e),this.rules=function(t,e){return t.filter((t=>(!e.disabledCmps||!e.disabledCmps.includes(t.name))&&(e.enableCosmeticRules||!t.isCosmetic)))}(this.rules,t),t.enablePrehide)if(document.documentElement)this.prehideElements();else{const t=()=>{window.removeEventListener(\"DOMContentLoaded\",t),this.prehideElements()};window.addEventListener(\"DOMContentLoaded\",t)}if(\"loading\"===document.readyState){const t=()=>{window.removeEventListener(\"DOMContentLoaded\",t),this.start()};window.addEventListener(\"DOMContentLoaded\",t)}else this.start();this.updateState({lifecycle:\"initialized\"})}}parseRules(t){Object.keys(t.consentomatic).forEach((e=>{this.addConsentomaticCMP(e,t.consentomatic[e])})),t.autoconsent.forEach((t=>{this.addCMP(t)}))}addCMP(t){this.rules.push(C(t))}addConsentomaticCMP(t,e){this.rules.push(new P(`com_${t}`,e))}start(){window.requestIdleCallback?window.requestIdleCallback((()=>this._start()),{timeout:500}):this._start()}async _start(){this.updateState({lifecycle:\"started\"});const t=await this.findCmp(this.config.detectRetries);if(this.updateState({detectedCmps:t.map((t=>t.name))}),0===t.length)return this.config.enablePrehide&&this.undoPrehide(),this.updateState({lifecycle:\"nothingDetected\"}),!1;this.updateState({lifecycle:\"cmpDetected\"});let e=await this.detectPopups(t.filter((t=>!t.isCosmetic)));if(0===e.length&&(e=await this.detectPopups(t.filter((t=>t.isCosmetic)))),0===e.length)return this.config.enablePrehide&&this.undoPrehide(),!1;if(this.updateState({lifecycle:\"openPopupDetected\"}),e.length>1){const t={msg:\"Found multiple CMPs, check the detection rules.\",cmps:e.map((t=>t.name))};this.sendContentMessage({type:\"autoconsentError\",details:t})}return this.foundCmp=e[0],\"optOut\"===this.config.autoAction?await this.doOptOut():\"optIn\"!==this.config.autoAction||await this.doOptIn()}async findCmp(t){this.updateState({findCmpAttempts:this.state.findCmpAttempts+1});const e=[];for(const t of this.rules)try{if(!t.checkRunContext())continue;await t.detectCmp()&&(this.sendContentMessage({type:\"cmpDetected\",url:location.href,cmp:t.name}),e.push(t))}catch(t){}return 0===e.length&&t>0?new Promise((e=>{setTimeout((async()=>{const n=this.findCmp(t-1);e(n)}),500)})):e}async detectPopups(t){const e=[],n=t.map((t=>this.waitForPopup(t).then((n=>{n&&(this.updateState({detectedPopups:this.state.detectedPopups.concat([t.name])}),this.sendContentMessage({type:\"popupFound\",cmp:t.name,url:location.href}),e.push(t))})).catch((()=>null))));return await Promise.all(n),e}async doOptOut(){let t;return this.updateState({lifecycle:\"runningOptOut\"}),t=!!this.foundCmp&&await this.foundCmp.optOut(),this.config.enablePrehide&&this.undoPrehide(),this.sendContentMessage({type:\"optOutResult\",cmp:this.foundCmp?this.foundCmp.name:\"none\",result:t,scheduleSelfTest:this.foundCmp&&this.foundCmp.hasSelfTest,url:location.href}),t&&!this.foundCmp.isIntermediate?(this.sendContentMessage({type:\"autoconsentDone\",cmp:this.foundCmp.name,isCosmetic:this.foundCmp.isCosmetic,url:location.href}),this.updateState({lifecycle:\"done\"})):this.updateState({lifecycle:t?\"optOutSucceeded\":\"optOutFailed\"}),t}async doOptIn(){let t;return this.updateState({lifecycle:\"runningOptIn\"}),t=!!this.foundCmp&&await this.foundCmp.optIn(),this.config.enablePrehide&&this.undoPrehide(),this.sendContentMessage({type:\"optInResult\",cmp:this.foundCmp?this.foundCmp.name:\"none\",result:t,scheduleSelfTest:!1,url:location.href}),t&&!this.foundCmp.isIntermediate?(this.sendContentMessage({type:\"autoconsentDone\",cmp:this.foundCmp.name,isCosmetic:this.foundCmp.isCosmetic,url:location.href}),this.updateState({lifecycle:\"done\"})):this.updateState({lifecycle:t?\"optInSucceeded\":\"optInFailed\"}),t}async doSelfTest(){let t;return t=!!this.foundCmp&&await this.foundCmp.test(),this.sendContentMessage({type:\"selfTestResult\",cmp:this.foundCmp?this.foundCmp.name:\"none\",result:t,url:location.href}),this.updateState({selfTest:t}),t}async waitForPopup(t,e=5,n=500){const o=await t.detectPopup();return!o&&e>0?new Promise((o=>setTimeout((()=>o(this.waitForPopup(t,e-1,n))),n))):o}prehideElements(){const t=this.rules.reduce(((t,e)=>e.prehideSelectors?[...t,...e.prehideSelectors]:t),[\"#didomi-popup,.didomi-popup-container,.didomi-popup-notice,.didomi-consent-popup-preferences,#didomi-notice,.didomi-popup-backdrop,.didomi-screen-medium\"]);return this.updateState({prehideOn:!0}),function(t){return i(o(\"autoconsent-prehide\"),t,\"opacity\")}(t)}undoPrehide(){return this.updateState({prehideOn:!1}),function(){const t=o(\"autoconsent-prehide\");return t&&t.remove(),!!t}()}updateState(t){Object.assign(this.state,t),this.sendContentMessage({type:\"report\",instanceId:this.id,url:window.location.href,mainFrame:window.top===window.self,state:this.state})}async receiveMessageCallback(t){switch(t.type){case\"initResp\":this.initialize(t.config,t.rules);break;case\"optIn\":await this.doOptIn();break;case\"optOut\":await this.doOptOut();break;case\"selfTest\":await this.doSelfTest();break;case\"evalResp\":!function(t,e){const o=n.pending.get(t);o?(n.pending.delete(t),o.timer&&window.clearTimeout(o.timer),o.resolve(e)):console.warn(\"no eval #\",t)}(t.id,t.result)}}},exports.rules=b;\n","\"use strict\";\n\nvar _adblockerCosmetics = _interopRequireDefault(require(\"../platform/lib/adblocker-cosmetics\"));\n\nvar _register = require(\"../core/content/register\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n(0, _register.registerContentScript)({\n  module: 'adblocker',\n  matches: ['http://*/*', 'https://*/*'],\n  matchAboutBlank: true,\n  allFrames: true,\n  js: [(window, chrome, CLIQZ) => {\n    /**\n     * This function will immediatly query the background for cosmetics (scripts,\n     * CSS) to inject in the page using its third argument function; then proceed\n     * to the injection. It will also monitor the DOM using a MutationObserver to\n     * know which cosmetics/scriptlets to inject.\n     */\n    (0, _adblockerCosmetics.default)(window, true,\n    /* enable mutation observer */\n    async payload => {\n      const result = await CLIQZ.app.modules.adblocker.action('getCosmeticsFilters', payload);\n      return result || {};\n    });\n  }]\n});","/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\"use strict\";","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  \"platform\": \"webextension\",\n  \"brocfile\": \"Brocfile.ghostery.js\",\n  \"baseURL\": \"/cliqz/\",\n  \"pack\": \"npm pack\",\n  \"publish\": \"echo \\\"Uploading version: browser-core-$PACKAGE_VERSION.tgz\\\" && aws s3 cp browser-core-$PACKAGE_VERSION.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz --acl public-read && aws s3 cp s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH/latest.tgz --acl public-read\",\n  \"sourceMaps\": false,\n  \"format\": \"common\",\n  \"settings\": {\n    \"BACKGROUND_IMAGE_URL\": \"https://cdn.ghostery.net/brands-database/database/\",\n    \"CDN_BASEURL\": \"https://cdn.ghostery.net\",\n    \"ADBLOCKER_BASE_URL\": \"https://cdn.ghostery.com/adblocker/configs\",\n    \"ANTITRACKING_BASE_URL\": \"https://cdn.ghostery.com/antitracking\",\n    \"CONFIG_PROVIDER\": \"https://api.ghostery.net/api/v1/config\",\n    \"ENDPOINT_ANONPATTERNSURL\": \"https://cdn2.ghostery.com/human-web-chromium/patterns-anon.gz\",\n    \"ENDPOINT_HPNV2_DIRECT\": \"https://collector-hpn.ghostery.net\",\n    \"ENDPOINT_HPNV2_ANONYMOUS\": \"https://collector-hpn.ghostery.net\",\n    \"ENDPOINT_HUMAN_WEB_PATTERNS\": \"https://cdn2.ghostery.com/human-web-chromium/hw-patterns.gz\",\n    \"ENDPOINT_PATTERNSURL\": \"https://cdn2.ghostery.com/human-web-chromium/patterns.gz\",\n    \"ENDPOINT_SAFE_QUORUM_ENDPOINT\": \"https://safe-browsing-quorum.privacy.ghostery.net/\",\n    \"ENDPOINT_SAFE_QUORUM_PROVIDER\": \"https://safe-browsing-quorum.privacy.ghostery.net/config\",\n    \"FEEDBACK\": \"https://ghostery.net/feedback/\",\n    \"PRIVACY_SCORE_URL\": \"https://anti-tracking.ghostery.net/api/v1/score?\",\n    \"TRACKER_SCORE_URL\": \"https://cdn.ghostery.net/privacy-score/privacy_score.json\",\n    \"RESULTS_PROVIDER\": \"https://api.ghostery.net/api/v2/results?nrh=1&q=\",\n    \"RESULTS_PROVIDER_LOG\": \"https://api.ghostery.net/api/v1/logging?q=\",\n    \"RICH_HEADER\": \"https://api.ghostery.net/api/v2/rich-header?path=/v2/map\",\n    \"ROTATED_TOP_NEWS\": \"rotated-top-news.ghostery.net\",\n    \"SAFE_BROWSING\": \"https://safe-browsing.ghostery.net\",\n    \"STATISTICS\": \"https://stats.ghostery.net\",\n    \"SUGGESTIONS_URL\": \"https://ghostery.net/search?q=\",\n    \"UNINSTALL\": \"https://ghostery.net/home/offboarding\",\n    \"WTM_API\": \"https://whotracks.me/data/\",\n    \"SUPPORT_URL\": \"https://www.ghostery.com/support/\",\n    \"PRIVACY_POLICY_URL\": \"https://www.ghostery.com/about-ghostery/privacy-statements/\",\n    \"NEW_TAB_URL\": \"/freshtab/home.html\",\n    \"channel\": \"CH80\",\n    \"MSGCHANNEL\": \"web-extension\",\n    \"URL_CHANGED_EVENT_DEBOUNCE\": 500,\n    \"ATTRACK_TELEMETRY_PROVIDER\": \"hpnv2\",\n    \"HW_CHANNEL\": \"ghostery\",\n    \"ALLOWED_COUNTRY_CODES\": [\"ar\", \"at\", \"au\", \"be\", \"br\", \"ca\", \"ch\", \"cn\", \"cz\", \"de\", \"dk\", \"es\", \"fi\", \"fr\", \"gb\", \"gr\", \"hu\", \"id\", \"in\", \"it\", \"jp\", \"kr\", \"mx\", \"nl\", \"no\", \"nz\", \"ph\", \"pl\", \"pt\", \"ro\", \"ru\", \"se\", \"sg\", \"tr\", \"tw\", \"ua\", \"us\"],\n    \"antitrackingPlaceholder\": \"ghostery\",\n    \"antitrackingHeader\": \"Ghostery-AntiTracking\",\n    \"HUMAN_WEB_LITE_COLLECTOR_VIA_PROXY\": \"https://collector-hpn.ghostery.net\",\n    \"HUMAN_WEB_LITE_COLLECTOR_DIRECT\": \"https://collector-hpn.ghostery.net\",\n    \"HUMAN_WEB_LITE_PATTERNS\": \"https://cdn2.ghostery.com/human-web-android/patterns.json\",\n    \"HUMAN_WEB_LITE_AUTO_TRIGGER\": true,\n    \"frameScriptWhitelist\": [\"http://localhost:3000/\"]\n  },\n  \"default_prefs\": {\n    \"modules.human-web.enabled\": true,\n    \"modules.antitracking.enabled\": true,\n    \"modules.adblocker.enabled\": true,\n    \"modules.insights.enabled\": false,\n    \"cliqz-adb\": 1,\n    \"attrackBloomFilter\": true,\n    \"humanWeb\": true,\n    \"attrackTelemetryMode\": 1,\n    \"attrackDefaultAction\": \"placeholder\",\n    \"sendAntiTrackingHeader\": false,\n    \"attrackCookieTrustReferers\": true,\n    \"attrack.cookieMode\": \"ghostery\"\n  },\n  \"bundles\": [\"core/content-script.bundle.js\", \"hpnv2/worker.wasm.bundle.js\", \"hpnv2/worker.asmjs.bundle.js\", \"human-web/rusha.bundle.js\"],\n  \"modules\": [\"core\", \"human-web\", \"hpnv2\", \"antitracking\", \"webrequest-pipeline\", \"adblocker\", \"insights\", \"hpn-lite\", \"human-web-lite\"],\n  \"environment\": \"development\",\n  \"isBeta\": false,\n  \"EXTENSION_VERSION\": \"1.3.1\",\n  \"VERSION\": \"1.3.1\"\n};\nexports.default = _default;","\"use strict\";\n\nrequire(\"../module-content-script\");\n\nvar _run = _interopRequireDefault(require(\"./content/run\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\n/**\n * This file is the entry-point for content scripts for navigation-extension. At\n * build time, it will bundle the code from `content.es` for each module enabled\n * in the config (or nothing if `content.es` does not exist for a given module);\n * and take care of running selectively the scripts for modules which are\n * enabled and whose constraints are satisfied (as defined when registering the\n * content script with `registerContentScript`; typically `matches`,\n * `allFrames`, `matchAboutBlank`, etc.)\n *\n * Here we give an overview of how this mechanism works and how modules can\n * define their own content script(s). Conceptually, each module defining a\n * `content.es` has a chance to create its own content-script. This file\n * contains both the script (i.e.: `js`) to inject, as well as the specification\n * of when to inject it (the API is very similar to Firefox WebExtension API\n * `browser.contentScripts.register` or the `content_scripts` section of the\n * manifest).\n *\n * A module can inject zero, one or multiple content scripts from its\n * `content.es`, using the `registerContentScript` helper function defined in\n * `core/content/register.es`. This function takes one argument. Here is an\n * example:\n *\n *    // File: `modules/adblocker/sources/content.es`\n *    import { registerContentScript } from '../core/content/register';\n *\n *    registerContentScript({\n *      module: 'adblocker', // this should be the name of the module\n *      matches: ['<all_urls>'], // match any URL\n *      allFrames: true, // include iframes\n *      matchAboutBlank: true, // include iframes with `about:blank` as source\n *      js: [(window, chrome, CLIQZ) => {\n *        // Do the thing...\n *      }],\n *    })\n *\n *  The `js` attribute accepts an array of functions to evaluate in a given\n *  frame (here we give only one) and the `registerContentScript` function can\n *  be called multiple times for each module (but typically only once).\n *\n *  Functions injected can optionally return an object containing `actions` for\n *  this specific module's content-script. They can be called from background\n *  using the following core action:\n *\n *    this.core.action(\n *      'callContentAction',\n *      moduleName,\n *      actionName,\n *      { windowId: tabId }, // or { url } to target tabs by URL\n *      ...payloadForActionHandler,\n *    );\n *\n *  When building the extension with `fern.js`, our build-system will collect\n *  all the `content.es` files from enabled modules and bundle them together.\n *  This file is called `content-script.bundle.es`. It is registered in the\n *  manifest for Cliqz extension in `specific/browser/manifest.json`; which\n *  means it will be injected in every page.\n *\n *  This does not mean that the scripts registered by all modules run in every\n *  frame; the `registerContentScript` function only registers a new content\n *  script, but the injection only triggers if the following conditions are met:\n *\n *  1. the module's background needs to be enabled. For example if the adblocker\n *  is turned-off with the pref 'modules.adblocker.enabled' set to `false`, then\n *  even if `content-script.bundle.es` contains the adblocker's content-script,\n *  it will not run (because the module is disabled).\n *\n *  2. conditions specified when calling `registerContentScript` need to be\n *  satisfied. This includes `matches`, `allFrames` or `matchAboutBlank`.\n *\n *  When all conditions are met, then the functions provided in `js` will be\n *  executed in the context of the frame.\n *\n *  For more information about how all of this is implemented, see top-level\n *  comment in `core/content/run.es`.\n */\n// Load content scripts from modules\n(0, _run.default)();","\"use strict\";\n\nvar _helpers = require(\"./content/helpers\");\n\nvar _register = require(\"./content/register\");\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nfunction getContextHTML(ev) {\n  let target = ev.target;\n  let html;\n\n  try {\n    for (let count = 0; count < 5; count += 1) {\n      html = target.innerHTML;\n\n      if (html.indexOf('http://') !== -1 || html.indexOf('https://') !== -1) {\n        return html;\n      }\n\n      target = target.parentNode;\n      count += 1;\n    }\n  } catch (ee) {// Ignore error\n  }\n\n  return undefined;\n}\n\nfunction recordMouseDown(ev, CLIQZ) {\n  const linksSrc = [];\n\n  if (window.parent !== window) {\n    // collect srcipt links only for frames\n    if (window.document && window.document.scripts) {\n      for (let i = 0; i < window.document.scripts.length; i += 1) {\n        const src = window.document.scripts[i].src;\n\n        if (src.startsWith('http')) {\n          linksSrc.push(src);\n        }\n      }\n    }\n  }\n\n  let node = ev.target;\n\n  if (node.nodeType !== 1) {\n    node = node.parentNode;\n  }\n\n  let href = null;\n\n  if (node.closest('a[href]')) {\n    href = node.closest('a[href]').getAttribute('href');\n  }\n\n  const event = {\n    target: {\n      baseURI: ev.target.baseURI,\n      value: ev.target.value,\n      href: ev.target.href,\n      parentNode: {\n        href: ev.target.parentNode ? ev.target.parentNode.href : null\n      },\n      linksSrc\n    }\n  };\n  CLIQZ.app.modules.core.action('recordMouseDown', event, getContextHTML(ev), href);\n}\n\nfunction recordMeta(window, CLIQZ) {\n  // don't analyse language for (i)frames\n  if (!(0, _helpers.isTopWindow)(window)) {\n    return;\n  } // ReportLang\n\n\n  const lang = window.document.getElementsByTagName('html').item(0).getAttribute('lang');\n  const title = window.document.querySelector('title');\n  const description = window.document.querySelector('meta[name=description]');\n  const ogTitle = window.document.querySelector('meta[property=\"og:title\"]');\n  const ogDescription = window.document.querySelector('meta[property=\"og:description\"]');\n  const ogImage = window.document.querySelector('meta[property=\"og:image\"]');\n  CLIQZ.app.modules.core.action('recordMeta', window.location.href, {\n    title: title && title.innerHTML,\n    description: description && description.content,\n    ogTitle: ogTitle && ogTitle.content,\n    ogDescription: ogDescription && ogDescription.content,\n    ogImage: ogImage && ogImage.content,\n    lang\n  });\n}\n\nfunction getHTML() {\n  return window.document.documentElement.outerHTML;\n}\n\nfunction click(selector) {\n  const el = window.document.querySelector(selector);\n\n  try {\n    el.click();\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction queryHTML(selector, attribute, {\n  shadowRootSelector = null,\n  attributeType = 'property'\n} = {}) {\n  const root = shadowRootSelector ? window.document.querySelector(shadowRootSelector).shadowRoot : window.document;\n  const attributes = attribute.split(',');\n\n  const getAttr = (el, attr) => {\n    if (attributeType === 'property') {\n      return el[attr];\n    }\n\n    return el.getAttribute(attr);\n  };\n\n  return Array.prototype.map.call(root.querySelectorAll(selector), el => {\n    if (attributes.length > 1) {\n      return attributes.reduce((hash, attr) => ({ ...hash,\n        [attr]: getAttr(el, attr)\n      }), {});\n    }\n\n    return getAttr(el, attribute);\n  });\n}\n\nfunction queryComputedStyle(selector) {\n  const root = window.document;\n  return Array.prototype.map.call(root.querySelectorAll(selector), el => window.getComputedStyle(el));\n}\n\n(0, _register.registerContentScript)({\n  module: 'core',\n  matches: ['<all_urls>'],\n  allFrames: true,\n  matchAboutBlank: true,\n  js: [(window, chrome, CLIQZ) => {\n    const onMouseDown = ev => {\n      recordMouseDown(ev, CLIQZ);\n    };\n\n    window.addEventListener('mousedown', onMouseDown);\n\n    const onDOMContentLoaded = () => {\n      recordMeta(window, CLIQZ);\n    };\n\n    window.addEventListener('DOMContentLoaded', onDOMContentLoaded); // Stop listening\n\n    window.addEventListener('pagehide', () => {\n      window.removeEventListener('mousedown', onMouseDown);\n      window.removeEventListener('DOMContentLoaded', onDOMContentLoaded);\n    }, {\n      once: true\n    }); // Expose content actions\n\n    return {\n      getHTML,\n      click,\n      queryHTML,\n      queryComputedStyle\n    };\n  }]\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _remoteActionProvider = _interopRequireDefault(require(\"../../core/helpers/remote-action-provider\"));\n\nvar _runtime = _interopRequireDefault(require(\"../../platform/runtime\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Buffers messages received through `onMessage` API in memory until content\n * scripts are injected and actions can be triggered. Once actions are\n * available, we first re-play in-memory messages, then start listening to new\n * one.\n */\nclass RemoteMessagesBuffer {\n  // Maximum number of action messages to buffer in memory before content\n  // scripts are injected. This limit should never be reached but is still\n  // necessary to make sure we do not leak memory in case status from App cannot\n  // be received (which should not happen either).\n  constructor() {\n    _defineProperty(this, \"MAX_BUFFER_LEN\", 5000);\n\n    this.buffer = []; // Start buffering until we get `actions` for content scripts\n\n    this.onMessage = message => {\n      if (this.buffer.length < this.MAX_BUFFER_LEN) {\n        return new Promise((resolve, reject) => {\n          this.buffer.push({\n            message,\n            resolve,\n            reject\n          });\n        });\n      }\n\n      return Promise.reject(new Error(`content-script actions buffer limit exceeded: ${this.buffer.length} ${this.MAX_BUFFER_LEN}`));\n    };\n  }\n\n  init() {\n    _runtime.default.onMessage.addListener(this.onMessage);\n  }\n\n  unload() {\n    _runtime.default.onMessage.removeListener(this.onMessage);\n  }\n\n}\n/**\n * Buffers messages in memory until `actions` are specified then switches to\n * using `RemoteActionProvider` for each module to handle remote actions\n * requested by background code.\n */\n\n\nclass ContentScriptActionsManager {\n  constructor() {\n    // Not defined at first\n    this.actions = null; // Start buffering messages in memory until we know about actions. The flow\n    // here is this:\n    //\n    // 1. here (i.e.: `constructor`) we initialize `messageHandlers` as being a\n    // single in-memory queue of messages received from other contexts, before\n    // we know of registered content actions.\n    // 2. in `setActionCallbacks(...)` we receive actions registered by injected\n    // content scripts (see core/sources/content/run.es).\n    // 3. the `unload(...)` method is called to remove the listener, then a new\n    // remote action provider is created for each module having a content script\n    // injected (e.g.: `anti-phishing`, `adblocker`, etc.); also replaying all\n    // messages stored in-memory before that so that nothing is lost even before\n    // we inject content scripts.\n    //\n    // Even though the array only contains one listener at first, we keep\n    // `messageHandlers` as an array so that handling is uniform in the rest of\n    // the code (e.g.: `unload(...)`).\n\n    this.messageHandlers = [new RemoteMessagesBuffer()];\n\n    for (const handler of this.messageHandlers) {\n      handler.init();\n    }\n  }\n  /**\n   * Stop listening to messages\n   */\n\n\n  unload() {\n    for (const handler of this.messageHandlers) {\n      handler.unload();\n    }\n\n    this.messageHandlers = [];\n  }\n  /**\n   * Register action callbacks once content scripts are injected.\n   */\n\n\n  setActionCallbacks(moduleActions) {\n    // Stop current buffering of messages in memory\n    const messages = this.messageHandlers[0].buffer;\n    this.unload(); // Replay messages received so far with actual module actions\n\n    for (const [module, actions] of Object.entries(moduleActions)) {\n      const actionProvider = new _remoteActionProvider.default(module, actions);\n\n      for (const {\n        message,\n        resolve,\n        reject\n      } of messages) {\n        const response = actionProvider.onMessage(message);\n\n        if (response !== undefined) {\n          response.then(resolve).catch(reject);\n        }\n      } // Start listening\n\n\n      actionProvider.init();\n      this.messageHandlers.push(actionProvider);\n    }\n  }\n\n}\n\nexports.default = ContentScriptActionsManager;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _globals = require(\"../../platform/content/globals\");\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nfunction noop() {}\n/**\n * In content context we only enable logging in developement build to not\n * pollute logs from visited web pages.\n */\n\n\nvar _default = _config.default.environment === 'development' ? _globals.window.console : new Proxy({}, {\n  get() {\n    return noop;\n  }\n\n});\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.documentBodyReady = documentBodyReady;\nexports.isTopWindow = isTopWindow;\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\n/**\n * Check if `window` is the top-level window.\n */\nfunction isTopWindow(window) {\n  return window.self === window.top;\n}\n/**\n * Return a `Promise` which resolves once `window.document.body` exists. If it's\n * already the case when the function is invoked, then the promise resolves\n * immediately, otherwise it waits for the `DOMContentLoaded` event to trigger.\n */\n\n\nfunction documentBodyReady() {\n  if (window.document && window.document.body) {\n    return Promise.resolve();\n  }\n\n  return new Promise(resolve => {\n    window.addEventListener('DOMContentLoaded', resolve, {\n      once: true\n    });\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = match;\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n// Implement pattern matching as described in the following document:\n// https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\n// List of all supported schemes:\nconst SUPPORTED_SCHEMES = new Set(['http', 'https', 'ws', 'wss', 'ftp', 'ftps', 'data', 'file']); // Shallow validate a host by checking only allowed characters appear\n\nconst VALID_HOST = /^[.\\w_-]+$/;\n/**\n * Transform an arbitrary string into a RegExp compatible one:\n *  - escape special characters which can be encountered in RegExps (e.g.: '{' or '.')\n *  - replace '*' with '.*' to match anything\n *\n * The result from this function is a string which can be compiled to a RegExp\n * safely. For example: `new RegExp(compileToRegex('foo.bar'))`\n *\n *   > new RegExp(compileToRegex('foo*.[bar]'))\n *   /foo.*\\.\\[bar\\]/\n *\n * '.', '[' and ']' have been escaped and '*' was replaced by '.*' (wildcard).\n */\n\nfunction compileToRegex(str) {\n  return str.replace(/([|.$+?{}()[\\]\\\\])/g, '\\\\$1').replace(/\\*/g, '.*');\n}\n/**\n * Compile the <scheme> part from a match pattern. The matcher is a set of\n * allowed schemes which will be used to check if a given URL's scheme is\n * accepted.\n */\n\n\nfunction createSchemeMatcher(scheme) {\n  if (scheme === '*') {\n    // '*' in <scheme> only matches a subset of all valid protocols (see Mozilla\n    // developer doc at the top for more details).\n    return new Set(['http', 'https', 'ws', 'wss']);\n  }\n\n  if (SUPPORTED_SCHEMES.has(scheme)) {\n    // Only this specific `scheme` will be accepted\n    return new Set([scheme]);\n  }\n\n  throw new Error(`<scheme> is not valid: ${scheme}`);\n}\n/**\n * Compile the <host> part from a match pattern. The matcher is a RegExp object\n * which will be used to check the hostname attribute of a URL. This function\n * can also return `null`, which means that any hostname is accepted. In case of\n * failure, an exception is raised.\n */\n\n\nfunction createHostMatcher(scheme, host) {\n  if (host.includes(':')) {\n    throw new Error('<host> must not include a port number');\n  }\n\n  if (host.length === 0) {\n    // Only 'file:///' can appear without a <host> constraint\n    if (scheme === 'file') {\n      return /^$/;\n    }\n\n    throw new Error('<host> is optional only if the scheme is \"file\"');\n  } // Validate <host> containing a wildcard\n\n\n  const lastWildcardInHost = host.lastIndexOf('*');\n\n  if (lastWildcardInHost !== -1) {\n    //  '*' constraint means we accept anything\n    if (host === '*') {\n      return null;\n    }\n\n    if (lastWildcardInHost !== 0) {\n      throw new Error('<host> wildcard may only appear at the start');\n    }\n\n    if (host[1] !== '.') {\n      throw new Error('<host> only \"*\" and \"*.\" followed by hostname parts are valid');\n    } // At this point we know that `host` is of the form *.<host>\n\n\n    const hostAfterWildcard = host.slice(2);\n\n    if (VALID_HOST.test(hostAfterWildcard) === false) {\n      throw new Error('<host> contains invalid characters');\n    } // Hostname *may* start with labels and *must* be followed by `hostAfterWildcard`\n\n\n    return new RegExp(`^(?:.*[.])?${compileToRegex(hostAfterWildcard)}$`);\n  } // If no wildcard in <host> it should only be a valid hostname\n\n\n  if (VALID_HOST.test(host) === false) {\n    throw new Error('<host> contains invalid characters');\n  }\n\n  return new RegExp(`^${compileToRegex(host)}$`);\n}\n/**\n * Compile the <path> part from a match pattern. The matcher is a RegExp object\n * which will be used against the pathname + search of a URL object.\n */\n\n\nfunction createPathMatcher(path) {\n  return new RegExp(`^${compileToRegex(path)}$`);\n}\n/**\n * Compile a match pattern as specified in https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\n *\n * The return value is an object with three attributes, each matching against\n * one part of the the URL:\n *\n * - `scheme` is a Set of accepted protocols from URL\n * - `host` is a RegExp to test `hostname` from URL (or `null` if no constraint)\n * - `path` is a RegExp to test `pathname` + `search` from URL (or `null`)\n */\n\n\nfunction compile(pattern) {\n  // Special <all_urls> value means that any URL with supported schemes is matched\n  if (pattern === '<all_urls>') {\n    return {\n      scheme: SUPPORTED_SCHEMES,\n      host: null,\n      path: null\n    };\n  } // From this point we parse `pattern` and make sure it is valid. The structure\n  // must be: <scheme>://<host><path>. Each part is also validated. In case an\n  // error is encountered, an exception with explanation is raised.\n  // ======================================================================= //\n  // Extract and validate <scheme> (must be followed by '://')\n\n\n  const indexOfProtocolSeparator = pattern.indexOf('://');\n\n  if (indexOfProtocolSeparator === -1) {\n    throw new Error('<scheme> missing, \"://\" not found');\n  }\n\n  const scheme = pattern.slice(0, indexOfProtocolSeparator);\n  const schemeMatcher = createSchemeMatcher(scheme); // ======================================================================= //\n  // Extract and validate <host> (must be followed by '/')\n\n  const indexOfSlash = pattern.indexOf('/', indexOfProtocolSeparator + 3);\n\n  if (indexOfSlash === -1) {\n    throw new Error('<path> missing, \"/\" not found');\n  }\n\n  const host = pattern.slice(indexOfProtocolSeparator + 3, indexOfSlash);\n  const hostMatcher = createHostMatcher(scheme, host); // ======================================================================= //\n  // Extract and validate <path>\n\n  const path = pattern.slice(indexOfSlash + 1);\n  const pathMatcher = createPathMatcher(path);\n  return {\n    scheme: schemeMatcher,\n    host: hostMatcher,\n    path: pathMatcher\n  };\n}\n/**\n * Check if `url` matches against `pattern` (which *must* be a valid match\n * pattern). See `compile(...)` for more information about patterns.\n */\n\n\nfunction match(pattern, url) {\n  const {\n    protocol,\n    hostname,\n    pathname,\n    search\n  } = new URL(url);\n  const compiled = compile(pattern);\n\n  if (compiled.scheme.has(protocol.slice(0, protocol.length - 1)) === false) {\n    return false;\n  }\n\n  if (compiled.host !== null) {\n    if (compiled.host.test(hostname) === false) {\n      return false;\n    }\n  }\n\n  if (compiled.path !== null) {\n    if (compiled.path.test(`${pathname.slice(1)}${search}`) === false) {\n      return false;\n    }\n  }\n\n  return true;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.registerContentScript = registerContentScript;\nexports.runContentScripts = runContentScripts;\n\nvar _matchPatterns = _interopRequireDefault(require(\"./match-patterns\"));\n\nvar _helpers = require(\"./helpers\");\n\nvar _console = _interopRequireDefault(require(\"./console\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\n/**\n * Given `spec` which *must* adhere to the specification defined in [1] and a\n * `window` from the current page (either top window or iframe), decides if\n * content script should be loaded. Note that `registerContentScript` will\n * already check that `spec` is valid at registration time so the argument of\n * `shouldLoadScript` can be assumed to be valid.\n *\n * [1] https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts,\n */\nfunction shouldLoadScript(window, spec) {\n  // If current frame is not top window, then `allFrames` needs to be true\n  if ((0, _helpers.isTopWindow)(window) === false && spec.allFrames !== true) {\n    return false;\n  }\n\n  let frameUrl = window.location.href; // Handle `matchAboutBlank` option\n\n  if (frameUrl === 'about:blank' || frameUrl === 'about:srcdoc') {\n    if (spec.matchAboutBlank !== true) {\n      return false;\n    } // From: https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts\n    // > Insert the content scripts into pages whose URL is \"about:blank\" or\n    // > \"about:srcdoc\", if the URL of the page that opened or created this page\n    // > matches the patterns specified in the rest of the content_scripts key.\n    //\n    // Here we change `frameUrl` to the href of the parent if available so that\n    // other conditions like `matches` can be tested against it to decide if\n    // injection should be performed.\n\n\n    if (!window.parent) {\n      return false;\n    }\n\n    frameUrl = window.parent.location.href;\n  } // If `frameUrl` matches at least one pattern from `excludeMatches` then abort\n\n\n  if (spec.excludeMatches !== undefined) {\n    for (const pattern of spec.excludeMatches) {\n      if ((0, _matchPatterns.default)(pattern, frameUrl)) {\n        return false;\n      }\n    }\n  } // Check if `frameUrl` matches at least one pattern from `matches`\n\n\n  for (const pattern of spec.matches) {\n    if ((0, _matchPatterns.default)(pattern, frameUrl)) {\n      return true;\n    }\n  } // If no valid condition was found then we should not inject\n\n\n  return false;\n}\n/**\n * Globally hold content scripts for all modules\n */\n\n\nconst CONTENT_SCRIPTS = [];\n/**\n * Register a new content-script defined by `spec`. The argument should have the\n * following specification:\n *\n * Examples:\n *  {\n *    module: 'myModule', // name of module\n *    matches: ['<all_urls>'], // mandatory, list of match patterns\n *    excludeMatches: [], // optional\n *    allFrames: true, // optional, default to `false`\n *    matchAboutBlank: true, // optional, default to `false`\n *    js: [() => { ... }], // mandatory, array of functions to inject\n *  }\n */\n\nfunction registerContentScript(spec) {\n  if (spec.module === undefined) {\n    _console.default.error('\"module\" property should be specified in content.es', spec);\n\n    return;\n  }\n\n  if (Array.isArray(spec.js) === false) {\n    _console.default.error('\"js\" should be an array of functions', spec);\n\n    return;\n  }\n\n  if (Array.isArray(spec.matches) === false) {\n    _console.default.error('\"matches\" should be an array of match patterns', spec);\n\n    return;\n  }\n\n  if (spec.excludeMatches !== undefined && Array.isArray(spec.excludeMatches) === false) {\n    _console.default.error('\"excludeMatches\" should either be undefined or an array of match patterns', spec);\n\n    return;\n  }\n\n  CONTENT_SCRIPTS.push(spec);\n}\n/**\n * Inject content scripts from global `CONTENT_SCRIPTS` (populated by\n * `registerContentScript`) into the current window. State of the App can be\n * found in the `CLIQZ` argument and is used to know which modules are enabled.\n * Content scripts from disabled modules are ignored.\n *\n * Returns a collection of callbacks used to trigger content script actions from\n * background. These actions are optionally returned by functions registered in\n * the `js` field given to `registerContentScript`.\n */\n\n\nfunction runContentScripts(window, chrome, CLIQZ) {\n  const contentScriptActions = {};\n\n  for (const spec of CONTENT_SCRIPTS) {\n    const {\n      module,\n      js\n    } = spec;\n    const {\n      isEnabled\n    } = CLIQZ.app.modules[module] || {\n      isEnabled: false\n    };\n\n    if (isEnabled && shouldLoadScript(window, spec)) {\n      for (const script of js) {\n        try {\n          const actions = script(window, chrome, CLIQZ) || {};\n          contentScriptActions[module] = { ...contentScriptActions[module],\n            ...actions\n          };\n        } catch (e) {\n          _console.default.error(`CLIQZ content-script failed: ${e} ${e.stack}`);\n        }\n      }\n    }\n  }\n\n  return contentScriptActions;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _globals = require(\"../../platform/content/globals\");\n\nvar _runtime = _interopRequireDefault(require(\"../../platform/runtime\"));\n\nvar _actionsManager = _interopRequireDefault(require(\"./actions-manager\"));\n\nvar _register = require(\"./register\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\n/**\n * Request App status from core background. This is the slowest way to get App\n * status but is used as a fallback. In most cases, the status will be received\n * before from the dynamic content script injected by `fast-content-app-state-injection.es`\n */\nfunction getAppStatusFromBackground() {\n  return _runtime.default.sendMessage({\n    module: 'core',\n    action: 'status'\n  }).then(app => ({\n    app\n  }));\n}\n/**\n * Here we don't know which content script was injected first. Either this one\n * is (main one defined in manifest.json) or the dynamic one is (defined in\n * `platform/fast-content-app-state-injection.es`). The following can happen:\n *\n * 1. If `window.CLIQZ` is already defined, it means the dynamic content\n * script was already injected and we already have access to the state of\n * modules.\n * 2. Otherwise, it means that we are first, and that we don't know yet the\n * state of background modules. App status can be obtained in two ways:\n *\n *   a. request status of App to core background via `sendMessage`\n *   b. dynamic content script will be injected and provide status via `runCliqz`\n *\n * Both will race and we use the result of the first of these two, the second\n * one is simply ignored.\n *\n * Overall, this strategy should result in having content scripts being\n * injected as soon as possible.\n */\n\n\nfunction getAppStatus() {\n  return new Promise(resolve => {\n    if (_globals.window.CLIQZ !== undefined) {\n      // Dynamic content-script was already injected, we can proceed\n      resolve(_globals.window.CLIQZ);\n    } else {\n      // Define `runCliqz` globally so that dynamic content script can inject\n      // App status as soon as it is injected.\n      _globals.window.runCliqz = resolve; // Dynamic content-script was not injected yet, we request status of App\n      // async. It will return the same information as dynamic content script so\n      // we take whatever comes first.\n\n      getAppStatusFromBackground().then(resolve, () => {\n        /* silence errors */\n      });\n    }\n  });\n}\n/**\n * Entrypoint for content script injection. This needs to be called so that\n * content scripts registered via `registerContentScript` in each module will\n * actually run. Check `content-script.bundle.es` for more information about the\n * overall flow.\n */\n\n\nfunction _default() {\n  // Only support injecting into HTML documents\n  if (_globals.window.document.documentElement.nodeName.toLowerCase() !== 'html') {\n    return;\n  } // Content script actions manager needs to start listening for messages from\n  // background as soon as possible since injection of actual content scripts\n  // might take a while and background could request some action before it's\n  // ready. Until content scripts are injected, messages received will be\n  // buffered in memory.\n\n\n  const contentScriptActions = new _actionsManager.default(); // Wait for App status to be received then proceed to injection\n\n  getAppStatus().then(CLIQZ => {\n    // Augment CLIQZ global to add action support. The API can then be used from\n    // content scripts of each module to transparently call actions from\n    // modules' backgrounds.\n    for (const [name, module] of Object.entries(CLIQZ.app.modules)) {\n      // eslint-disable-next-line no-param-reassign\n      module.action = (action, ...args) => _runtime.default.sendMessage({\n        module: name,\n        action,\n        args\n      });\n    } // Inject enabled content-scripts and register content-script actions so that\n    // background can request actions from them.\n\n\n    contentScriptActions.setActionCallbacks((0, _register.runContentScripts)(_globals.window, _globals.chrome, CLIQZ)); // Stop listening for messages on window unload\n\n    _globals.window.addEventListener('pagehide', () => {\n      contentScriptActions.unload();\n    }, {\n      once: true\n    });\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deadline = deadline;\nexports.debounce = debounce;\nexports.nextIdle = nextIdle;\nexports.nextTick = nextTick;\nexports.throttle = throttle;\nexports.tryPromise = tryPromise;\nexports.withTimeout = withTimeout;\n\nvar _sleep = _interopRequireDefault(require(\"./helpers/sleep\"));\n\nvar _timers = require(\"../core/timers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nfunction throttle(window, fn, threshhold) {\n  let last;\n  let timer;\n  return (...args) => {\n    const now = Date.now();\n\n    if (last && now < last + threshhold) {\n      // reset timeout\n      window.clearTimeout(timer);\n      timer = window.setTimeout(() => {\n        last = now;\n        fn(...args);\n      }, threshhold);\n    } else {\n      last = now;\n      fn(...args);\n    }\n  };\n}\n/**\n * simple version of https://davidwalsh.name/javascript-debounce-function,\n * without options to cancel or execute immediately.\n *\n * @param {Function} fn\n * @param {number} [delay] in ms\n * @returns {Function} the debounced function,\n * or the given function when delay is falsy.\n */\n\n\nfunction debounce(fn, delay) {\n  let timeout = null;\n  return !delay ? fn : function debounced(...args) {\n    // https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/clearTimeout\n    // Passing an invalid ID to clearTimeout() silently does nothing; no exception is thrown.\n    (0, _timers.clearTimeout)(timeout);\n\n    const delayed = () => {\n      timeout = null;\n      fn(...args);\n    };\n\n    timeout = (0, _timers.setTimeout)(delayed, delay);\n  };\n}\n\nfunction deadline(promise, timeout) {\n  return Promise.race([(0, _sleep.default)(timeout), promise]);\n}\n\nfunction nextTick(fn, ...args) {\n  return Promise.resolve().then(() => fn(...args));\n}\n\nfunction nextIdle() {\n  if (typeof window === 'undefined' || !window.requestIdleCallback) {\n    return nextTick(() => {});\n  }\n\n  return new Promise(resolve => {\n    window.requestIdleCallback(resolve);\n  });\n}\n\nasync function withTimeout(promise, timeoutInMs) {\n  let timer;\n\n  try {\n    timer = new Promise((_, reject) => {\n      (0, _timers.setTimeout)(() => reject(new Error(`Timed out after ${timeoutInMs / 1000} seconds`)), timeoutInMs);\n    });\n    return await Promise.race([promise, timer]);\n  } finally {\n    (0, _timers.clearTimeout)(timer);\n  }\n} // Helper if you only want to print the result of a promise.\n\n\nasync function tryPromise(promise, timeoutInMs = 1000) {\n  try {\n    return await withTimeout(promise, timeoutInMs);\n  } catch (e) {\n    return `Failed: ${e}`;\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _runtime = _interopRequireDefault(require(\"../../platform/runtime\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\n/**\n * Abstract away exposing actions triggered through `sendMessage`. This is done\n * in `navigation-extension` in different contexts: content scripts, popup\n * windows, etc.\n */\nclass RemoteActionProvider {\n  constructor(module, actions) {\n    this.onMessage = message => {\n      if (message.module === module) {\n        const handler = actions[message.action];\n\n        if (handler !== undefined) {\n          // Prepare array of arguments which will be given to `handler`\n          let args = message.args || []; // Backward compatible \"hack\" since some users of this API still\n          // provide a unique argument in the form of `{ message }`. If we\n          // detect this scenario then we use it as argument for `handler`.\n\n          if (message.message !== undefined) {\n            args = [message.message];\n          }\n\n          return Promise.resolve(handler(...args));\n        }\n      }\n\n      return undefined; // not handled by us\n    };\n  }\n\n  init() {\n    _runtime.default.onMessage.addListener(this.onMessage);\n  }\n\n  unload() {\n    _runtime.default.onMessage.removeListener(this.onMessage);\n  }\n\n}\n\nexports.default = RemoteActionProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = sleep;\n\nvar _timers = require(\"../timers\");\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nfunction sleep(time) {\n  return new Promise(resolve => (0, _timers.setTimeout)(resolve, time));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"clearInterval\", {\n  enumerable: true,\n  get: function () {\n    return _timers.clearInterval;\n  }\n});\nObject.defineProperty(exports, \"clearTimeout\", {\n  enumerable: true,\n  get: function () {\n    return _timers.clearTimeout;\n  }\n});\nObject.defineProperty(exports, \"setInterval\", {\n  enumerable: true,\n  get: function () {\n    return _timers.setInterval;\n  }\n});\nObject.defineProperty(exports, \"setTimeout\", {\n  enumerable: true,\n  get: function () {\n    return _timers.setTimeout;\n  }\n});\n\nvar _timers = require(\"../platform/timers\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizeAclkUrl = normalizeAclkUrl;\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\n/* eslint-disable import/prefer-default-export */\n\n/**\n * Google pagead aclk look like this:\n * https://www.googleadservices.com/pagead/aclk?sa=L&ai=DChcSEwjNi5bcsbPWAhUW4BsKHUePBAwYABARGgJ3bA&ohost=www.google.de&cid=CAASEuRo7v8yDlI1j5_Xe3oAtyANqQ&sig=AOD64_0I3As2z06whZRtfqOC3PGdhk9SIQ&ctype=5&q=&ved=0ahUKEwjc7JLcsbPWAhVLuhQKHQWpCRcQ9aACCKIB&adurl=\n *\n * This function takes such an url and returns a normalized string\n * (which is no longer an url). Links to identical ads should be\n * normalized to the same string while links to different ads\n * should be mapped to different keys.\n */\nfunction normalizeAclkUrl(url) {\n  // Note: Any base URL could be used here. It is only needed as we want to support\n  // also relative URLs.\n  const parsed = new URL(url, 'https://www.googleadservices.com');\n\n  if (parsed.pathname !== '/pagead/aclk' && parsed.pathname !== '/aclk') {\n    throw new Error(`Expected Google pagead \"aclk\" URL. Instead got: ${url}`);\n  } // Ignore the \"ved\" code, as it seems to change between clicks.\n  //\n  // For background information about the \"ved\" code, see\n  // https://deedpolloffice.com/blog/articles/decoding-ved-parameter\n  //\n  // \"dct\" can also be ignored for the matching.\n\n\n  const isRelevant = entry => !['ved', 'dct'].includes(entry[0]);\n\n  const relevantParams = [...parsed.searchParams].filter(isRelevant); // Combine it into one string. The function itself does not matter as long as it is\n  // injective and is agnoistic of the ordering. Here, we will make it look like a query\n  // (\"key1=val1&key2=val2...\").\n\n  return relevantParams.sort().map(x => x.join('=')).join('&');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseDom = parseDom;\n\nvar _runtime = _interopRequireDefault(require(\"../platform/runtime\"));\n\nvar _register = require(\"../core/content/register\");\n\nvar _decorators = require(\"../core/decorators\");\n\nvar _adDetection = require(\"./ad-detection\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nfunction logException(e) {\n  window.console.error('[human-web] Exception caught:', e);\n} // eslint-disable-next-line import/prefer-default-export\n\n\nfunction parseDom(url, window, hw) {\n  const document = window.document; // Let's try and get META refresh to detect javascript redirects.\n\n  try {\n    let jsRef = null;\n    jsRef = document.querySelector('script');\n\n    if (jsRef && jsRef.innerHTML.indexOf('location.replace') > -1) {\n      const location = document.querySelector('title').textContent; // NOTE: this should be migrated to use:\n      // CLIQZ.modules['human-web'].action('jsRedirect', {\n      //   message: { ... }\n      // })\n\n      _runtime.default.sendMessage({\n        module: 'human-web',\n        action: 'jsRedirect',\n        args: [{\n          message: {\n            location,\n            url: document.location.href\n          }\n        }]\n      });\n    }\n  } catch (ee) {\n    logException(ee);\n  }\n\n  try {\n    let _ad = '';\n    let _h = false;\n\n    if (document.querySelector('#s0p1c0')) {\n      _ad = document.querySelector('#s0p1c0').href;\n    }\n\n    if (document.querySelector('#tads .ads-ad')) {\n      if (document.querySelector('#tads .ads-ad').offsetParent === null) _h = true;\n    }\n\n    const additionalInfo = {\n      type: 'dom',\n      ad: _ad,\n      hidden: _h\n    };\n    hw.action('contentScriptTopAds', {\n      message: additionalInfo\n    });\n  } catch (ee) {\n    logException(ee);\n  } // We need to get all the ADS from this page.\n\n\n  try {\n    const adDetails = {};\n    const doc = window.document;\n    let noAdsOnThisPage = 0;\n    const detectAdRules = {\n      query: {\n        element: '#rso',\n        attribute: 'data-async-context'\n      },\n      adSections: ['#tads div[data-text-ad]', '.pla-unit-container', '.pla-hovercard-content-ellip', '.cu-container tr'],\n      0: {\n        cu: 'a',\n        cuAttr: 'data-rw',\n        fu: 'a'\n      },\n      1: {\n        cu: \"a[id^='plaurlg']\",\n        fu: \"a[id^='vplaurlg']\"\n      },\n      2: {\n        // TODO: most likely dead\n        cu: \"a[id^='plaurlh']\",\n        fu: \"a[id^='vplaurlh']\"\n      },\n      3: {\n        cu: \"a[id^='plaurlt']\",\n        fu: \"a[id^='vplaurlt']\"\n      }\n    }; // We need to scrape the query too.\n\n    const queryElement = doc.querySelector(detectAdRules.query.element);\n    let query = '';\n\n    if (queryElement) {\n      query = queryElement.getAttribute(detectAdRules.query.attribute).replace('query:', '');\n\n      try {\n        query = decodeURIComponent(query);\n      } catch (ee) {// empty\n      }\n    } // Let's iterate over each possible section of the ads.\n\n\n    detectAdRules.adSections.forEach((eachAdSection, idx) => {\n      const adNodes = Array.prototype.slice.call(doc.querySelectorAll(eachAdSection));\n      adNodes.forEach(eachAd => {\n        const cuRule = detectAdRules[idx].cu;\n        const fuRule = detectAdRules[idx].fu;\n        const clink = eachAd.querySelector(cuRule);\n        const flink = eachAd.querySelector(fuRule);\n\n        if (clink && flink) {\n          const cuAttr = detectAdRules[idx].cuAttr || 'href';\n          const clickPattern = (0, _adDetection.normalizeAclkUrl)(clink.getAttribute(cuAttr));\n          const fuAttr = detectAdRules[idx].fuAttr || 'href';\n          adDetails[clickPattern] = {\n            ts: Date.now(),\n            query,\n            furl: [flink.getAttribute('data-preconnect-urls'), flink.getAttribute(fuAttr)] // At times there is a redirect chain, we only want the final domain.\n\n          };\n          noAdsOnThisPage += 1;\n        }\n      });\n    });\n\n    if (noAdsOnThisPage > 0) {\n      hw.action('adClick', {\n        ads: adDetails\n      });\n    }\n  } catch (ee) {\n    logException(ee);\n  }\n}\n\nfunction contentScript(window, chrome, CLIQZ) {\n  const url = window.location.href;\n  const hw = CLIQZ.app.modules['human-web']; // Only add for main pages.\n\n  if (window.top === window) {\n    window.addEventListener('DOMContentLoaded', () => {\n      parseDom(url, window, hw);\n    });\n  }\n\n  function proxyWindowEvent(action) {\n    return ev => {\n      hw.action(action, {\n        target: {\n          baseURI: ev.target.baseURI\n        }\n      });\n    };\n  }\n\n  const onKeyPress = (0, _decorators.throttle)(window, proxyWindowEvent('hw:keypress'), 250);\n  const onMouseMove = (0, _decorators.throttle)(window, proxyWindowEvent('hw:mousemove'), 250);\n  const onScroll = (0, _decorators.throttle)(window, proxyWindowEvent('hw:scroll'), 250);\n  const onCopy = (0, _decorators.throttle)(window, proxyWindowEvent('hw:copy'), 250);\n  window.addEventListener('keypress', onKeyPress);\n  window.addEventListener('mousemove', onMouseMove);\n  window.addEventListener('scroll', onScroll);\n  window.addEventListener('copy', onCopy);\n\n  function stop(ev) {\n    if (ev && ev.target !== window.document) {\n      return;\n    } // detect dead windows\n    // https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Errors/Dead_object\n\n\n    try {\n      String(window);\n    } catch (e) {\n      return;\n    }\n\n    window.removeEventListener('keypress', onKeyPress);\n    window.removeEventListener('mousemove', onMouseMove);\n    window.removeEventListener('scroll', onScroll);\n    window.removeEventListener('copy', onCopy);\n  }\n\n  window.addEventListener('pagehide', stop);\n}\n\n(0, _register.registerContentScript)({\n  module: 'human-web',\n  matches: ['http://*/*', 'https://*/*'],\n  js: [contentScript],\n  allFrames: true\n});","\"use strict\";\n\nvar _register = require(\"../core/content/register\");\n\nvar _timers = require(\"../core/timers\");\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nfunction analyzePageInfo(CLIQZ) {\n  const {\n    host,\n    hostname,\n    pathname,\n    protocol\n  } = document.location;\n  const pTime = performance.timing.domContentLoadedEventStart - performance.timing.requestStart;\n  const pageLatency = pTime || 0;\n  CLIQZ.app.modules.insights.action('recordPageInfo', {\n    domain: `${protocol}//${host}${pathname}`,\n    host: hostname,\n    timestamp: performance.timing.navigationStart,\n    latency: pageLatency,\n    pageTiming: {\n      timing: {\n        navigationStart: performance.timing.navigationStart,\n        loadEventEnd: performance.timing.loadEventEnd\n      }\n    }\n  });\n}\n\nfunction contentScript(window, chrome, CLIQZ) {\n  if (document.readyState !== 'complete') {\n    window.addEventListener('load', () => {\n      (0, _timers.setTimeout)(() => {\n        analyzePageInfo(CLIQZ);\n      }, 1);\n    });\n  } else {\n    analyzePageInfo(CLIQZ);\n  }\n}\n\n(0, _register.registerContentScript)({\n  module: 'insights',\n  matches: ['http://*/*', 'https://*/*'],\n  js: [contentScript]\n});","\"use strict\";\n\nrequire(\"./core/content\");\n\nrequire(\"./human-web/content\");\n\nrequire(\"./antitracking/content\");\n\nrequire(\"./adblocker/content\");\n\nrequire(\"./insights/content\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.window = exports.chrome = void 0;\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nconst newChrome = typeof browser !== 'undefined' ? browser : chrome;\nexports.chrome = newChrome;\nconst newWindow = window;\nexports.window = newWindow;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _adblockerWebextensionCosmetics.injectCosmetics;\n  }\n});\n\nvar _adblockerWebextensionCosmetics = require(\"@cliqz/adblocker-webextension-cosmetics\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _webextensionPolyfill = _interopRequireDefault(require(\"webextension-polyfill\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n// NOTE: this is an attempt at using `webextension-polyfill` to abstract away\n// API differences between different browser (e.g.: promisify chrome functions).\n// Eventually, it could be used globally from 'platforms/webextension/globals.es'.\nvar _default = (typeof browser !== 'undefined' ? browser : _webextensionPolyfill.default).runtime;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setTimeout = exports.setInterval = exports.clearTimeout = exports.clearInterval = void 0;\n\n/*!\n * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nconst _setTimeout = (...args) => (typeof setTimeout === 'undefined' ? window.setTimeout.bind(window) : setTimeout)(...args);\n\nexports.setTimeout = _setTimeout;\n\nconst _setInterval = (...args) => (typeof setInterval === 'undefined' ? window.setInterval.bind(window) : setInterval)(...args);\n\nexports.setInterval = _setInterval;\n\nconst _clearTimeout = (...args) => (typeof clearTimeout === 'undefined' ? window.clearTimeout.bind(window) : clearTimeout)(...args);\n\nexports.clearTimeout = _clearTimeout;\n\nconst _clearInterval = (...args) => (typeof clearInterval === 'undefined' ? window.clearInterval.bind(window) : clearInterval)(...args);\n\nexports.clearInterval = _clearInterval;","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(\"webextension-polyfill\", [\"module\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod);\n    global.browser = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (module) {\n  /* webextension-polyfill - v0.7.0 - Tue Nov 10 2020 20:24:04 */\n\n  /* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n\n  /* vim: set sts=2 sw=2 et tw=80: */\n\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  \"use strict\";\n\n  if (typeof browser === \"undefined\" || Object.getPrototypeOf(browser) !== Object.prototype) {\n    const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n    const SEND_RESPONSE_DEPRECATION_WARNING = \"Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)\"; // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n    // optimization for Firefox. Since Spidermonkey does not fully parse the\n    // contents of a function until the first time it's called, and since it will\n    // never actually need to be called, this allows the polyfill to be included\n    // in Firefox nearly for free.\n\n    const wrapAPIs = extensionAPIs => {\n      // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n      // at build time by replacing the following \"include\" with the content of the\n      // JSON file.\n      const apiMetadata = {\n        \"alarms\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"clearAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"bookmarks\": {\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getChildren\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getRecent\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getSubTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTree\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"browserAction\": {\n          \"disable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"enable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"getBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"openPopup\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"browsingData\": {\n          \"remove\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"removeCache\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCookies\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeDownloads\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFormData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeHistory\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeLocalStorage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePasswords\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePluginData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"settings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"commands\": {\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"contextMenus\": {\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"cookies\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAllCookieStores\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"devtools\": {\n          \"inspectedWindow\": {\n            \"eval\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 2,\n              \"singleCallbackArg\": false\n            }\n          },\n          \"panels\": {\n            \"create\": {\n              \"minArgs\": 3,\n              \"maxArgs\": 3,\n              \"singleCallbackArg\": true\n            },\n            \"elements\": {\n              \"createSidebarPane\": {\n                \"minArgs\": 1,\n                \"maxArgs\": 1\n              }\n            }\n          }\n        },\n        \"downloads\": {\n          \"cancel\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"download\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"erase\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFileIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"open\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"pause\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFile\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"resume\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"extension\": {\n          \"isAllowedFileSchemeAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"isAllowedIncognitoAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"history\": {\n          \"addUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"deleteRange\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getVisits\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"i18n\": {\n          \"detectLanguage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAcceptLanguages\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"identity\": {\n          \"launchWebAuthFlow\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"idle\": {\n          \"queryState\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"management\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setEnabled\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"uninstallSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"notifications\": {\n          \"clear\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPermissionLevel\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"pageAction\": {\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"hide\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"permissions\": {\n          \"contains\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"request\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"runtime\": {\n          \"getBackgroundPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPlatformInfo\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"openOptionsPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"requestUpdateCheck\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"sendMessage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 3\n          },\n          \"sendNativeMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"setUninstallURL\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"sessions\": {\n          \"getDevices\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getRecentlyClosed\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"restore\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"storage\": {\n          \"local\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          },\n          \"managed\": {\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            }\n          },\n          \"sync\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        },\n        \"tabs\": {\n          \"captureVisibleTab\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"detectLanguage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"discard\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"duplicate\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"executeScript\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getZoom\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getZoomSettings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goBack\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goForward\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"highlight\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"insertCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"query\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"reload\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"sendMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 3\n          },\n          \"setZoom\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"setZoomSettings\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"update\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          }\n        },\n        \"topSites\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"webNavigation\": {\n          \"getAllFrames\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFrame\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"webRequest\": {\n          \"handlerBehaviorChanged\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"windows\": {\n          \"create\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getLastFocused\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        }\n      };\n\n      if (Object.keys(apiMetadata).length === 0) {\n        throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n      }\n      /**\n       * A WeakMap subclass which creates and stores a value for any key which does\n       * not exist when accessed, but behaves exactly as an ordinary WeakMap\n       * otherwise.\n       *\n       * @param {function} createItem\n       *        A function which will be called in order to create the value for any\n       *        key which does not exist, the first time it is accessed. The\n       *        function receives, as its only argument, the key being created.\n       */\n\n\n      class DefaultWeakMap extends WeakMap {\n        constructor(createItem, items = undefined) {\n          super(items);\n          this.createItem = createItem;\n        }\n\n        get(key) {\n          if (!this.has(key)) {\n            this.set(key, this.createItem(key));\n          }\n\n          return super.get(key);\n        }\n\n      }\n      /**\n       * Returns true if the given object is an object with a `then` method, and can\n       * therefore be assumed to behave as a Promise.\n       *\n       * @param {*} value The value to test.\n       * @returns {boolean} True if the value is thenable.\n       */\n\n\n      const isThenable = value => {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n      };\n      /**\n       * Creates and returns a function which, when called, will resolve or reject\n       * the given promise based on how it is called:\n       *\n       * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n       *   the promise is rejected with that value.\n       * - If the function is called with exactly one argument, the promise is\n       *   resolved to that value.\n       * - Otherwise, the promise is resolved to an array containing all of the\n       *   function's arguments.\n       *\n       * @param {object} promise\n       *        An object containing the resolution and rejection functions of a\n       *        promise.\n       * @param {function} promise.resolve\n       *        The promise's resolution function.\n       * @param {function} promise.rejection\n       *        The promise's rejection function.\n       * @param {object} metadata\n       *        Metadata about the wrapped method which has created the callback.\n       * @param {integer} metadata.maxResolvedArgs\n       *        The maximum number of arguments which may be passed to the\n       *        callback created by the wrapped async function.\n       *\n       * @returns {function}\n       *        The generated callback function.\n       */\n\n\n      const makeCallback = (promise, metadata) => {\n        return (...callbackArgs) => {\n          if (extensionAPIs.runtime.lastError) {\n            promise.reject(extensionAPIs.runtime.lastError);\n          } else if (metadata.singleCallbackArg || callbackArgs.length <= 1 && metadata.singleCallbackArg !== false) {\n            promise.resolve(callbackArgs[0]);\n          } else {\n            promise.resolve(callbackArgs);\n          }\n        };\n      };\n\n      const pluralizeArguments = numArgs => numArgs == 1 ? \"argument\" : \"arguments\";\n      /**\n       * Creates a wrapper function for a method with the given name and metadata.\n       *\n       * @param {string} name\n       *        The name of the method which is being wrapped.\n       * @param {object} metadata\n       *        Metadata about the method being wrapped.\n       * @param {integer} metadata.minArgs\n       *        The minimum number of arguments which must be passed to the\n       *        function. If called with fewer than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {integer} metadata.maxArgs\n       *        The maximum number of arguments which may be passed to the\n       *        function. If called with more than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {integer} metadata.maxResolvedArgs\n       *        The maximum number of arguments which may be passed to the\n       *        callback created by the wrapped async function.\n       *\n       * @returns {function(object, ...*)}\n       *       The generated wrapper function.\n       */\n\n\n      const wrapAsyncFunction = (name, metadata) => {\n        return function asyncFunctionWrapper(target, ...args) {\n          if (args.length < metadata.minArgs) {\n            throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          if (args.length > metadata.maxArgs) {\n            throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          return new Promise((resolve, reject) => {\n            if (metadata.fallbackToNoCallback) {\n              // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n              // and so the polyfill will try to call it with a callback first, and it will fallback\n              // to not passing the callback if the first call fails.\n              try {\n                target[name](...args, makeCallback({\n                  resolve,\n                  reject\n                }, metadata));\n              } catch (cbError) {\n                console.warn(`${name} API method doesn't seem to support the callback parameter, ` + \"falling back to call it without a callback: \", cbError);\n                target[name](...args); // Update the API method metadata, so that the next API calls will not try to\n                // use the unsupported callback anymore.\n\n                metadata.fallbackToNoCallback = false;\n                metadata.noCallback = true;\n                resolve();\n              }\n            } else if (metadata.noCallback) {\n              target[name](...args);\n              resolve();\n            } else {\n              target[name](...args, makeCallback({\n                resolve,\n                reject\n              }, metadata));\n            }\n          });\n        };\n      };\n      /**\n       * Wraps an existing method of the target object, so that calls to it are\n       * intercepted by the given wrapper function. The wrapper function receives,\n       * as its first argument, the original `target` object, followed by each of\n       * the arguments passed to the original method.\n       *\n       * @param {object} target\n       *        The original target object that the wrapped method belongs to.\n       * @param {function} method\n       *        The method being wrapped. This is used as the target of the Proxy\n       *        object which is created to wrap the method.\n       * @param {function} wrapper\n       *        The wrapper function which is called in place of a direct invocation\n       *        of the wrapped method.\n       *\n       * @returns {Proxy<function>}\n       *        A Proxy object for the given method, which invokes the given wrapper\n       *        method in its place.\n       */\n\n\n      const wrapMethod = (target, method, wrapper) => {\n        return new Proxy(method, {\n          apply(targetMethod, thisObj, args) {\n            return wrapper.call(thisObj, target, ...args);\n          }\n\n        });\n      };\n\n      let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n      /**\n       * Wraps an object in a Proxy which intercepts and wraps certain methods\n       * based on the given `wrappers` and `metadata` objects.\n       *\n       * @param {object} target\n       *        The target object to wrap.\n       *\n       * @param {object} [wrappers = {}]\n       *        An object tree containing wrapper functions for special cases. Any\n       *        function present in this object tree is called in place of the\n       *        method in the same location in the `target` object tree. These\n       *        wrapper methods are invoked as described in {@see wrapMethod}.\n       *\n       * @param {object} [metadata = {}]\n       *        An object tree containing metadata used to automatically generate\n       *        Promise-based wrapper functions for asynchronous. Any function in\n       *        the `target` object tree which has a corresponding metadata object\n       *        in the same location in the `metadata` tree is replaced with an\n       *        automatically-generated wrapper function, as described in\n       *        {@see wrapAsyncFunction}\n       *\n       * @returns {Proxy<object>}\n       */\n\n      const wrapObject = (target, wrappers = {}, metadata = {}) => {\n        let cache = Object.create(null);\n        let handlers = {\n          has(proxyTarget, prop) {\n            return prop in target || prop in cache;\n          },\n\n          get(proxyTarget, prop, receiver) {\n            if (prop in cache) {\n              return cache[prop];\n            }\n\n            if (!(prop in target)) {\n              return undefined;\n            }\n\n            let value = target[prop];\n\n            if (typeof value === \"function\") {\n              // This is a method on the underlying object. Check if we need to do\n              // any wrapping.\n              if (typeof wrappers[prop] === \"function\") {\n                // We have a special-case wrapper for this method.\n                value = wrapMethod(target, target[prop], wrappers[prop]);\n              } else if (hasOwnProperty(metadata, prop)) {\n                // This is an async method that we have metadata for. Create a\n                // Promise wrapper for it.\n                let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n                value = wrapMethod(target, target[prop], wrapper);\n              } else {\n                // This is a method that we don't know or care about. Return the\n                // original method, bound to the underlying object.\n                value = value.bind(target);\n              }\n            } else if (typeof value === \"object\" && value !== null && (hasOwnProperty(wrappers, prop) || hasOwnProperty(metadata, prop))) {\n              // This is an object that we need to do some wrapping for the children\n              // of. Create a sub-object wrapper for it with the appropriate child\n              // metadata.\n              value = wrapObject(value, wrappers[prop], metadata[prop]);\n            } else if (hasOwnProperty(metadata, \"*\")) {\n              // Wrap all properties in * namespace.\n              value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n            } else {\n              // We don't need to do any wrapping for this property,\n              // so just forward all access to the underlying object.\n              Object.defineProperty(cache, prop, {\n                configurable: true,\n                enumerable: true,\n\n                get() {\n                  return target[prop];\n                },\n\n                set(value) {\n                  target[prop] = value;\n                }\n\n              });\n              return value;\n            }\n\n            cache[prop] = value;\n            return value;\n          },\n\n          set(proxyTarget, prop, value, receiver) {\n            if (prop in cache) {\n              cache[prop] = value;\n            } else {\n              target[prop] = value;\n            }\n\n            return true;\n          },\n\n          defineProperty(proxyTarget, prop, desc) {\n            return Reflect.defineProperty(cache, prop, desc);\n          },\n\n          deleteProperty(proxyTarget, prop) {\n            return Reflect.deleteProperty(cache, prop);\n          }\n\n        }; // Per contract of the Proxy API, the \"get\" proxy handler must return the\n        // original value of the target if that value is declared read-only and\n        // non-configurable. For this reason, we create an object with the\n        // prototype set to `target` instead of using `target` directly.\n        // Otherwise we cannot return a custom object for APIs that\n        // are declared read-only and non-configurable, such as `chrome.devtools`.\n        //\n        // The proxy handlers themselves will still use the original `target`\n        // instead of the `proxyTarget`, so that the methods and properties are\n        // dereferenced via the original targets.\n\n        let proxyTarget = Object.create(target);\n        return new Proxy(proxyTarget, handlers);\n      };\n      /**\n       * Creates a set of wrapper functions for an event object, which handles\n       * wrapping of listener functions that those messages are passed.\n       *\n       * A single wrapper is created for each listener function, and stored in a\n       * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n       * retrieve the original wrapper, so that  attempts to remove a\n       * previously-added listener work as expected.\n       *\n       * @param {DefaultWeakMap<function, function>} wrapperMap\n       *        A DefaultWeakMap object which will create the appropriate wrapper\n       *        for a given listener function when one does not exist, and retrieve\n       *        an existing one when it does.\n       *\n       * @returns {object}\n       */\n\n\n      const wrapEvent = wrapperMap => ({\n        addListener(target, listener, ...args) {\n          target.addListener(wrapperMap.get(listener), ...args);\n        },\n\n        hasListener(target, listener) {\n          return target.hasListener(wrapperMap.get(listener));\n        },\n\n        removeListener(target, listener) {\n          target.removeListener(wrapperMap.get(listener));\n        }\n\n      }); // Keep track if the deprecation warning has been logged at least once.\n\n\n      let loggedSendResponseDeprecationWarning = false;\n      const onMessageWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps a message listener function so that it may send responses based on\n         * its return value, rather than by returning a sentinel value and calling a\n         * callback. If the listener function returns a Promise, the response is\n         * sent when the promise either resolves or rejects.\n         *\n         * @param {*} message\n         *        The message sent by the other end of the channel.\n         * @param {object} sender\n         *        Details about the sender of the message.\n         * @param {function(*)} sendResponse\n         *        A callback which, when called with an arbitrary argument, sends\n         *        that value as a response.\n         * @returns {boolean}\n         *        True if the wrapped listener returned a Promise, which will later\n         *        yield a response. False otherwise.\n         */\n\n\n        return function onMessage(message, sender, sendResponse) {\n          let didCallSendResponse = false;\n          let wrappedSendResponse;\n          let sendResponsePromise = new Promise(resolve => {\n            wrappedSendResponse = function (response) {\n              if (!loggedSendResponseDeprecationWarning) {\n                console.warn(SEND_RESPONSE_DEPRECATION_WARNING, new Error().stack);\n                loggedSendResponseDeprecationWarning = true;\n              }\n\n              didCallSendResponse = true;\n              resolve(response);\n            };\n          });\n          let result;\n\n          try {\n            result = listener(message, sender, wrappedSendResponse);\n          } catch (err) {\n            result = Promise.reject(err);\n          }\n\n          const isResultThenable = result !== true && isThenable(result); // If the listener didn't returned true or a Promise, or called\n          // wrappedSendResponse synchronously, we can exit earlier\n          // because there will be no response sent from this listener.\n\n          if (result !== true && !isResultThenable && !didCallSendResponse) {\n            return false;\n          } // A small helper to send the message if the promise resolves\n          // and an error if the promise rejects (a wrapped sendMessage has\n          // to translate the message into a resolved promise or a rejected\n          // promise).\n\n\n          const sendPromisedResult = promise => {\n            promise.then(msg => {\n              // send the message value.\n              sendResponse(msg);\n            }, error => {\n              // Send a JSON representation of the error if the rejected value\n              // is an instance of error, or the object itself otherwise.\n              let message;\n\n              if (error && (error instanceof Error || typeof error.message === \"string\")) {\n                message = error.message;\n              } else {\n                message = \"An unexpected error occurred\";\n              }\n\n              sendResponse({\n                __mozWebExtensionPolyfillReject__: true,\n                message\n              });\n            }).catch(err => {\n              // Print an error on the console if unable to send the response.\n              console.error(\"Failed to send onMessage rejected reply\", err);\n            });\n          }; // If the listener returned a Promise, send the resolved value as a\n          // result, otherwise wait the promise related to the wrappedSendResponse\n          // callback to resolve and send it as a response.\n\n\n          if (isResultThenable) {\n            sendPromisedResult(result);\n          } else {\n            sendPromisedResult(sendResponsePromise);\n          } // Let Chrome know that the listener is replying.\n\n\n          return true;\n        };\n      });\n\n      const wrappedSendMessageCallback = ({\n        reject,\n        resolve\n      }, reply) => {\n        if (extensionAPIs.runtime.lastError) {\n          // Detect when none of the listeners replied to the sendMessage call and resolve\n          // the promise to undefined as in Firefox.\n          // See https://github.com/mozilla/webextension-polyfill/issues/130\n          if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n            resolve();\n          } else {\n            reject(extensionAPIs.runtime.lastError);\n          }\n        } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n          // Convert back the JSON representation of the error into\n          // an Error instance.\n          reject(new Error(reply.message));\n        } else {\n          resolve(reply);\n        }\n      };\n\n      const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          const wrappedCb = wrappedSendMessageCallback.bind(null, {\n            resolve,\n            reject\n          });\n          args.push(wrappedCb);\n          apiNamespaceObj.sendMessage(...args);\n        });\n      };\n\n      const staticWrappers = {\n        runtime: {\n          onMessage: wrapEvent(onMessageWrappers),\n          onMessageExternal: wrapEvent(onMessageWrappers),\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 1,\n            maxArgs: 3\n          })\n        },\n        tabs: {\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 2,\n            maxArgs: 3\n          })\n        }\n      };\n      const settingMetadata = {\n        clear: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        get: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        set: {\n          minArgs: 1,\n          maxArgs: 1\n        }\n      };\n      apiMetadata.privacy = {\n        network: {\n          \"*\": settingMetadata\n        },\n        services: {\n          \"*\": settingMetadata\n        },\n        websites: {\n          \"*\": settingMetadata\n        }\n      };\n      return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n    };\n\n    if (typeof chrome != \"object\" || !chrome || !chrome.runtime || !chrome.runtime.id) {\n      throw new Error(\"This script should only be loaded in a browser extension.\");\n    } // The build process adds a UMD wrapper around this file, which makes the\n    // `module` variable available.\n\n\n    module.exports = wrapAPIs(chrome);\n  } else {\n    module.exports = browser;\n  }\n});\n//# sourceMappingURL=browser-polyfill.js.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * Ghostery Browser Extension\n * https://www.ghostery.com/\n *\n * Copyright 2017-present Ghostery GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0\n */\nexport function showIframe(url) {\n  const wrapper = document.createElement('ghostery-iframe-wrapper');\n  const shadowRoot = wrapper.attachShadow({\n    mode: 'closed'\n  });\n  const template = document.createElement('template');\n  template.innerHTML =\n  /*html*/\n  `\n    <iframe src=\"${url}\" frameborder=\"0\"></iframe>\n    <style>\n      :host {\n        all: initial;\n        display: flex !important;\n        align-items: flex-end;\n        position: fixed;\n        top: 10px;\n        right: 10px;\n        left: 10px;\n        bottom: 10px;\n        z-index: 2147483647;\n        pointer-events: none;\n      }\n\n      iframe {\n        display: block;\n        flex-grow: 1;\n        width: min(100%, 440px);\n        pointer-events: auto;\n        box-shadow: 30px 60px 160px rgba(0, 0, 0, 0.4);\n        border-radius: 16px;\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.13) 0%, rgba(0, 0, 0, 0.27) 100%);\n        opacity: 0;\n        transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;\n        transform: translateY(20px);\n      }\n\n      iframe.active {\n        opacity: 1;\n        transform: translateY(0);\n      }\n\n      @media screen and (min-width: 640px) {\n        :host {\n          justify-content: flex-end;\n          align-items: start;\n        }\n\n        iframe {\n          flex-grow: 0;\n          transform: translateY(-20px);\n        }\n      }\n    </style>\n  `;\n  shadowRoot.appendChild(template.content);\n  document.documentElement.appendChild(wrapper);\n  const iframe = shadowRoot.querySelector('iframe');\n  setTimeout(() => {\n    iframe.classList.add('active');\n  }, 100);\n  window.addEventListener('message', e => {\n    switch (e.data?.type) {\n      case `ghostery-resize-iframe`:\n        iframe.style.width = e.data.width + 'px';\n        iframe.style.height = e.data.height + 'px';\n        break;\n\n      case `ghostery-close-iframe`:\n        if (e.data.reload) {\n          window.location.reload();\n        } else {\n          setTimeout(() => wrapper.parentElement.removeChild(wrapper), 0);\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  });\n}\nexport function closeIframe(reload = false) {\n  window.parent.postMessage({\n    type: `ghostery-close-iframe`,\n    reload\n  }, '*');\n}\nexport function setupIframeSize({\n  width,\n  height\n} = {}) {\n  if (width) {\n    document.body.style.width = width + 'px';\n  }\n\n  if (height) {\n    document.body.style.height = height + 'px';\n  }\n\n  const resizeObserver = new ResizeObserver(() => {\n    window.parent.postMessage({\n      type: `ghostery-resize-iframe`,\n      width: document.body.clientWidth,\n      height: document.body.clientHeight\n    }, '*');\n  });\n  resizeObserver.observe(document.body, {\n    box: 'border-box'\n  });\n}","/**\n * Ghostery Browser Extension\n * https://www.ghostery.com/\n *\n * Copyright 2017-present Ghostery GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0\n */\n\nimport AutoConsent from '@duckduckgo/autoconsent';\nimport { showIframe } from '@ghostery/ui/iframe';\n\nif (document.contentType === 'text/html') {\n\tconst consent = new AutoConsent(msg => chrome.runtime.sendMessage(\n\t\t{ ...msg, action: 'autoconsent' },\n\t));\n\n\tlet shownIframe = false;\n\tchrome.runtime.onMessage.addListener((msg) => {\n\t\tif (msg.action === 'autoconsent') {\n\t\t\tif (msg.type === 'openIframe') {\n\t\t\t\tif (shownIframe) return false;\n\n\t\t\t\tshowIframe(chrome.runtime.getURL(\n\t\t\t\t\t`app/templates/autoconsent.html?host=${encodeURIComponent(msg.domain)}&default=${msg.defaultForAll ? 'all' : ''}`\n\t\t\t\t));\n\t\t\t\tshownIframe = true;\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn Promise.resolve(consent.receiveMessageCallback(msg));\n\t\t}\n\n\t\treturn false;\n\t});\n}\n"],"names":["exports","SCRIPT_ID","IGNORED_TAGS","isElement","node","getElementsFromMutations","mutations","elements","mutation","addedNode","extractFeaturesFromDOM","roots","ignoredTags","classes","hrefs","ids","root","element","id","classList","cls","href","DOMMonitor","cb","window","newIds","newClasses","newHrefs","e","autoRemoveScript","script","injectScript","s","doc","parent","__createBinding","o","m","k","k2","desc","__exportStar","p","parse_1","eval_1","extended_1","matchPattern","pattern","text","caseSensitive","matches","selector","querySelectorAll","argument","minLength","subSelector","elements2","element2","child","sibling","nextElementSibling","subElement","SelectorType","classifySelector","tokens","foundSupportedExtendedSelector","token","name","argumentType","types_1","TOKENS","TOKENS_WITH_PARENS","TOKENS_WITH_STRINGS","TRIM_TOKENS","TOKENS_FOR_RESTORE","splitOnMatch","str","match","from","content","before","after","GRAMMAR","operator","value","namespace","tokenizeBy","strarr","tokenizer","i","a","offset","restoreNested","strings","regex","types","isEscaped","index","backslashes","gobbleQuotes","quote","start","end","gobbleParens","stack","char","replace","replacement","opening","gobble","tokenize","doubleQuotes","selectorWithoutDoubleQuotes","singleQuotes","selectorWithoutQuotes","parens","selectorWithoutParens","nestTokens","list","t","selectors","temp","sub","left","right","walk","callback","n","parse","recursive","ast","tokenTypes","isAtoms","isAST","adblocker_extended_selectors_1","adblocker_content_1","ACTIVE","DOM_MONITOR","UPDATE_EXTENDED_TIMEOUT","PENDING","EXTENDED","HIDDEN","unload","getCosmeticsFiltersWithSendMessage","arg","resolve","response","cachedQuerySelector","cache","_a","cachedElements","selected","cachedSelectors","cachedSelected","updateExtended","elementsToHide","delayedUpdateExtended","handleResponseFromBackground","active","scripts","extended","injectCosmetics","enableMutationObserver","getCosmeticsFilters","update","r","c","u","l","d","h","f","y","w","g","C","b","v","_","S","P","_adblockerCosmetics","_interopRequireDefault","_register","obj","chrome","CLIQZ","payload","_default","_run","_helpers","getContextHTML","ev","target","html","count","recordMouseDown","linksSrc","src","event","recordMeta","lang","title","description","ogTitle","ogDescription","ogImage","getHTML","click","el","queryHTML","attribute","shadowRootSelector","attributeType","attributes","getAttr","attr","hash","queryComputedStyle","onMouseDown","onDOMContentLoaded","_remoteActionProvider","_runtime","_defineProperty","key","RemoteMessagesBuffer","message","reject","ContentScriptActionsManager","handler","moduleActions","messages","module","actions","actionProvider","_globals","_config","noop","documentBodyReady","isTopWindow","SUPPORTED_SCHEMES","VALID_HOST","compileToRegex","createSchemeMatcher","scheme","createHostMatcher","host","lastWildcardInHost","hostAfterWildcard","createPathMatcher","path","compile","indexOfProtocolSeparator","schemeMatcher","indexOfSlash","hostMatcher","pathMatcher","url","protocol","hostname","pathname","search","compiled","registerContentScript","runContentScripts","_matchPatterns","_console","shouldLoadScript","spec","frameUrl","CONTENT_SCRIPTS","contentScriptActions","js","isEnabled","_actionsManager","getAppStatusFromBackground","app","getAppStatus","action","args","deadline","debounce","nextIdle","nextTick","throttle","tryPromise","withTimeout","_sleep","_timers","fn","threshhold","last","timer","now","delay","timeout","delayed","promise","timeoutInMs","RemoteActionProvider","sleep","time","normalizeAclkUrl","parsed","isRelevant","entry","x","parseDom","_decorators","_adDetection","logException","hw","document","jsRef","location","ee","_ad","_h","additionalInfo","adDetails","noAdsOnThisPage","detectAdRules","queryElement","query","eachAdSection","idx","eachAd","cuRule","fuRule","clink","flink","cuAttr","clickPattern","fuAttr","contentScript","proxyWindowEvent","onKeyPress","onMouseMove","onScroll","onCopy","stop","analyzePageInfo","pageLatency","newChrome","newWindow","_adblockerWebextensionCosmetics","_webextensionPolyfill","_setTimeout","_setInterval","_clearTimeout","_clearInterval","factory","CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE","SEND_RESPONSE_DEPRECATION_WARNING","wrapAPIs","extensionAPIs","apiMetadata","DefaultWeakMap","createItem","items","isThenable","makeCallback","metadata","callbackArgs","pluralizeArguments","numArgs","wrapAsyncFunction","cbError","wrapMethod","method","wrapper","targetMethod","thisObj","hasOwnProperty","wrapObject","wrappers","handlers","proxyTarget","prop","receiver","wrapEvent","wrapperMap","listener","loggedSendResponseDeprecationWarning","onMessageWrappers","sender","sendResponse","didCallSendResponse","wrappedSendResponse","sendResponsePromise","result","err","isResultThenable","sendPromisedResult","msg","error","wrappedSendMessageCallback","reply","wrappedSendMessage","apiNamespaceObj","wrappedCb","staticWrappers","settingMetadata","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","showIframe","shadowRoot","template","iframe","closeIframe","reload","setupIframeSize","width","height","consent","shownIframe"],"sourceRoot":""}