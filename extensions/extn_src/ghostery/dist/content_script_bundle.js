typeof browser<"u"&&(chrome=browser),(()=>{var G={3803:(D,r)=>{"use strict";/*!
 * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.injectScript=r.autoRemoveScript=r.DOMMonitor=r.extractFeaturesFromDOM=void 0;const g="cliqz-adblocker-script",E=new Set(["br","head","link","meta","script","style","s"]);function w(u){return u.nodeType===1}function m(u){const t=[];for(const i of u)if(i.type==="attributes")w(i.target)&&t.push(i.target);else if(i.type==="childList")for(const h of i.addedNodes)w(h)&&h.id!==g&&t.push(h);return t}function o(u){const t=new Set(["br","head","link","meta","script","style","s"]),i=new Set,h=new Set,p=new Set;for(const v of u)for(const P of[v,...v.querySelectorAll("[id]:not(html):not(body),[class]:not(html):not(body),[href]:not(html):not(body)")]){if(t.has(P.nodeName.toLowerCase()))continue;const T=P.id;T&&p.add(T);const C=P.classList;if(C)for(const I of C)i.add(I);const x=P.getAttribute("href");typeof x=="string"&&h.add(x)}return{classes:Array.from(i),hrefs:Array.from(h),ids:Array.from(p)}}r.extractFeaturesFromDOM=o;class _{constructor(t){this.cb=t,this.knownIds=new Set,this.knownHrefs=new Set,this.knownClasses=new Set,this.observer=null}queryAll(t){this.cb({type:"elements",elements:[t.document.documentElement]}),this.handleUpdatedNodes([t.document.documentElement])}start(t){this.observer===null&&t.MutationObserver!==void 0&&(this.observer=new t.MutationObserver(i=>{this.handleUpdatedNodes(m(i))}),this.observer.observe(t.document.documentElement,{attributes:!0,attributeFilter:["class","id","href"],childList:!0,subtree:!0}))}stop(){this.observer!==null&&(this.observer.disconnect(),this.observer=null)}handleNewFeatures({hrefs:t,ids:i,classes:h}){const p=[],v=[],P=[];for(const T of i)this.knownIds.has(T)===!1&&(p.push(T),this.knownIds.add(T));for(const T of h)this.knownClasses.has(T)===!1&&(v.push(T),this.knownClasses.add(T));for(const T of t)this.knownHrefs.has(T)===!1&&(P.push(T),this.knownHrefs.add(T));return p.length!==0||v.length!==0||P.length!==0?(this.cb({type:"features",classes:v,hrefs:P,ids:p}),!0):!1}handleUpdatedNodes(t){return t.length!==0?(this.cb({type:"elements",elements:t.filter(i=>E.has(i.nodeName.toLowerCase())===!1)}),this.handleNewFeatures(o(t))):!1}}r.DOMMonitor=_;function b(u){return`try{${u}}catch(c){}!function(){var c=document.currentScript,e=c&&c.parentNode;e&&e.removeChild(c)}();`}r.autoRemoveScript=b;function A(u,t){const i=t.createElement("script");i.type="text/javascript",i.id=g,i.async=!1,i.appendChild(t.createTextNode(b(u)));const h=t.head||t.documentElement;h!==null&&h.appendChild(i)}r.injectScript=A},32261:function(D,r,g){"use strict";/*!
 * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */var E=this&&this.__createBinding||(Object.create?function(b,A,u,t){t===void 0&&(t=u);var i=Object.getOwnPropertyDescriptor(A,u);(!i||("get"in i?!A.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return A[u]}}),Object.defineProperty(b,t,i)}:function(b,A,u,t){t===void 0&&(t=u),b[t]=A[u]}),w=this&&this.__exportStar||function(b,A){for(var u in b)u!=="default"&&!Object.prototype.hasOwnProperty.call(A,u)&&E(A,b,u)};Object.defineProperty(r,"__esModule",{value:!0}),r.classifySelector=r.SelectorType=r.PSEUDO_ELEMENTS=r.PSEUDO_CLASSES=r.EXTENDED_PSEUDO_CLASSES=r.matches=r.querySelectorAll=r.tokenize=r.parse=void 0;var m=g(45277);Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return m.parse}}),Object.defineProperty(r,"tokenize",{enumerable:!0,get:function(){return m.tokenize}});var o=g(50315);Object.defineProperty(r,"querySelectorAll",{enumerable:!0,get:function(){return o.querySelectorAll}}),Object.defineProperty(r,"matches",{enumerable:!0,get:function(){return o.matches}}),w(g(83236),r);var _=g(16107);Object.defineProperty(r,"EXTENDED_PSEUDO_CLASSES",{enumerable:!0,get:function(){return _.EXTENDED_PSEUDO_CLASSES}}),Object.defineProperty(r,"PSEUDO_CLASSES",{enumerable:!0,get:function(){return _.PSEUDO_CLASSES}}),Object.defineProperty(r,"PSEUDO_ELEMENTS",{enumerable:!0,get:function(){return _.PSEUDO_ELEMENTS}}),Object.defineProperty(r,"SelectorType",{enumerable:!0,get:function(){return _.SelectorType}}),Object.defineProperty(r,"classifySelector",{enumerable:!0,get:function(){return _.classifySelector}})},50315:(D,r)=>{"use strict";/*!
 * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.querySelectorAll=r.matches=r.matchPattern=void 0;function g(m,o){if(m.startsWith("/")&&(m.endsWith("/")||m.endsWith("/i"))){let _=!0;return m=m.slice(1),m.endsWith("/")?m=m.slice(0,-1):(m=m.slice(0,-2),_=!1),new RegExp(m,_===!1?"i":void 0).test(o)}return o.includes(m)}r.matchPattern=g;function E(m,o){if(o.type==="id"||o.type==="class"||o.type==="type"||o.type==="attribute")return m.matches(o.content);if(o.type==="list")return o.list.some(_=>E(m,_));if(o.type==="compound")return o.compound.every(_=>E(m,_));if(o.type==="pseudo-class"){if(o.name==="has"||o.name==="if")return o.subtree!==void 0&&w(m,o.subtree).length!==0;if(o.name==="not")return o.subtree!==void 0&&E(m,o.subtree)===!1;if(o.name==="has-text"){const{argument:_}=o;if(_===void 0)return!1;const b=m.textContent;return b===null?!1:g(_,b)}else if(o.name==="min-text-length"){const _=Number(o.argument);if(Number.isNaN(_)||_<0)return!1;const b=m.textContent;return b===null?!1:b.length>=_}}return!1}r.matches=E;function w(m,o){const _=[];if(o.type==="id"||o.type==="class"||o.type==="type"||o.type==="attribute")_.push(...m.querySelectorAll(o.content));else if(o.type==="list")for(const b of o.list)_.push(...w(m,b));else if(o.type==="compound")o.compound.length!==0&&_.push(...w(m,o.compound[0]).filter(b=>o.compound.slice(1).every(A=>E(b,A))));else if(o.type==="complex"){const b=o.left===void 0?[m]:w(m,o.left);if(o.combinator===" ")for(const A of b)_.push(...w(A,o.right));else if(o.combinator===">")for(const A of b)for(const u of A.children)E(u,o.right)===!0&&_.push(u);else if(o.combinator==="~")for(const A of b){let u=A;for(;(u=u.nextElementSibling)!==null;)E(u,o.right)===!0&&_.push(u)}else if(o.combinator==="+")for(const A of b){const u=A.nextElementSibling;u!==null&&E(u,o.right)===!0&&_.push(u)}}else if(o.type==="pseudo-class")for(const b of m.querySelectorAll("*"))E(b,o)===!0&&_.push(b);return _}r.querySelectorAll=w},16107:(D,r,g)=>{"use strict";/*!
 * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.classifySelector=r.SelectorType=r.PSEUDO_ELEMENTS=r.PSEUDO_CLASSES=r.EXTENDED_PSEUDO_CLASSES=void 0;const E=g(45277);r.EXTENDED_PSEUDO_CLASSES=new Set(["has","has-text","if"]),r.PSEUDO_CLASSES=new Set(["active","any","any-link","blank","checked","default","defined","dir","disabled","empty","enabled","first","first-child","first-of-type","focus","focus-visible","focus-within","fullscreen","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","matches","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","placeholder-shown","read-only","read-write","required","right","root","scope","target","valid","visited","where"]),r.PSEUDO_ELEMENTS=new Set(["after","before","first-letter","first-line"]);var w;(function(o){o[o.Normal=0]="Normal",o[o.Extended=1]="Extended",o[o.Invalid=2]="Invalid"})(w=r.SelectorType||(r.SelectorType={}));function m(o){if(o.indexOf(":")===-1)return w.Normal;const _=(0,E.tokenize)(o);let b=!1;for(const A of _)if(A.type==="pseudo-class"){const{name:u}=A;if(r.EXTENDED_PSEUDO_CLASSES.has(u)===!0)b=!0;else if(r.PSEUDO_CLASSES.has(u)===!1&&r.PSEUDO_ELEMENTS.has(u)===!1)return w.Invalid;if(b===!1&&A.argument!==void 0&&E.RECURSIVE_PSEUDO_CLASSES.has(u)===!0){const t=m(A.argument);if(t===w.Invalid)return t;t===w.Extended&&(b=!0)}}return b===!0?w.Extended:w.Normal}r.classifySelector=m},45277:(D,r,g)=>{"use strict";/*!
 * Based on parsel. Extended by RÃ©mi Berson for Ghostery (2021).
 * https://github.com/LeaVerou/parsel
 *
 * MIT License
 *
 * Copyright (c) 2020 Lea Verou
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.parse=r.tokenize=r.replace=r.gobbleParens=r.gobbleQuotes=r.isEscaped=r.RECURSIVE_PSEUDO_CLASSES=void 0;const E=g(83236);r.RECURSIVE_PSEUDO_CLASSES=new Set(["any","dir","has","host-context","if","if-not","is","matches","not","where"]);const w={attribute:new RegExp("\\[\\s*(?:(?<namespace>\\*|[-\\w]*)\\|)?(?<name>[-\\w\\u{0080}-\\u{FFFF}]+)\\s*(?:(?<operator>\\W?=)\\s*(?<value>.+?)\\s*(?<caseSensitive>[iIsS])?\\s*)?\\]","gu"),id:new RegExp("#(?<name>(?:[-\\w\\u{0080}-\\u{FFFF}]|\\\\.)+)","gu"),class:new RegExp("\\.(?<name>(?:[-\\w\\u{0080}-\\u{FFFF}]|\\\\.)+)","gu"),comma:/\s*,\s*/g,combinator:/\s*[\s>+~]\s*/g,"pseudo-element":new RegExp("::(?<name>[-\\w\\u{0080}-\\u{FFFF}]+)(?:\\((?:\xB6*)\\))?","gu"),"pseudo-class":new RegExp(":(?<name>[-\\w\\u{0080}-\\u{FFFF}]+)(?:\\((?<argument>\xB6*)\\))?","gu"),type:new RegExp("(?:(?<namespace>\\*|[-\\w]*)\\|)?(?<name>[-\\w\\u{0080}-\\u{FFFF}]+)|\\*","gu")},m=new Set(["pseudo-class","pseudo-element"]),o=new Set([...m,"attribute"]),_=new Set(["combinator","comma"]),b=Object.assign({},w);b["pseudo-element"]=RegExp(w["pseudo-element"].source.replace("(?<argument>\xB6*)","(?<argument>.*?)"),"gu"),b["pseudo-class"]=RegExp(w["pseudo-class"].source.replace("(?<argument>\xB6*)","(?<argument>.*)"),"gu");function A(c,y){c.lastIndex=0;const S=c.exec(y);if(S===null)return;const f=S.index-1,O=S[0],l=y.slice(0,f+1),k=y.slice(f+O.length+1);return[l,[O,S.groups||{}],k]}const u=[c=>{const y=A(w.attribute,c);if(y===void 0)return;const[S,[f,{name:O,operator:l,value:k,namespace:R,caseSensitive:e}],n]=y;if(O!==void 0)return[S,{type:"attribute",content:f,length:f.length,namespace:R,caseSensitive:e,pos:[],name:O,operator:l,value:k},n]},c=>{const y=A(w.id,c);if(y===void 0)return;const[S,[f,{name:O}],l]=y;if(O!==void 0)return[S,{type:"id",content:f,length:f.length,pos:[],name:O},l]},c=>{const y=A(w.class,c);if(y===void 0)return;const[S,[f,{name:O}],l]=y;if(O!==void 0)return[S,{type:"class",content:f,length:f.length,pos:[],name:O},l]},c=>{const y=A(w.comma,c);if(y===void 0)return;const[S,[f],O]=y;return[S,{type:"comma",content:f,length:f.length,pos:[]},O]},c=>{const y=A(w.combinator,c);if(y===void 0)return;const[S,[f],O]=y;return[S,{type:"combinator",content:f,length:f.length,pos:[]},O]},c=>{const y=A(w["pseudo-element"],c);if(y===void 0)return;const[S,[f,{name:O}],l]=y;if(O!==void 0)return[S,{type:"pseudo-element",content:f,length:f.length,pos:[],name:O},l]},c=>{const y=A(w["pseudo-class"],c);if(y===void 0)return;const[S,[f,{name:O,argument:l}],k]=y;if(O!==void 0)return[S,{type:"pseudo-class",content:f,length:f.length,pos:[],name:O,argument:l,subtree:void 0},k]},c=>{const y=A(w.type,c);if(y===void 0)return;const[S,[f,{name:O,namespace:l}],k]=y;return[S,{type:"type",content:f,length:f.length,namespace:l,pos:[],name:O},k]}];function t(c){if(!c)return[];const y=[c];for(const f of u)for(let O=0;O<y.length;O++){const l=y[O];if(typeof l=="string"){const k=f(l);k!==void 0&&y.splice(O,1,...k.filter(R=>R.length!==0))}}let S=0;for(const f of y)typeof f!="string"&&(f.pos=[S,S+f.length],_.has(f.type)&&(f.content=f.content.trim()||" ")),S+=f.length;return(0,E.isAtoms)(y)?y:[]}function i(c,y,S,f){for(const O of y)for(const l of c)if(f.has(l.type)&&l.pos[0]<O.start&&O.start<l.pos[1]){const k=l.content;if(l.content=l.content.replace(S,O.str),l.content!==k){b[l.type].lastIndex=0;const R=b[l.type].exec(l.content);R!==null&&Object.assign(l,R.groups)}}}function h(c,y){let S=0;for(y-=1;y>=0&&c[y]==="\\";)S+=1,y-=1;return S%2!==0}r.isEscaped=h;function p(c,y,S){let f=S+1;for(;(f=c.indexOf(y,f))!==-1&&h(c,f)===!0;)f+=1;if(f!==-1)return c.slice(S,f+1)}r.gobbleQuotes=p;function v(c,y){let S=0;for(let f=y;f<c.length;f++){const O=c[f];if(O==="(")S+=1;else if(O===")")if(S>0)S-=1;else return;if(S===0)return c.slice(y,f+1)}}r.gobbleParens=v;function P(c,y,S,f){const O=[];let l=0;for(;(l=c.indexOf(S,l))!==-1;){const k=f(c,l);if(k===void 0)break;O.push({str:k,start:l}),c=`${c.slice(0,l+1)}${y.repeat(k.length-2)}${c.slice(l+k.length-1)}`,l+=k.length}return[O,c]}r.replace=P;function T(c){if(typeof c!="string")return[];if(c=c.trim(),c.length===0)return[];const[y,S]=P(c,"\xA7",'"',(e,n)=>p(e,'"',n)),[f,O]=P(S,"\xA7","'",(e,n)=>p(e,"'",n)),[l,k]=P(O,"\xB6","(",v),R=t(k);return i(R,l,/\(Â¶*\)/,m),i(R,y,/"Â§*"/,o),i(R,f,/'Â§*'/,o),R}r.tokenize=T;function C(c,{list:y=!0}={}){if(y===!0&&c.some(S=>S.type==="comma")){const S=[],f=[];for(let O=0;O<c.length;O+=1){const l=c[O];if(l.type==="comma"){if(f.length===0)throw new Error("Incorrect comma at "+O);const k=C(f,{list:!1});k!==void 0&&S.push(k),f.length=0}else f.push(l)}if(f.length===0)throw new Error("Trailing comma");{const O=C(f,{list:!1});O!==void 0&&S.push(O)}return{type:"list",list:S}}for(let S=c.length-1;S>=0;S--){const f=c[S];if(f.type==="combinator"){const O=C(c.slice(0,S)),l=C(c.slice(S+1));return l===void 0||f.content!==" "&&f.content!=="~"&&f.content!=="+"&&f.content!==">"?void 0:{type:"complex",combinator:f.content,left:O,right:l}}}if(c.length!==0&&(0,E.isAST)(c))return c.length===1?c[0]:{type:"compound",compound:[...c]}}function x(c,y,S,f){if(c!==void 0){if(c.type==="complex")x(c.left,y,S,c),x(c.right,y,S,c);else if(c.type==="compound")for(const O of c.compound)x(O,y,S,c);else c.type==="pseudo-class"&&c.subtree!==void 0&&S!==void 0&&S.type==="pseudo-class"&&S.subtree!==void 0&&x(c.subtree,y,S,c);y(c,f)}}function I(c,{recursive:y=!0,list:S=!0}={}){const f=T(c);if(f.length===0)return;const O=C(f,{list:S});return y===!0&&x(O,l=>{l.type==="pseudo-class"&&l.argument&&l.name!==void 0&&r.RECURSIVE_PSEUDO_CLASSES.has(l.name)&&(l.subtree=I(l.argument,{recursive:!0,list:!0}))}),O}r.parse=I},83236:(D,r)=>{"use strict";/*!
 * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.isAST=r.isAtoms=void 0;const g=null;function E(m){return m.every(o=>typeof o!="string")}r.isAtoms=E;function w(m){return m.every(o=>o.type!=="comma"&&o.type!=="combinator")}r.isAST=w},40542:(D,r,g)=>{"use strict";/*!
 * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.injectCosmetics=void 0;const E=g(32261),w=g(3803);let m=!0,o=null,_=null;const b=new Set,A=[],u=new Map;function t(){o!==null&&(o.stop(),o=null)}function i(C){return new Promise(x=>{chrome.runtime.sendMessage(Object.assign({action:"getCosmeticsFilters"},C),I=>{I!==void 0&&x(I)})})}function h(C,x,I){var c;const y=(c=I.get(C))===null||c===void 0?void 0:c.get(x);if(y!==void 0)return y;const S=new Set((0,E.querySelectorAll)(C,x.ast));if(x.attribute!==void 0){let f=I.get(C);f===void 0&&(f=new Map,I.set(C,f));let O=f.get(x);O===void 0&&(O=new Set,f.set(x,O));for(const l of S)O.add(l)}return S}function p(){if(b.size===0||A.length===0)return;const C=new Map,x=new Map,I=[...b].filter(c=>c.isConnected===!0);b.clear();for(const c of I)for(const y of A)for(const S of h(c,y,C))y.remove===!0?(S.textContent="",S.remove()):y.attribute!==void 0&&u.has(S)===!1&&x.set(S,{selector:y,root:c});for(const[c,{selector:y,root:S}]of x.entries())y.attribute!==void 0&&(c.setAttribute(y.attribute,""),u.set(c,{selector:y,root:S}));for(const[c,{selector:y,root:S}]of[...u.entries()])y.attribute!==void 0&&(S.isConnected===!1||c.isConnected===!1||h(S,y,C).has(c)===!1)&&(u.delete(c),c.removeAttribute(y.attribute))}function v(C){if(A.length!==0&&!b.has(window.document.documentElement)){for(const x of C){if(x===window.document.documentElement){b.clear(),b.add(x);break}b.add(x)}_===null&&(_=setTimeout(()=>{_=null,p()},1e3))}}function P(C,{active:x,scripts:I,extended:c}){if(x===!1){m=!1,t();return}else m=!0;I&&setTimeout(()=>{for(const y of I)(0,w.injectScript)(y,C.document)},0),c&&c.length>0&&(A.push(...c),v([C.document.documentElement]))}function T(C,x=!0,I=i){I({lifecycle:"start",ids:[],classes:[],hrefs:[]}).then(c=>P(C,c)),C.addEventListener("DOMContentLoaded",()=>{o=new w.DOMMonitor(c=>{c.type==="elements"?c.elements.length!==0&&v(c.elements):I(Object.assign(Object.assign({},c),{lifecycle:"dom-update"})).then(y=>P(C,y))}),o.queryAll(C),m&&x&&o.start(C)},{once:!0,passive:!0}),C.addEventListener("pagehide",t,{once:!0,passive:!0})}r.injectCosmetics=T},58665:(D,r)=>{"use strict";var g;g={value:!0};function E(){return crypto&&crypto.randomUUID!==void 0?crypto.randomUUID():Math.random().toString()}class w{constructor(n,s=1e3){this.id=n,this.promise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.timer=window.setTimeout(()=>{this.reject(new Error("timeout"))},s)}}const m={pending:new Map,sendContentMessage:null};function o(e="autoconsent-css-rules"){const n=`style#${e}`,s=document.querySelector(n);if(s&&s instanceof HTMLStyleElement)return s;{const a=document.head||document.getElementsByTagName("head")[0]||document.documentElement,d=document.createElement("style");return d.id=e,a.appendChild(d),d}}function _(e,n,s="display"){const a=s==="opacity"?"opacity: 0":"display: none",d=`${n.join(",")} { ${a} !important; z-index: -1 !important; pointer-events: none !important; } `;return e instanceof HTMLStyleElement&&(e.innerText+=d,n.length>0)}async function b(e,n,s){const a=await e();return!a&&n>0?new Promise(d=>{setTimeout(async()=>{d(b(e,n-1,s))},s)}):Promise.resolve(a)}function A(e){if(!e)return!1;if(e.offsetParent!==null)return!0;{const n=window.getComputedStyle(e);if(n.position==="fixed"&&n.display!=="none")return!0}return!1}function u(e){return function(n){const s=E();m.sendContentMessage({type:"eval",id:s,code:n});const a=new w(s);return m.pending.set(a.id,a),a.promise}(e).catch(n=>!1)}function t(e,n=!1){let s=[];return s=typeof e=="string"?Array.from(document.querySelectorAll(e)):e,s.length>0&&(n?s.forEach(a=>a.click()):s[0].click()),s.length>0}function i(e){return document.querySelector(e)!==null}function h(e,n){const s=document.querySelectorAll(e),a=new Array(s.length);return s.forEach((d,M)=>{a[M]=A(d)}),n==="none"?a.every(d=>!d):a.length!==0&&(n==="any"?a.some(d=>d):a.every(d=>d))}function p(e,n=1e4){return b(()=>document.querySelector(e)!==null,Math.ceil(n/200),200)}async function v(e,n=1e4,s=!1){return await p(e,n),t(e,s)}function P(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}const T={main:!0,frame:!1,urlPattern:""};class C{constructor(n){this.runContext=T,this.name=n}get hasSelfTest(){throw new Error("Not Implemented")}get isIntermediate(){throw new Error("Not Implemented")}get isCosmetic(){throw new Error("Not Implemented")}checkRunContext(){const n={...T,...this.runContext},s=window.top===window;return!(s&&!n.main)&&!(!s&&!n.frame)&&!(n.urlPattern&&!window.location.href.match(n.urlPattern))}detectCmp(){throw new Error("Not Implemented")}async detectPopup(){return!1}optOut(){throw new Error("Not Implemented")}optIn(){throw new Error("Not Implemented")}openCmp(){throw new Error("Not Implemented")}async test(){return Promise.resolve(!0)}}async function x(e){const n=[];if(e.exists&&n.push(i(e.exists)),e.visible&&n.push(h(e.visible,e.check)),e.eval){const d=u(e.eval);n.push(d)}var s,a;if(e.waitFor&&n.push(p(e.waitFor,e.timeout)),e.waitForVisible&&n.push(function(d,M=1e4,N="any"){return b(()=>h(d,N),Math.ceil(M/200),200)}(e.waitForVisible,e.timeout,e.check)),e.click&&n.push(t(e.click,e.all)),e.waitForThenClick&&n.push(v(e.waitForThenClick,e.timeout,e.all)),e.wait&&n.push(P(e.wait)),e.hide&&n.push((s=e.hide,a=e.method,_(o(),s,a))),e.if){if(!e.if.exists&&!e.if.visible)return console.error("invalid conditional rule",e.if),!1;await x(e.if)?n.push(I(e.then)):e.else&&n.push(I(e.else))}return n.length===0?!1:(await Promise.all(n)).reduce((d,M)=>d&&M,!0)}async function I(e){for(const n of e)if(!await x(n)&&!n.optional)return!1;return!0}class c extends C{constructor(n){super(n.name),this.config=n,this.runContext=n.runContext||T}get hasSelfTest(){return!!this.config.test}get isIntermediate(){return!!this.config.intermediate}get isCosmetic(){return!!this.config.cosmetic}get prehideSelectors(){return this.config.prehideSelectors}async detectCmp(){return!!this.config.detectCmp&&async function(n){const s=n.map(a=>x(a));return(await Promise.all(s)).every(a=>!!a)}(this.config.detectCmp)}async detectPopup(){return!!this.config.detectPopup&&I(this.config.detectPopup)}async optOut(){return!!this.config.optOut&&I(this.config.optOut)}async optIn(){return!!this.config.optIn&&I(this.config.optIn)}async openCmp(){return!!this.config.openCmp&&I(this.config.openCmp)}async test(){return this.hasSelfTest?I(this.config.test):super.test()}}function y(e){return new c(e)}const S=[new class extends C{constructor(){super("TrustArc-top"),this.prehideSelectors=[".trustarc-banner-container",".truste_popframe,.truste_overlay,.truste_box_overlay,#truste-consent-track"],this.runContext={main:!0,frame:!1},this._shortcutButton=null,this._optInDone=!1}get hasSelfTest(){return!1}get isIntermediate(){return!this._optInDone&&!this._shortcutButton}get isCosmetic(){return!1}async detectCmp(){const e=i("#truste-show-consent,#truste-consent-track");return e&&(this._shortcutButton=document.querySelector("#truste-consent-required")),e}async detectPopup(){return h("#truste-consent-content,#trustarc-banner-overlay,#truste-consent-track","all")}openFrame(){t("#truste-show-consent")}async optOut(){return this._shortcutButton?(this._shortcutButton.click(),!0):(_(o(),[".truste_popframe",".truste_overlay",".truste_box_overlay","#truste-consent-track"]),t("#truste-show-consent"),setTimeout(()=>{o().remove()},1e4),!0)}async optIn(){return this._optInDone=!0,t("#truste-consent-button")}async openCmp(){return!0}async test(){return!0}},new class extends C{constructor(){super("TrustArc-frame"),this.runContext={main:!1,frame:!0,urlPattern:"^https://consent-pref\\.trustarc\\.com/\\?"}}get hasSelfTest(){return!1}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return!0}async detectPopup(){return h("#defaultpreferencemanager","any")&&h(".mainContent","any")}async navigateToSettings(){return await b(async()=>i(".shp")||h(".advance","any")||i(".switch span:first-child"),10,500),i(".shp")&&t(".shp"),await p(".prefPanel",5e3),h(".advance","any")&&t(".advance"),await b(()=>h(".switch span:first-child","any"),5,1e3)}async optOut(){return await b(()=>document.readyState==="complete",20,100),await p(".mainContent[aria-hidden=false]",5e3),!!t(".rejectAll")||(i(".prefPanel")&&await p('.prefPanel[style="visibility: visible;"]',3e3),t("#catDetails0")?(t(".submit"),!0):(t(".required")||(await this.navigateToSettings(),t(".switch span:nth-child(1):not(.active)",!0),t(".submit"),p("#gwt-debug-close_id",3e5).then(()=>{t("#gwt-debug-close_id")})),!0))}async optIn(){return t(".call")||(await this.navigateToSettings(),t(".switch span:nth-child(2)",!0),t(".submit"),p("#gwt-debug-close_id",3e5).then(()=>{t("#gwt-debug-close_id")})),!0}},new class extends C{constructor(){super("Cybotcookiebot"),this.prehideSelectors=["#CybotCookiebotDialog,#dtcookie-container,#cookiebanner,#cb-cookieoverlay"]}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return i("#CybotCookiebotDialogBodyLevelButtonPreferences")}async detectPopup(){return i("#CybotCookiebotDialog,#dtcookie-container,#cookiebanner,#cb-cookiebanner")}async optOut(){return t(".cookie-alert-extended-detail-link")?(await p(".cookie-alert-configuration",2e3),t(".cookie-alert-configuration-input:checked",!0),t(".cookie-alert-extended-button-secondary"),!0):i("#dtcookie-container")?t(".h-dtcookie-decline"):(t(".cookiebot__button--settings")||t("#CybotCookiebotDialogBodyButtonDecline")||(t(".cookiebanner__link--details"),t('.CybotCookiebotDialogBodyLevelButton:checked:enabled,input[id*="CybotCookiebotDialogBodyLevelButton"]:checked:enabled',!0),t("#CybotCookiebotDialogBodyButtonDecline"),t("input[id^=CybotCookiebotDialogBodyLevelButton]:checked",!0),i("#CybotCookiebotDialogBodyButtonAcceptSelected")?t("#CybotCookiebotDialogBodyButtonAcceptSelected"):t("#CybotCookiebotDialogBodyLevelButtonAccept,#CybotCookiebotDialogBodyButtonAccept,#CybotCookiebotDialogBodyLevelButtonLevelOptinAllowallSelection",!0),await u("window.CookieConsent.hasResponse !== true")&&(await u("window.Cookiebot.dialog.submitConsent()"),await P(500)),i("#cb-confirmedSettings")&&await u("endCookieProcess()")),!0)}async optIn(){return i("#dtcookie-container")?t(".h-dtcookie-accept"):(t(".CybotCookiebotDialogBodyLevelButton:not(:checked):enabled",!0),t("#CybotCookiebotDialogBodyLevelButtonAccept"),t("#CybotCookiebotDialogBodyButtonAccept"),!0)}async test(){return u("window.CookieConsent.declined === true")}},new class extends C{constructor(){super("Sourcepoint-frame"),this.prehideSelectors=["div[id^='sp_message_container_'],.message-overlay","#sp_privacy_manager_container"],this.ccpaNotice=!1,this.ccpaPopup=!1,this.runContext={main:!1,frame:!0}}get hasSelfTest(){return!1}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){const e=new URL(location.href);return e.searchParams.has("message_id")&&e.hostname==="ccpa-notice.sp-prod.net"?(this.ccpaNotice=!0,!0):e.hostname==="ccpa-pm.sp-prod.net"?(this.ccpaPopup=!0,!0):(e.pathname==="/index.html"||e.pathname==="/privacy-manager/index.html")&&(e.searchParams.has("message_id")||e.searchParams.has("requestUUID")||e.searchParams.has("consentUUID"))}async detectPopup(){return!!this.ccpaNotice||(this.ccpaPopup?await p(".priv-save-btn",2e3):(await p(".sp_choice_type_11,.sp_choice_type_12,.sp_choice_type_13,.sp_choice_type_ACCEPT_ALL",2e3),!i(".sp_choice_type_9")))}async optIn(){return await p(".sp_choice_type_11,.sp_choice_type_ACCEPT_ALL",2e3),!!t(".sp_choice_type_11")||!!t(".sp_choice_type_ACCEPT_ALL")}isManagerOpen(){return location.pathname==="/privacy-manager/index.html"}async optOut(){if(this.ccpaPopup){const e=document.querySelectorAll(".priv-purpose-container .sp-switch-arrow-block a.neutral.on .right");for(const s of e)t([s]);const n=document.querySelectorAll(".priv-purpose-container .sp-switch-arrow-block a.switch-bg.on");for(const s of n)t([s]);return t(".priv-save-btn")}if(!this.isManagerOpen()){if(!await p(".sp_choice_type_12,.sp_choice_type_13"))return!1;if(!i(".sp_choice_type_12"))return t(".sp_choice_type_13");t(".sp_choice_type_12"),await b(()=>this.isManagerOpen(),200,100)}await p(".type-modal",2e4);try{const e=".sp_choice_type_REJECT_ALL",n=".reject-toggle",s=await Promise.race([p(e,2e3).then(a=>a?0:-1),p(n,2e3).then(a=>a?1:-1),p(".pm-features",2e3).then(a=>a?2:-1)]);if(s===0)return await P(1e3),t(e);s===1?t(n):s===2&&(await p(".pm-features",1e4),t(".checked > span",!0),t(".chevron"))}catch{}return t(".sp_choice_type_SAVE_AND_EXIT")}},new class extends C{get hasSelfTest(){return this.apiAvailable}get isIntermediate(){return!1}get isCosmetic(){return!1}constructor(){super("consentmanager.net"),this.prehideSelectors=["#cmpbox,#cmpbox2"],this.apiAvailable=!1}async detectCmp(){return this.apiAvailable=await u('window.__cmp && typeof __cmp("getCMPData") === "object"'),!!this.apiAvailable||i("#cmpbox")}async detectPopup(){return this.apiAvailable?(await P(500),await u("!__cmp('consentStatus').userChoiceExists")):h("#cmpbox .cmpmore","any")}async optOut(){return await P(500),this.apiAvailable?await u("__cmp('setConsent', 0)"):!!t(".cmpboxbtnno")||(i(".cmpwelcomeprpsbtn")?(t(".cmpwelcomeprpsbtn > a[aria-checked=true]",!0),t(".cmpboxbtnsave"),!0):(t(".cmpboxbtncustom"),await p(".cmptblbox",2e3),t(".cmptdchoice > a[aria-checked=true]",!0),t(".cmpboxbtnyescustomchoices"),!0))}async optIn(){return this.apiAvailable?await u("__cmp('setConsent', 1)"):t(".cmpboxbtnyes")}async test(){if(this.apiAvailable)return await u("__cmp('consentStatus').userChoiceExists")}},new class extends C{constructor(){super("Evidon")}get hasSelfTest(){return!1}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return i("#_evidon_banner")}async detectPopup(){return h("#_evidon_banner","any")}async optOut(){return t("#_evidon-decline-button")||(_(o(),["#evidon-prefdiag-overlay","#evidon-prefdiag-background"]),t("#_evidon-option-button"),await p("#evidon-prefdiag-overlay",5e3),t("#evidon-prefdiag-decline")),!0}async optIn(){return t("#_evidon-accept-button")}},new class extends C{constructor(){super("Onetrust"),this.prehideSelectors=["#onetrust-banner-sdk,#onetrust-consent-sdk,.onetrust-pc-dark-filter,.js-consent-banner"]}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return i("#onetrust-banner-sdk")}async detectPopup(){return h("#onetrust-banner-sdk","all")}async optOut(){return i("#onetrust-pc-btn-handler")?t("#onetrust-pc-btn-handler"):t(".ot-sdk-show-settings,button.js-cookie-settings"),await p("#onetrust-consent-sdk",2e3),await P(1e3),t("#onetrust-consent-sdk input.category-switch-handler:checked,.js-editor-toggle-state:checked",!0),await P(1e3),await p(".save-preference-btn-handler,.js-consent-save",2e3),t(".save-preference-btn-handler,.js-consent-save"),await b(()=>h("#onetrust-banner-sdk","none"),10,500),!0}async optIn(){return t("#onetrust-accept-btn-handler,.js-accept-cookies")}async test(){return await u("window.OnetrustActiveGroups.split(',').filter(s => s.length > 0).length <= 1")}},new class extends C{constructor(){super("Klaro"),this.prehideSelectors=[".klaro"],this.settingsOpen=!1}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return i(".klaro > .cookie-modal")?(this.settingsOpen=!0,!0):i(".klaro > .cookie-notice")}async detectPopup(){return h(".klaro > .cookie-notice,.klaro > .cookie-modal","any")}async optOut(){return!!t(".klaro .cn-decline")||(this.settingsOpen||(t(".klaro .cn-learn-more"),await p(".klaro > .cookie-modal",2e3),this.settingsOpen=!0),!!t(".klaro .cn-decline")||(t(".cm-purpose:not(.cm-toggle-all) > input:not(.half-checked)",!0),t(".cm-btn-accept")))}async optIn(){return!!t(".klaro .cm-btn-accept-all")||(this.settingsOpen?(t(".cm-purpose:not(.cm-toggle-all) > input.half-checked",!0),t(".cm-btn-accept")):t(".klaro .cookie-notice .cm-btn-success"))}async test(){return await u("klaro.getManager().config.services.every(c => c.required || !klaro.getManager().consents[c.name])")}},new class extends C{constructor(){super("Uniconsent")}get prehideSelectors(){return[".unic",".modal:has(.unic)"]}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return i(".unic .unic-box,.unic .unic-bar")}async detectPopup(){return h(".unic .unic-box,.unic .unic-bar","any")}async optOut(){if(await p(".unic button",1e3),document.querySelectorAll(".unic button").forEach(e=>{const n=e.textContent;(n.includes("Manage Options")||n.includes("Optionen verwalten"))&&e.click()}),await p(".unic input[type=checkbox]",1e3)){await p(".unic button",1e3),document.querySelectorAll(".unic input[type=checkbox]").forEach(e=>{e.checked&&e.click()});for(const e of document.querySelectorAll(".unic button")){const n=e.textContent;for(const s of["Confirm Choices","Save Choices","Auswahl speichern"])if(n.includes(s))return e.click(),await P(500),!0}}return!1}async optIn(){return v(".unic #unic-agree")}async test(){return await P(1e3),!i(".unic .unic-box,.unic .unic-bar")}},new class extends C{constructor(){super("Conversant"),this.prehideSelectors=[".cmp-root"]}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return i(".cmp-root .cmp-receptacle")}async detectPopup(){return h(".cmp-root .cmp-receptacle","any")}async optOut(){if(!await v(".cmp-main-button:not(.cmp-main-button--primary)")||!await p(".cmp-view-tab-tabs"))return!1;await v(".cmp-view-tab-tabs > :first-child"),await v(".cmp-view-tab-tabs > .cmp-view-tab--active:first-child");for(const e of Array.from(document.querySelectorAll(".cmp-accordion-item"))){e.querySelector(".cmp-accordion-item-title").click(),await b(()=>!!e.querySelector(".cmp-accordion-item-content.cmp-active"),10,50);const n=e.querySelector(".cmp-accordion-item-content.cmp-active");n.querySelectorAll(".cmp-toggle-actions .cmp-toggle-deny:not(.cmp-toggle-deny--active)").forEach(s=>s.click()),n.querySelectorAll(".cmp-toggle-actions .cmp-toggle-checkbox:not(.cmp-toggle-checkbox--active)").forEach(s=>s.click())}return await t(".cmp-main-button:not(.cmp-main-button--primary)"),!0}async optIn(){return v(".cmp-main-button.cmp-main-button--primary")}async test(){return document.cookie.includes("cmp-data=0")}},new class extends C{constructor(){super("tiktok.com"),this.runContext={urlPattern:"tiktok"}}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}getShadowRoot(){const e=document.querySelector("tiktok-cookie-banner");return e?e.shadowRoot:null}async detectCmp(){return i("tiktok-cookie-banner")}async detectPopup(){return A(this.getShadowRoot().querySelector(".tiktok-cookie-banner"))}async optOut(){const e=this.getShadowRoot().querySelector(".button-wrapper button:first-child");return!!e&&(e.click(),!0)}async optIn(){const e=this.getShadowRoot().querySelector(".button-wrapper button:last-child");return!!e&&(e.click(),!0)}async test(){const e=document.cookie.match(/cookie-consent=([^;]+)/);if(!e)return!1;const n=JSON.parse(decodeURIComponent(e[1]));return Object.values(n).every(s=>typeof s!="boolean"||s===!1)}},new class extends C{constructor(){super("airbnb"),this.runContext={urlPattern:"^https://(www\\.)?airbnb\\.[^/]+/"},this.prehideSelectors=["div[data-testid=main-cookies-banner-container]",'div:has(> div:first-child):has(> div:last-child):has(> section [data-testid="strictly-necessary-cookies"])']}get hasSelfTest(){return!0}get isIntermediate(){return!1}get isCosmetic(){return!1}async detectCmp(){return i("div[data-testid=main-cookies-banner-container]")}async detectPopup(){return h("div[data-testid=main-cookies-banner-container","any")}async optOut(){let e;for(await v("div[data-testid=main-cookies-banner-container] button._snbhip0");e=document.querySelector("[data-testid=modal-container] button[aria-checked=true]:not([disabled])");)e.click();return v("button[data-testid=save-btn]")}async optIn(){return v("div[data-testid=main-cookies-banner-container] button._148dgdpk")}async test(){return await b(()=>!!document.cookie.match("OptanonAlertBoxClosed"),20,200)}}];class f{static setBase(n){f.base=n}static findElement(n,s=null,a=!1){let d=null;return d=s!=null?Array.from(s.querySelectorAll(n.selector)):f.base!=null?Array.from(f.base.querySelectorAll(n.selector)):Array.from(document.querySelectorAll(n.selector)),n.textFilter!=null&&(d=d.filter(M=>{const N=M.textContent.toLowerCase();if(Array.isArray(n.textFilter)){let L=!1;for(const U of n.textFilter)if(N.indexOf(U.toLowerCase())!==-1){L=!0;break}return L}if(n.textFilter!=null)return N.indexOf(n.textFilter.toLowerCase())!==-1})),n.styleFilters!=null&&(d=d.filter(M=>{const N=window.getComputedStyle(M);let L=!0;for(const U of n.styleFilters){const F=N[U.option];L=U.negated?L&&F!==U.value:L&&F===U.value}return L})),n.displayFilter!=null&&(d=d.filter(M=>n.displayFilter?M.offsetHeight!==0:M.offsetHeight===0)),n.iframeFilter!=null&&(d=d.filter(()=>n.iframeFilter?window.location!==window.parent.location:window.location===window.parent.location)),n.childFilter!=null&&(d=d.filter(M=>{const N=f.base;f.setBase(M);const L=f.find(n.childFilter);return f.setBase(N),L.target!=null})),a?d:(d.length>1&&console.warn("Multiple possible targets: ",d,n,s),d[0])}static find(n,s=!1){const a=[];if(n.parent!=null){const d=f.findElement(n.parent,null,s);if(d!=null){if(d instanceof Array)return d.forEach(M=>{const N=f.findElement(n.target,M,s);N instanceof Array?N.forEach(L=>{a.push({parent:M,target:L})}):a.push({parent:M,target:N})}),a;{const M=f.findElement(n.target,d,s);M instanceof Array?M.forEach(N=>{a.push({parent:d,target:N})}):a.push({parent:d,target:M})}}}else{const d=f.findElement(n.target,null,s);d instanceof Array?d.forEach(M=>{a.push({parent:null,target:M})}):a.push({parent:null,target:d})}return a.length===0&&a.push({parent:null,target:null}),s?a:(a.length!==1&&console.warn("Multiple results found, even though multiple false",a),a[0])}}function O(e){const n=f.find(e);return e.type==="css"?!!n.target:e.type==="checkbox"?!!n.target&&n.target.checked:void 0}async function l(e,n){switch(e.type){case"click":return async function(s){const a=f.find(s);return a.target!=null&&a.target.click(),k(0)}(e);case"list":return async function(s,a){for(const d of s.actions)await l(d,a)}(e,n);case"consent":return async function(s,a){for(const d of s.consents){const M=a.indexOf(d.type)!==-1;d.matcher&&d.toggleAction?O(d.matcher)!==M&&await l(d.toggleAction):M?await l(d.trueAction):await l(d.falseAction)}}(e,n);case"ifcss":return async function(s,a){f.find(s).target?s.falseAction&&await l(s.falseAction,a):s.trueAction&&await l(s.trueAction,a)}(e,n);case"waitcss":return async function(s){await new Promise(a=>{let d=s.retries||10;const M=s.waitTime||250,N=()=>{const L=f.find(s);(s.negated&&L.target||!s.negated&&!L.target)&&d>0?(d-=1,setTimeout(N,M)):a()};N()})}(e);case"foreach":return async function(s,a){const d=f.find(s,!0),M=f.base;for(const N of d)N.target&&(f.setBase(N.target),await l(s.action,a));f.setBase(M)}(e,n);case"hide":return async function(s){const a=f.find(s);a.target&&a.target.classList.add("Autoconsent-Hidden")}(e);case"slide":return async function(s){const a=f.find(s),d=f.find(s.dragTarget);if(a.target){const M=a.target.getBoundingClientRect(),N=d.target.getBoundingClientRect();let L=N.top-M.top,U=N.left-M.left;this.config.axis.toLowerCase()==="y"&&(U=0),this.config.axis.toLowerCase()==="x"&&(L=0);const F=window.screenX+M.left+M.width/2,B=window.screenY+M.top+M.height/2,j=M.left+M.width/2,$=M.top+M.height/2,W=document.createEvent("MouseEvents");W.initMouseEvent("mousedown",!0,!0,window,0,F,B,j,$,!1,!1,!1,!1,0,a.target);const z=document.createEvent("MouseEvents");z.initMouseEvent("mousemove",!0,!0,window,0,F+U,B+L,j+U,$+L,!1,!1,!1,!1,0,a.target);const V=document.createEvent("MouseEvents");V.initMouseEvent("mouseup",!0,!0,window,0,F+U,B+L,j+U,$+L,!1,!1,!1,!1,0,a.target),a.target.dispatchEvent(W),await this.waitTimeout(10),a.target.dispatchEvent(z),await this.waitTimeout(10),a.target.dispatchEvent(V)}}(e);case"close":return async function(){window.close()}();case"wait":return async function(s){await k(s.waitTime)}(e);case"eval":return async function(s){return console.log("eval!",s.code),new Promise(a=>{try{s.async?(window.eval(s.code),setTimeout(()=>{a(window.eval("window.__consentCheckResult"))},s.timeout||250)):a(window.eval(s.code))}catch(d){console.warn("eval error",d,s.code),a(!1)}})}(e);default:throw"Unknown action type: "+e.type}}f.base=null;function k(e){return new Promise(n=>{setTimeout(()=>{n()},e)})}class R{constructor(n,s){this.name=n,this.config=s,this.methods=new Map,this.runContext=T,this.isCosmetic=!1,s.methods.forEach(a=>{a.action&&this.methods.set(a.name,a.action)}),this.hasSelfTest=!1}get isIntermediate(){return!1}checkRunContext(){return!0}async detectCmp(){return this.config.detectors.map(n=>O(n.presentMatcher)).some(n=>!!n)}async detectPopup(){return this.config.detectors.map(n=>O(n.showingMatcher)).some(n=>!!n)}async executeAction(n,s){return!this.methods.has(n)||l(this.methods.get(n),s)}async optOut(){return await this.executeAction("HIDE_CMP"),await this.executeAction("OPEN_OPTIONS"),await this.executeAction("HIDE_CMP"),await this.executeAction("DO_CONSENT",[]),await this.executeAction("SAVE_CONSENT"),!0}async optIn(){return await this.executeAction("HIDE_CMP"),await this.executeAction("OPEN_OPTIONS"),await this.executeAction("HIDE_CMP"),await this.executeAction("DO_CONSENT",["D","A","B","E","F","X"]),await this.executeAction("SAVE_CONSENT"),!0}async openCmp(){return await this.executeAction("HIDE_CMP"),await this.executeAction("OPEN_OPTIONS"),!0}async test(){return!0}}g=y,r.ZP=class{constructor(e,n=null,s=null){this.id=E(),this.rules=[],this.foundCmp=null,this.state={lifecycle:"loading",prehideOn:!1,findCmpAttempts:0,detectedCmps:[],detectedPopups:[],selfTest:null},m.sendContentMessage=e,this.sendContentMessage=e,this.rules=[...S],this.updateState({lifecycle:"loading"}),n?this.initialize(n,s):(s&&this.parseRules(s),e({type:"init",url:window.location.href}),this.updateState({lifecycle:"waitingForInitResponse"}))}initialize(e,n){if(this.config=e,e.enabled){if(n&&this.parseRules(n),this.rules=function(s,a){return s.filter(d=>(!a.disabledCmps||!a.disabledCmps.includes(d.name))&&(a.enableCosmeticRules||!d.isCosmetic))}(this.rules,e),e.enablePrehide)if(document.documentElement)this.prehideElements();else{const s=()=>{window.removeEventListener("DOMContentLoaded",s),this.prehideElements()};window.addEventListener("DOMContentLoaded",s)}if(document.readyState==="loading"){const s=()=>{window.removeEventListener("DOMContentLoaded",s),this.start()};window.addEventListener("DOMContentLoaded",s)}else this.start();this.updateState({lifecycle:"initialized"})}}parseRules(e){Object.keys(e.consentomatic).forEach(n=>{this.addConsentomaticCMP(n,e.consentomatic[n])}),e.autoconsent.forEach(n=>{this.addCMP(n)})}addCMP(e){this.rules.push(y(e))}addConsentomaticCMP(e,n){this.rules.push(new R(`com_${e}`,n))}start(){window.requestIdleCallback?window.requestIdleCallback(()=>this._start(),{timeout:500}):this._start()}async _start(){this.updateState({lifecycle:"started"});const e=await this.findCmp(this.config.detectRetries);if(this.updateState({detectedCmps:e.map(s=>s.name)}),e.length===0)return this.config.enablePrehide&&this.undoPrehide(),this.updateState({lifecycle:"nothingDetected"}),!1;this.updateState({lifecycle:"cmpDetected"});let n=await this.detectPopups(e.filter(s=>!s.isCosmetic));if(n.length===0&&(n=await this.detectPopups(e.filter(s=>s.isCosmetic))),n.length===0)return this.config.enablePrehide&&this.undoPrehide(),!1;if(this.updateState({lifecycle:"openPopupDetected"}),n.length>1){const s={msg:"Found multiple CMPs, check the detection rules.",cmps:n.map(a=>a.name)};this.sendContentMessage({type:"autoconsentError",details:s})}return this.foundCmp=n[0],this.config.autoAction==="optOut"?await this.doOptOut():this.config.autoAction!=="optIn"||await this.doOptIn()}async findCmp(e){this.updateState({findCmpAttempts:this.state.findCmpAttempts+1});const n=[];for(const s of this.rules)try{if(!s.checkRunContext())continue;await s.detectCmp()&&(this.sendContentMessage({type:"cmpDetected",url:location.href,cmp:s.name}),n.push(s))}catch{}return n.length===0&&e>0?new Promise(s=>{setTimeout(async()=>{const a=this.findCmp(e-1);s(a)},500)}):n}async detectPopups(e){const n=[],s=e.map(a=>this.waitForPopup(a).then(d=>{d&&(this.updateState({detectedPopups:this.state.detectedPopups.concat([a.name])}),this.sendContentMessage({type:"popupFound",cmp:a.name,url:location.href}),n.push(a))}).catch(()=>null));return await Promise.all(s),n}async doOptOut(){let e;return this.updateState({lifecycle:"runningOptOut"}),e=!!this.foundCmp&&await this.foundCmp.optOut(),this.config.enablePrehide&&this.undoPrehide(),this.sendContentMessage({type:"optOutResult",cmp:this.foundCmp?this.foundCmp.name:"none",result:e,scheduleSelfTest:this.foundCmp&&this.foundCmp.hasSelfTest,url:location.href}),e&&!this.foundCmp.isIntermediate?(this.sendContentMessage({type:"autoconsentDone",cmp:this.foundCmp.name,isCosmetic:this.foundCmp.isCosmetic,url:location.href}),this.updateState({lifecycle:"done"})):this.updateState({lifecycle:e?"optOutSucceeded":"optOutFailed"}),e}async doOptIn(){let e;return this.updateState({lifecycle:"runningOptIn"}),e=!!this.foundCmp&&await this.foundCmp.optIn(),this.config.enablePrehide&&this.undoPrehide(),this.sendContentMessage({type:"optInResult",cmp:this.foundCmp?this.foundCmp.name:"none",result:e,scheduleSelfTest:!1,url:location.href}),e&&!this.foundCmp.isIntermediate?(this.sendContentMessage({type:"autoconsentDone",cmp:this.foundCmp.name,isCosmetic:this.foundCmp.isCosmetic,url:location.href}),this.updateState({lifecycle:"done"})):this.updateState({lifecycle:e?"optInSucceeded":"optInFailed"}),e}async doSelfTest(){let e;return e=!!this.foundCmp&&await this.foundCmp.test(),this.sendContentMessage({type:"selfTestResult",cmp:this.foundCmp?this.foundCmp.name:"none",result:e,url:location.href}),this.updateState({selfTest:e}),e}async waitForPopup(e,n=5,s=500){const a=await e.detectPopup();return!a&&n>0?new Promise(d=>setTimeout(()=>d(this.waitForPopup(e,n-1,s)),s)):a}prehideElements(){const e=this.rules.reduce((n,s)=>s.prehideSelectors?[...n,...s.prehideSelectors]:n,["#didomi-popup,.didomi-popup-container,.didomi-popup-notice,.didomi-consent-popup-preferences,#didomi-notice,.didomi-popup-backdrop,.didomi-screen-medium"]);return this.updateState({prehideOn:!0}),function(n){return _(o("autoconsent-prehide"),n,"opacity")}(e)}undoPrehide(){return this.updateState({prehideOn:!1}),function(){const e=o("autoconsent-prehide");return e&&e.remove(),!!e}()}updateState(e){Object.assign(this.state,e),this.sendContentMessage({type:"report",instanceId:this.id,url:window.location.href,mainFrame:window.top===window.self,state:this.state})}async receiveMessageCallback(e){switch(e.type){case"initResp":this.initialize(e.config,e.rules);break;case"optIn":await this.doOptIn();break;case"optOut":await this.doOptOut();break;case"selfTest":await this.doSelfTest();break;case"evalResp":(function(n,s){const a=m.pending.get(n);a?(m.pending.delete(n),a.timer&&window.clearTimeout(a.timer),a.resolve(s)):console.warn("no eval #",n)})(e.id,e.result)}}},g=S},23418:(D,r,g)=>{"use strict";var E=m(g(77084)),w=g(54782);function m(o){return o&&o.__esModule?o:{default:o}}/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(0,w.registerContentScript)({module:"adblocker",matches:["http://*/*","https://*/*"],matchAboutBlank:!0,allFrames:!0,js:[(o,_,b)=>{(0,E.default)(o,!0,async A=>await b.app.modules.adblocker.action("getCosmeticsFilters",A)||{})}]})},30895:()=>{"use strict";/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */},13631:(D,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var g={platform:"webextension",brocfile:"Brocfile.ghostery.js",baseURL:"/cliqz/",pack:"npm pack",publish:'echo "Uploading version: browser-core-$PACKAGE_VERSION.tgz" && aws s3 cp browser-core-$PACKAGE_VERSION.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz --acl public-read && aws s3 cp s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH/latest.tgz --acl public-read',sourceMaps:!1,format:"common",settings:{BACKGROUND_IMAGE_URL:"https://cdn.ghostery.net/brands-database/database/",CDN_BASEURL:"https://cdn.ghostery.net",ADBLOCKER_BASE_URL:"https://cdn.ghostery.com/adblocker/configs",ANTITRACKING_BASE_URL:"https://cdn.ghostery.com/antitracking",CONFIG_PROVIDER:"https://api.ghostery.net/api/v1/config",ENDPOINT_ANONPATTERNSURL:"https://cdn2.ghostery.com/human-web-chromium/patterns-anon.gz",ENDPOINT_HPNV2_DIRECT:"https://collector-hpn.ghostery.net",ENDPOINT_HPNV2_ANONYMOUS:"https://collector-hpn.ghostery.net",ENDPOINT_HUMAN_WEB_PATTERNS:"https://cdn2.ghostery.com/human-web-chromium/hw-patterns.gz",ENDPOINT_PATTERNSURL:"https://cdn2.ghostery.com/human-web-chromium/patterns.gz",ENDPOINT_SAFE_QUORUM_ENDPOINT:"https://safe-browsing-quorum.privacy.ghostery.net/",ENDPOINT_SAFE_QUORUM_PROVIDER:"https://safe-browsing-quorum.privacy.ghostery.net/config",FEEDBACK:"https://ghostery.net/feedback/",PRIVACY_SCORE_URL:"https://anti-tracking.ghostery.net/api/v1/score?",TRACKER_SCORE_URL:"https://cdn.ghostery.net/privacy-score/privacy_score.json",RESULTS_PROVIDER:"https://api.ghostery.net/api/v2/results?nrh=1&q=",RESULTS_PROVIDER_LOG:"https://api.ghostery.net/api/v1/logging?q=",RICH_HEADER:"https://api.ghostery.net/api/v2/rich-header?path=/v2/map",ROTATED_TOP_NEWS:"rotated-top-news.ghostery.net",SAFE_BROWSING:"https://safe-browsing.ghostery.net",STATISTICS:"https://stats.ghostery.net",SUGGESTIONS_URL:"https://ghostery.net/search?q=",UNINSTALL:"https://ghostery.net/home/offboarding",WTM_API:"https://whotracks.me/data/",SUPPORT_URL:"https://www.ghostery.com/support/",PRIVACY_POLICY_URL:"https://www.ghostery.com/about-ghostery/privacy-statements/",NEW_TAB_URL:"/freshtab/home.html",channel:"CH80",MSGCHANNEL:"web-extension",URL_CHANGED_EVENT_DEBOUNCE:500,ATTRACK_TELEMETRY_PROVIDER:"hpnv2",HW_CHANNEL:"ghostery",ALLOWED_COUNTRY_CODES:["ar","at","au","be","br","ca","ch","cn","cz","de","dk","es","fi","fr","gb","gr","hu","id","in","it","jp","kr","mx","nl","no","nz","ph","pl","pt","ro","ru","se","sg","tr","tw","ua","us"],antitrackingPlaceholder:"ghostery",antitrackingHeader:"Ghostery-AntiTracking",HUMAN_WEB_LITE_COLLECTOR_VIA_PROXY:"https://collector-hpn.ghostery.net",HUMAN_WEB_LITE_COLLECTOR_DIRECT:"https://collector-hpn.ghostery.net",HUMAN_WEB_LITE_PATTERNS:"https://cdn2.ghostery.com/human-web-android/patterns.json",HUMAN_WEB_LITE_AUTO_TRIGGER:!0,frameScriptWhitelist:["http://localhost:3000/"]},default_prefs:{"modules.human-web.enabled":!0,"modules.antitracking.enabled":!0,"modules.adblocker.enabled":!0,"modules.insights.enabled":!1,"cliqz-adb":1,attrackBloomFilter:!0,humanWeb:!0,attrackTelemetryMode:1,attrackDefaultAction:"placeholder",sendAntiTrackingHeader:!1,attrackCookieTrustReferers:!0,"attrack.cookieMode":"ghostery"},bundles:["core/content-script.bundle.js","hpnv2/worker.wasm.bundle.js","hpnv2/worker.asmjs.bundle.js","human-web/rusha.bundle.js"],modules:["core","human-web","hpnv2","antitracking","webrequest-pipeline","adblocker","insights","hpn-lite","human-web-lite"],environment:"development",isBeta:!1,EXTENSION_VERSION:"1.3.1",VERSION:"1.3.1"};r.default=g},33102:(D,r,g)=>{"use strict";g(30265);var E=w(g(5131));function w(m){return m&&m.__esModule?m:{default:m}}/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(0,E.default)()},76414:(D,r,g)=>{"use strict";var E=g(68398),w=g(54782);/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function m(i){let h=i.target,p;try{for(let v=0;v<5;v+=1){if(p=h.innerHTML,p.indexOf("http://")!==-1||p.indexOf("https://")!==-1)return p;h=h.parentNode,v+=1}}catch{}}function o(i,h){const p=[];if(window.parent!==window&&window.document&&window.document.scripts)for(let C=0;C<window.document.scripts.length;C+=1){const x=window.document.scripts[C].src;x.startsWith("http")&&p.push(x)}let v=i.target;v.nodeType!==1&&(v=v.parentNode);let P=null;v.closest("a[href]")&&(P=v.closest("a[href]").getAttribute("href"));const T={target:{baseURI:i.target.baseURI,value:i.target.value,href:i.target.href,parentNode:{href:i.target.parentNode?i.target.parentNode.href:null},linksSrc:p}};h.app.modules.core.action("recordMouseDown",T,m(i),P)}function _(i,h){if(!(0,E.isTopWindow)(i))return;const p=i.document.getElementsByTagName("html").item(0).getAttribute("lang"),v=i.document.querySelector("title"),P=i.document.querySelector("meta[name=description]"),T=i.document.querySelector('meta[property="og:title"]'),C=i.document.querySelector('meta[property="og:description"]'),x=i.document.querySelector('meta[property="og:image"]');h.app.modules.core.action("recordMeta",i.location.href,{title:v&&v.innerHTML,description:P&&P.content,ogTitle:T&&T.content,ogDescription:C&&C.content,ogImage:x&&x.content,lang:p})}function b(){return window.document.documentElement.outerHTML}function A(i){const h=window.document.querySelector(i);try{return h.click(),!0}catch{return!1}}function u(i,h,{shadowRootSelector:p=null,attributeType:v="property"}={}){const P=p?window.document.querySelector(p).shadowRoot:window.document,T=h.split(","),C=(x,I)=>v==="property"?x[I]:x.getAttribute(I);return Array.prototype.map.call(P.querySelectorAll(i),x=>T.length>1?T.reduce((I,c)=>({...I,[c]:C(x,c)}),{}):C(x,h))}function t(i){const h=window.document;return Array.prototype.map.call(h.querySelectorAll(i),p=>window.getComputedStyle(p))}(0,w.registerContentScript)({module:"core",matches:["<all_urls>"],allFrames:!0,matchAboutBlank:!0,js:[(i,h,p)=>{const v=T=>{o(T,p)};i.addEventListener("mousedown",v);const P=()=>{_(i,p)};return i.addEventListener("DOMContentLoaded",P),i.addEventListener("pagehide",()=>{i.removeEventListener("mousedown",v),i.removeEventListener("DOMContentLoaded",P)},{once:!0}),{getHTML:b,click:A,queryHTML:u,queryComputedStyle:t}}]})},48958:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var E=m(g(90607)),w=m(g(60132));function m(A){return A&&A.__esModule?A:{default:A}}function o(A,u,t){return u in A?Object.defineProperty(A,u,{value:t,enumerable:!0,configurable:!0,writable:!0}):A[u]=t,A}class _{constructor(){o(this,"MAX_BUFFER_LEN",5e3),this.buffer=[],this.onMessage=u=>this.buffer.length<this.MAX_BUFFER_LEN?new Promise((t,i)=>{this.buffer.push({message:u,resolve:t,reject:i})}):Promise.reject(new Error(`content-script actions buffer limit exceeded: ${this.buffer.length} ${this.MAX_BUFFER_LEN}`))}init(){w.default.onMessage.addListener(this.onMessage)}unload(){w.default.onMessage.removeListener(this.onMessage)}}class b{constructor(){this.actions=null,this.messageHandlers=[new _];for(const u of this.messageHandlers)u.init()}unload(){for(const u of this.messageHandlers)u.unload();this.messageHandlers=[]}setActionCallbacks(u){const t=this.messageHandlers[0].buffer;this.unload();for(const[i,h]of Object.entries(u)){const p=new E.default(i,h);for(const{message:v,resolve:P,reject:T}of t){const C=p.onMessage(v);C!==void 0&&C.then(P).catch(T)}p.init(),this.messageHandlers.push(p)}}}r.default=b},77202:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var E=g(93509),w=m(g(13631));function m(b){return b&&b.__esModule?b:{default:b}}/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function o(){}var _=w.default.environment==="development"?E.window.console:new Proxy({},{get(){return o}});r.default=_},68398:(D,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.documentBodyReady=E,r.isTopWindow=g;/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function g(w){return w.self===w.top}function E(){return window.document&&window.document.body?Promise.resolve():new Promise(w=>{window.addEventListener("DOMContentLoaded",w,{once:!0})})}},44361:(D,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=A;/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const g=new Set(["http","https","ws","wss","ftp","ftps","data","file"]),E=/^[.\w_-]+$/;function w(u){return u.replace(/([|.$+?{}()[\]\\])/g,"\\$1").replace(/\*/g,".*")}function m(u){if(u==="*")return new Set(["http","https","ws","wss"]);if(g.has(u))return new Set([u]);throw new Error(`<scheme> is not valid: ${u}`)}function o(u,t){if(t.includes(":"))throw new Error("<host> must not include a port number");if(t.length===0){if(u==="file")return/^$/;throw new Error('<host> is optional only if the scheme is "file"')}const i=t.lastIndexOf("*");if(i!==-1){if(t==="*")return null;if(i!==0)throw new Error("<host> wildcard may only appear at the start");if(t[1]!==".")throw new Error('<host> only "*" and "*." followed by hostname parts are valid');const h=t.slice(2);if(E.test(h)===!1)throw new Error("<host> contains invalid characters");return new RegExp(`^(?:.*[.])?${w(h)}$`)}if(E.test(t)===!1)throw new Error("<host> contains invalid characters");return new RegExp(`^${w(t)}$`)}function _(u){return new RegExp(`^${w(u)}$`)}function b(u){if(u==="<all_urls>")return{scheme:g,host:null,path:null};const t=u.indexOf("://");if(t===-1)throw new Error('<scheme> missing, "://" not found');const i=u.slice(0,t),h=m(i),p=u.indexOf("/",t+3);if(p===-1)throw new Error('<path> missing, "/" not found');const v=u.slice(t+3,p),P=o(i,v),T=u.slice(p+1),C=_(T);return{scheme:h,host:P,path:C}}function A(u,t){const{protocol:i,hostname:h,pathname:p,search:v}=new URL(t),P=b(u);return!(P.scheme.has(i.slice(0,i.length-1))===!1||P.host!==null&&P.host.test(h)===!1||P.path!==null&&P.path.test(`${p.slice(1)}${v}`)===!1)}},54782:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.registerContentScript=A,r.runContentScripts=u;var E=o(g(44361)),w=g(68398),m=o(g(77202));function o(t){return t&&t.__esModule?t:{default:t}}/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function _(t,i){if((0,w.isTopWindow)(t)===!1&&i.allFrames!==!0)return!1;let h=t.location.href;if(h==="about:blank"||h==="about:srcdoc"){if(i.matchAboutBlank!==!0||!t.parent)return!1;h=t.parent.location.href}if(i.excludeMatches!==void 0){for(const p of i.excludeMatches)if((0,E.default)(p,h))return!1}for(const p of i.matches)if((0,E.default)(p,h))return!0;return!1}const b=[];function A(t){if(t.module===void 0){m.default.error('"module" property should be specified in content.es',t);return}if(Array.isArray(t.js)===!1){m.default.error('"js" should be an array of functions',t);return}if(Array.isArray(t.matches)===!1){m.default.error('"matches" should be an array of match patterns',t);return}if(t.excludeMatches!==void 0&&Array.isArray(t.excludeMatches)===!1){m.default.error('"excludeMatches" should either be undefined or an array of match patterns',t);return}b.push(t)}function u(t,i,h){const p={};for(const v of b){const{module:P,js:T}=v,{isEnabled:C}=h.app.modules[P]||{isEnabled:!1};if(C&&_(t,v))for(const x of T)try{const I=x(t,i,h)||{};p[P]={...p[P],...I}}catch(I){m.default.error(`CLIQZ content-script failed: ${I} ${I.stack}`)}}return p}},5131:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=u;var E=g(93509),w=_(g(60132)),m=_(g(48958)),o=g(54782);function _(t){return t&&t.__esModule?t:{default:t}}/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function b(){return w.default.sendMessage({module:"core",action:"status"}).then(t=>({app:t}))}function A(){return new Promise(t=>{E.window.CLIQZ!==void 0?t(E.window.CLIQZ):(E.window.runCliqz=t,b().then(t,()=>{}))})}function u(){if(E.window.document.documentElement.nodeName.toLowerCase()!=="html")return;const t=new m.default;A().then(i=>{for(const[h,p]of Object.entries(i.app.modules))p.action=(v,...P)=>w.default.sendMessage({module:h,action:v,args:P});t.setActionCallbacks((0,o.runContentScripts)(E.window,E.chrome,i)),E.window.addEventListener("pagehide",()=>{t.unload()},{once:!0})})}},61118:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deadline=b,r.debounce=_,r.nextIdle=u,r.nextTick=A,r.throttle=o,r.tryPromise=i,r.withTimeout=t;var E=m(g(42514)),w=g(98481);function m(h){return h&&h.__esModule?h:{default:h}}/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function o(h,p,v){let P,T;return(...C)=>{const x=Date.now();P&&x<P+v?(h.clearTimeout(T),T=h.setTimeout(()=>{P=x,p(...C)},v)):(P=x,p(...C))}}function _(h,p){let v=null;return p?function(...T){(0,w.clearTimeout)(v);const C=()=>{v=null,h(...T)};v=(0,w.setTimeout)(C,p)}:h}function b(h,p){return Promise.race([(0,E.default)(p),h])}function A(h,...p){return Promise.resolve().then(()=>h(...p))}function u(){return typeof window>"u"||!window.requestIdleCallback?A(()=>{}):new Promise(h=>{window.requestIdleCallback(h)})}async function t(h,p){let v;try{return v=new Promise((P,T)=>{(0,w.setTimeout)(()=>T(new Error(`Timed out after ${p/1e3} seconds`)),p)}),await Promise.race([h,v])}finally{(0,w.clearTimeout)(v)}}async function i(h,p=1e3){try{return await t(h,p)}catch(v){return`Failed: ${v}`}}},90607:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var E=w(g(60132));function w(o){return o&&o.__esModule?o:{default:o}}/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class m{constructor(_,b){this.onMessage=A=>{if(A.module===_){const u=b[A.action];if(u!==void 0){let t=A.args||[];return A.message!==void 0&&(t=[A.message]),Promise.resolve(u(...t))}}}}init(){E.default.onMessage.addListener(this.onMessage)}unload(){E.default.onMessage.removeListener(this.onMessage)}}r.default=m},42514:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=w;var E=g(98481);/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function w(m){return new Promise(o=>(0,E.setTimeout)(o,m))}},98481:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"clearInterval",{enumerable:!0,get:function(){return E.clearInterval}}),Object.defineProperty(r,"clearTimeout",{enumerable:!0,get:function(){return E.clearTimeout}}),Object.defineProperty(r,"setInterval",{enumerable:!0,get:function(){return E.setInterval}}),Object.defineProperty(r,"setTimeout",{enumerable:!0,get:function(){return E.setTimeout}});var E=g(6353)},33390:(D,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeAclkUrl=g;/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function g(E){const w=new URL(E,"https://www.googleadservices.com");if(w.pathname!=="/pagead/aclk"&&w.pathname!=="/aclk")throw new Error(`Expected Google pagead "aclk" URL. Instead got: ${E}`);const m=_=>!["ved","dct"].includes(_[0]);return[...w.searchParams].filter(m).sort().map(_=>_.join("=")).join("&")}},1916:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseDom=A;var E=_(g(60132)),w=g(54782),m=g(61118),o=g(33390);function _(t){return t&&t.__esModule?t:{default:t}}/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function b(t){window.console.error("[human-web] Exception caught:",t)}function A(t,i,h){const p=i.document;try{let v=null;if(v=p.querySelector("script"),v&&v.innerHTML.indexOf("location.replace")>-1){const P=p.querySelector("title").textContent;E.default.sendMessage({module:"human-web",action:"jsRedirect",args:[{message:{location:P,url:p.location.href}}]})}}catch(v){b(v)}try{let v="",P=!1;p.querySelector("#s0p1c0")&&(v=p.querySelector("#s0p1c0").href),p.querySelector("#tads .ads-ad")&&p.querySelector("#tads .ads-ad").offsetParent===null&&(P=!0);const T={type:"dom",ad:v,hidden:P};h.action("contentScriptTopAds",{message:T})}catch(v){b(v)}try{const v={},P=i.document;let T=0;const C={query:{element:"#rso",attribute:"data-async-context"},adSections:["#tads div[data-text-ad]",".pla-unit-container",".pla-hovercard-content-ellip",".cu-container tr"],0:{cu:"a",cuAttr:"data-rw",fu:"a"},1:{cu:"a[id^='plaurlg']",fu:"a[id^='vplaurlg']"},2:{cu:"a[id^='plaurlh']",fu:"a[id^='vplaurlh']"},3:{cu:"a[id^='plaurlt']",fu:"a[id^='vplaurlt']"}},x=P.querySelector(C.query.element);let I="";if(x){I=x.getAttribute(C.query.attribute).replace("query:","");try{I=decodeURIComponent(I)}catch{}}C.adSections.forEach((c,y)=>{Array.prototype.slice.call(P.querySelectorAll(c)).forEach(f=>{const O=C[y].cu,l=C[y].fu,k=f.querySelector(O),R=f.querySelector(l);if(k&&R){const e=C[y].cuAttr||"href",n=(0,o.normalizeAclkUrl)(k.getAttribute(e)),s=C[y].fuAttr||"href";v[n]={ts:Date.now(),query:I,furl:[R.getAttribute("data-preconnect-urls"),R.getAttribute(s)]},T+=1}})}),T>0&&h.action("adClick",{ads:v})}catch(v){b(v)}}function u(t,i,h){const p=t.location.href,v=h.app.modules["human-web"];t.top===t&&t.addEventListener("DOMContentLoaded",()=>{A(p,t,v)});function P(y){return S=>{v.action(y,{target:{baseURI:S.target.baseURI}})}}const T=(0,m.throttle)(t,P("hw:keypress"),250),C=(0,m.throttle)(t,P("hw:mousemove"),250),x=(0,m.throttle)(t,P("hw:scroll"),250),I=(0,m.throttle)(t,P("hw:copy"),250);t.addEventListener("keypress",T),t.addEventListener("mousemove",C),t.addEventListener("scroll",x),t.addEventListener("copy",I);function c(y){if(!(y&&y.target!==t.document)){try{String(t)}catch{return}t.removeEventListener("keypress",T),t.removeEventListener("mousemove",C),t.removeEventListener("scroll",x),t.removeEventListener("copy",I)}}t.addEventListener("pagehide",c)}(0,w.registerContentScript)({module:"human-web",matches:["http://*/*","https://*/*"],js:[u],allFrames:!0})},52562:(D,r,g)=>{"use strict";var E=g(54782),w=g(98481);/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function m(_){const{host:b,hostname:A,pathname:u,protocol:t}=document.location,h=performance.timing.domContentLoadedEventStart-performance.timing.requestStart||0;_.app.modules.insights.action("recordPageInfo",{domain:`${t}//${b}${u}`,host:A,timestamp:performance.timing.navigationStart,latency:h,pageTiming:{timing:{navigationStart:performance.timing.navigationStart,loadEventEnd:performance.timing.loadEventEnd}}})}function o(_,b,A){document.readyState!=="complete"?_.addEventListener("load",()=>{(0,w.setTimeout)(()=>{m(A)},1)}):m(A)}(0,E.registerContentScript)({module:"insights",matches:["http://*/*","https://*/*"],js:[o]})},30265:(D,r,g)=>{"use strict";g(76414),g(1916),g(30895),g(23418),g(52562)},93509:(D,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.window=r.chrome=void 0;/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const g=typeof browser<"u"?browser:chrome;r.chrome=g;const E=window;r.window=E},77084:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return E.injectCosmetics}});var E=g(40542)},60132:(D,r,g)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var E=w(g(58133));function w(o){return o&&o.__esModule?o:{default:o}}/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */var m=(typeof browser<"u"?browser:E.default).runtime;r.default=m},6353:(D,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setTimeout=r.setInterval=r.clearTimeout=r.clearInterval=void 0;/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const g=(...o)=>(typeof setTimeout>"u"?window.setTimeout.bind(window):setTimeout)(...o);r.setTimeout=g;const E=(...o)=>(typeof setInterval>"u"?window.setInterval.bind(window):setInterval)(...o);r.setInterval=E;const w=(...o)=>(typeof clearTimeout>"u"?window.clearTimeout.bind(window):clearTimeout)(...o);r.clearTimeout=w;const m=(...o)=>(typeof clearInterval>"u"?window.clearInterval.bind(window):clearInterval)(...o);r.clearInterval=m},58133:function(D,r){var g,E,w;(function(m,o){if(!0)E=[D],g=o,w=typeof g=="function"?g.apply(r,E):g,w!==void 0&&(D.exports=w);else var _})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:this,function(m){"use strict";if(typeof browser>"u"||Object.getPrototypeOf(browser)!==Object.prototype){const o="The message port closed before a response was received.",_="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",b=A=>{const u={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(u).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class t extends WeakMap{constructor(k,R=void 0){super(R),this.createItem=k}get(k){return this.has(k)||this.set(k,this.createItem(k)),super.get(k)}}const i=l=>l&&typeof l=="object"&&typeof l.then=="function",h=(l,k)=>(...R)=>{A.runtime.lastError?l.reject(A.runtime.lastError):k.singleCallbackArg||R.length<=1&&k.singleCallbackArg!==!1?l.resolve(R[0]):l.resolve(R)},p=l=>l==1?"argument":"arguments",v=(l,k)=>function(e,...n){if(n.length<k.minArgs)throw new Error(`Expected at least ${k.minArgs} ${p(k.minArgs)} for ${l}(), got ${n.length}`);if(n.length>k.maxArgs)throw new Error(`Expected at most ${k.maxArgs} ${p(k.maxArgs)} for ${l}(), got ${n.length}`);return new Promise((s,a)=>{if(k.fallbackToNoCallback)try{e[l](...n,h({resolve:s,reject:a},k))}catch(d){console.warn(`${l} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,d),e[l](...n),k.fallbackToNoCallback=!1,k.noCallback=!0,s()}else k.noCallback?(e[l](...n),s()):e[l](...n,h({resolve:s,reject:a},k))})},P=(l,k,R)=>new Proxy(k,{apply(e,n,s){return R.call(n,l,...s)}});let T=Function.call.bind(Object.prototype.hasOwnProperty);const C=(l,k={},R={})=>{let e=Object.create(null),n={has(a,d){return d in l||d in e},get(a,d,M){if(d in e)return e[d];if(!(d in l))return;let N=l[d];if(typeof N=="function")if(typeof k[d]=="function")N=P(l,l[d],k[d]);else if(T(R,d)){let L=v(d,R[d]);N=P(l,l[d],L)}else N=N.bind(l);else if(typeof N=="object"&&N!==null&&(T(k,d)||T(R,d)))N=C(N,k[d],R[d]);else if(T(R,"*"))N=C(N,k[d],R["*"]);else return Object.defineProperty(e,d,{configurable:!0,enumerable:!0,get(){return l[d]},set(L){l[d]=L}}),N;return e[d]=N,N},set(a,d,M,N){return d in e?e[d]=M:l[d]=M,!0},defineProperty(a,d,M){return Reflect.defineProperty(e,d,M)},deleteProperty(a,d){return Reflect.deleteProperty(e,d)}},s=Object.create(l);return new Proxy(s,n)},x=l=>({addListener(k,R,...e){k.addListener(l.get(R),...e)},hasListener(k,R){return k.hasListener(l.get(R))},removeListener(k,R){k.removeListener(l.get(R))}});let I=!1;const c=new t(l=>typeof l!="function"?l:function(R,e,n){let s=!1,a,d=new Promise(U=>{a=function(F){I||(console.warn(_,new Error().stack),I=!0),s=!0,U(F)}}),M;try{M=l(R,e,a)}catch(U){M=Promise.reject(U)}const N=M!==!0&&i(M);if(M!==!0&&!N&&!s)return!1;const L=U=>{U.then(F=>{n(F)},F=>{let B;F&&(F instanceof Error||typeof F.message=="string")?B=F.message:B="An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:B})}).catch(F=>{console.error("Failed to send onMessage rejected reply",F)})};return L(N?M:d),!0}),y=({reject:l,resolve:k},R)=>{A.runtime.lastError?A.runtime.lastError.message===o?k():l(A.runtime.lastError):R&&R.__mozWebExtensionPolyfillReject__?l(new Error(R.message)):k(R)},S=(l,k,R,...e)=>{if(e.length<k.minArgs)throw new Error(`Expected at least ${k.minArgs} ${p(k.minArgs)} for ${l}(), got ${e.length}`);if(e.length>k.maxArgs)throw new Error(`Expected at most ${k.maxArgs} ${p(k.maxArgs)} for ${l}(), got ${e.length}`);return new Promise((n,s)=>{const a=y.bind(null,{resolve:n,reject:s});e.push(a),R.sendMessage(...e)})},f={runtime:{onMessage:x(c),onMessageExternal:x(c),sendMessage:S.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:S.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},O={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return u.privacy={network:{"*":O},services:{"*":O},websites:{"*":O}},C(A,f,u)};if(typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");m.exports=b(chrome)}else m.exports=browser})}},H={};function q(D){var r=H[D];if(r!==void 0)return r.exports;var g=H[D]={exports:{}};return G[D].call(g.exports,g,g.exports,q),g.exports}var K={};(()=>{"use strict";var D=q(33102),r=q(58665);function g(m){const o=document.createElement("ghostery-iframe-wrapper"),_=o.attachShadow({mode:"closed"}),b=document.createElement("template");b.innerHTML=`
    <iframe src="${m}" frameborder="0"></iframe>
    <style>
      :host {
        all: initial;
        display: flex !important;
        align-items: flex-end;
        position: fixed;
        top: 10px;
        right: 10px;
        left: 10px;
        bottom: 10px;
        z-index: 2147483647;
        pointer-events: none;
      }

      iframe {
        display: block;
        flex-grow: 1;
        width: min(100%, 440px);
        pointer-events: auto;
        box-shadow: 30px 60px 160px rgba(0, 0, 0, 0.4);
        border-radius: 16px;
        background: linear-gradient(90deg, rgba(0, 0, 0, 0.13) 0%, rgba(0, 0, 0, 0.27) 100%);
        opacity: 0;
        transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
        transform: translateY(20px);
      }

      iframe.active {
        opacity: 1;
        transform: translateY(0);
      }

      @media screen and (min-width: 640px) {
        :host {
          justify-content: flex-end;
          align-items: start;
        }

        iframe {
          flex-grow: 0;
          transform: translateY(-20px);
        }
      }
    </style>
  `,_.appendChild(b.content),document.documentElement.appendChild(o);const A=_.querySelector("iframe");setTimeout(()=>{A.classList.add("active")},100),window.addEventListener("message",u=>{var t;switch((t=u.data)==null?void 0:t.type){case"ghostery-resize-iframe":A.style.width=u.data.width+"px",A.style.height=u.data.height+"px";break;case"ghostery-close-iframe":u.data.reload?window.location.reload():setTimeout(()=>o.parentElement.removeChild(o),0);break;default:break}})}function E(m=!1){window.parent.postMessage({type:"ghostery-close-iframe",reload:m},"*")}function w({width:m,height:o}={}){m&&(document.body.style.width=m+"px"),o&&(document.body.style.height=o+"px"),new ResizeObserver(()=>{window.parent.postMessage({type:"ghostery-resize-iframe",width:document.body.clientWidth,height:document.body.clientHeight},"*")}).observe(document.body,{box:"border-box"})}if(document.contentType==="text/html"){const m=new r.ZP(_=>chrome.runtime.sendMessage({..._,action:"autoconsent"}));let o=!1;chrome.runtime.onMessage.addListener(_=>_.action==="autoconsent"?_.type==="openIframe"?(o||(g(chrome.runtime.getURL(`app/templates/autoconsent.html?host=${encodeURIComponent(_.domain)}&default=${_.defaultForAll?"all":""}`)),o=!0),!1):Promise.resolve(m.receiveMessageCallback(_)):!1)}})()})();

//# sourceMappingURL=content_script_bundle.js.map